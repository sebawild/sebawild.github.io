<div id="pf20" class="pf w0 h0" data-page-no="20"><div class="pc pc20 w0 h0"><div class="t m0 x6a hd y2e ff5 fs5 fc0 sc0 ls0 ws0">C<span class="_ _2"></span>.<span class="_ _e"> </span>Low-Level Implementations and Instruction Counts</div><div class="t m0 x205 h52 yaf5 ff8 fs23 fc0 sc0 ls0 ws0">1<span class="_ _1b"> </span><span class="ffb fs4">void<span class="_ _14"> </span><span class="ff16">quicksortYaroslavskiy<span class="ff8">(</span></span>int<span class="ff8">[]<span class="_ _1"> </span><span class="ff16">A</span>,<span class="_ _14"> </span></span>int<span class="_ _14"> </span><span class="ff16">left<span class="ff8">,<span class="_ _14"> </span></span></span>int<span class="_ _14"> </span><span class="ff16">right<span class="ff8">)<span class="_ _14"> </span>{</span></span></span></div><div class="t m0 x205 h52 yaf6 ff8 fs23 fc0 sc0 ls0 ws0">2<span class="_ _34"> </span><span class="ffb fs4">if<span class="_ _14"> </span><span class="ff8">(<span class="ff16">right<span class="_ _14"> </span></span>-<span class="_ _14"> </span><span class="ff16">left<span class="_ _14"> </span></span>&lt;<span class="_ _1"> </span><span class="ff16">M</span>)<span class="_ _e"> </span>{</span></span></div><div class="t m0 x205 h53 yaf7 ff8 fs23 fc0 sc0 ls0 ws0">3<span class="_ _55"> </span><span class="ff16 fs4">insertionsort<span class="ff8">(</span>A<span class="ff8">,<span class="_ _14"> </span></span>left<span class="ff8">,<span class="_ _1"> </span></span>right<span class="ff8">);</span></span></div><div class="t m0 x205 h52 yaf8 ff8 fs23 fc0 sc0 ls0 ws0">4<span class="_ _34"> </span><span class="fs4">}<span class="_ _14"> </span><span class="ffb">else<span class="_ _14"> </span></span>{</span></div><div class="t m0 x205 h52 yaf9 ff8 fs23 fc0 sc0 ls0 ws0">5<span class="_ _55"> </span><span class="ffb fs4">final<span class="_ _14"> </span>int<span class="_ _1"> </span><span class="ff16">p<span class="ff8">,<span class="_ _14"> </span></span>q<span class="ff8">;</span></span></span></div><div class="t m0 x205 h52 yafa ff8 fs23 fc0 sc0 ls0 ws0">6<span class="_ _55"> </span><span class="ffb fs4">if<span class="_ _14"> </span><span class="ff8">(<span class="ff16">A</span>[<span class="ff16">left</span>]<span class="_ _1"> </span>&gt;<span class="_ _14"> </span><span class="ff16">A</span>[<span class="ff16">right</span>])<span class="_ _14"> </span>{</span></span></div><div class="t m0 x205 h53 yafb ff8 fs23 fc0 sc0 ls0 ws0">7<span class="_ _67"> </span><span class="ff16 fs4">p<span class="_ _e"> </span><span class="ff8">=<span class="_ _14"> </span></span>A<span class="ff8">[</span>right<span class="ff8">];<span class="_ _1"> </span></span>q<span class="_ _14"> </span><span class="ff8">=<span class="_ _14"> </span></span>A<span class="ff8">[</span>left<span class="ff8">];</span></span></div><div class="t m0 x205 h52 yafc ff8 fs23 fc0 sc0 ls0 ws0">8<span class="_ _55"> </span><span class="fs4">}<span class="_ _14"> </span><span class="ffb">else<span class="_ _1"> </span></span>{</span></div><div class="t m0 x205 h53 yafd ff8 fs23 fc0 sc0 ls0 ws0">9<span class="_ _67"> </span><span class="ff16 fs4">p<span class="_ _e"> </span><span class="ff8">=<span class="_ _14"> </span></span>A<span class="ff8">[</span>left<span class="ff8">];<span class="_ _1"> </span></span>q<span class="_ _14"> </span><span class="ff8">=<span class="_ _14"> </span></span>A<span class="ff8">[</span>right<span class="ff8">];</span></span></div><div class="t m0 x206 h53 yafe ff8 fs23 fc0 sc0 ls0 ws0">10<span class="_ _55"> </span><span class="fs4">}</span></div><div class="t m0 x206 h52 yaff ff8 fs23 fc0 sc0 ls0 ws0">11<span class="_ _55"> </span><span class="ffb fs4">int<span class="_ _14"> </span><span class="ff16">l<span class="_ _1"> </span><span class="ff8">=<span class="_ _14"> </span></span>left<span class="_ _14"> </span><span class="ff8">+<span class="_ _14"> </span>1,<span class="_ _14"> </span></span>g<span class="_ _14"> </span><span class="ff8">=<span class="_ _1"> </span></span>right<span class="_ _e"> </span><span class="ff8">-<span class="_ _1"> </span>1,<span class="_ _14"> </span></span>k<span class="_ _14"> </span><span class="ff8">=<span class="_ _14"> </span></span>l<span class="ff8">;</span></span></span></div><div class="t m0 x206 h52 yb00 ff8 fs23 fc0 sc0 ls0 ws0">12<span class="_ _55"> </span><span class="ffb fs4">while<span class="ff8">(<span class="_ _14"> </span><span class="ff16">k<span class="_ _1"> </span></span>&lt;=<span class="_ _14"> </span><span class="ff16">g<span class="_ _14"> </span></span>)<span class="_ _14"> </span>{</span></span></div><div class="t m0 x206 h52 yb01 ff8 fs23 fc0 sc0 ls0 ws0">13<span class="_ _67"> </span><span class="ffb fs4">final<span class="_ _e"> </span>int<span class="_ _14"> </span><span class="ff16">ak<span class="_ _1"> </span><span class="ff8">=<span class="_ _14"> </span></span>A<span class="ff8">[</span>k<span class="ff8">];</span></span></span></div><div class="t m0 x206 h52 yb02 ff8 fs23 fc0 sc0 ls0 ws0">14<span class="_ _67"> </span><span class="ffb fs4">if<span class="_ _e"> </span><span class="ff8">(<span class="ff16">ak<span class="_ _14"> </span></span>&lt;<span class="_ _1"> </span><span class="ff16">p</span>)<span class="_ _14"> </span>{</span></span></div><div class="t m0 x206 h53 yb03 ff8 fs23 fc0 sc0 ls0 ws0">15<span class="_ _6a"> </span><span class="ff16 fs4">A<span class="ff8">[</span>k<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _14"> </span></span>A<span class="ff8">[</span>l<span class="ff8">];<span class="_ _14"> </span></span>A<span class="ff8">[</span>l<span class="ff8">]<span class="_ _1"> </span>=<span class="_ _14"> </span></span>ak<span class="ff8">;<span class="_ _14"> </span>++</span>l<span class="ff8">;</span></span></div><div class="t m0 x206 h52 yb04 ff8 fs23 fc0 sc0 ls0 ws0">16<span class="_ _67"> </span><span class="fs4">}<span class="_ _e"> </span><span class="ffb">else<span class="_ _14"> </span>if<span class="_ _1"> </span></span>(<span class="ff16">ak<span class="_ _14"> </span></span>&gt;=<span class="_ _14"> </span><span class="ff16">q</span>)<span class="_ _14"> </span>{</span></div><div class="t m0 x206 h52 yb05 ff8 fs23 fc0 sc0 ls0 ws0">17<span class="_ _6a"> </span><span class="ffb fs4">while<span class="_ _14"> </span><span class="ff8">(<span class="ff16">A</span>[<span class="ff16">g</span>]<span class="_ _14"> </span>&gt;<span class="_ _14"> </span><span class="ff16">q<span class="_ _1"> </span></span>&amp;&amp;<span class="_ _14"> </span><span class="ff16">k<span class="_ _14"> </span></span>&lt;<span class="_ _14"> </span><span class="ff16">g</span>)</span></span></div><div class="t m0 x206 h53 yb06 ff8 fs23 fc0 sc0 ls0 ws0">18<span class="_ _22"> </span><span class="fs4">--<span class="ff16">g</span>;</span></div><div class="t m0 x206 h52 yb07 ff8 fs23 fc0 sc0 ls0 ws0">19<span class="_ _6a"> </span><span class="ffb fs4">if<span class="_ _14"> </span><span class="ff8">(<span class="ff16">A</span>[<span class="ff16">g</span>]<span class="_ _14"> </span>&lt;<span class="_ _14"> </span><span class="ff16">p</span>)<span class="_ _1"> </span>{</span></span></div><div class="t m0 x206 h53 yb08 ff8 fs23 fc0 sc0 ls0 ws0">20<span class="_ _22"> </span><span class="ff16 fs4">A<span class="ff8">[</span>k<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _14"> </span></span>A<span class="ff8">[</span>l<span class="ff8">];<span class="_ _14"> </span></span>A<span class="ff8">[</span>l<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _1"> </span></span>A<span class="ff8">[</span>g<span class="ff8">];<span class="_ _14"> </span>++</span>l<span class="ff8">;</span></span></div><div class="t m0 x206 h52 yb09 ff8 fs23 fc0 sc0 ls0 ws0">21<span class="_ _6a"> </span><span class="fs4">}<span class="_ _14"> </span><span class="ffb">else<span class="_ _14"> </span></span>{</span></div><div class="t m0 x206 h53 yb0a ff8 fs23 fc0 sc0 ls0 ws0">22<span class="_ _22"> </span><span class="ff16 fs4">A<span class="ff8">[</span>k<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _14"> </span></span>A<span class="ff8">[</span>g<span class="ff8">];</span></span></div><div class="t m0 x206 h53 yb0b ff8 fs23 fc0 sc0 ls0 ws0">23<span class="_ _6a"> </span><span class="fs4">}</span></div><div class="t m0 x206 h53 yb0c ff8 fs23 fc0 sc0 ls0 ws0">24<span class="_ _6a"> </span><span class="ff16 fs4">A<span class="ff8">[</span>g<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _14"> </span></span>ak<span class="ff8">;<span class="_ _14"> </span>--</span>g<span class="ff8">;</span></span></div><div class="t m0 x206 h53 yb0d ff8 fs23 fc0 sc0 ls0 ws0">25<span class="_ _67"> </span><span class="fs4">}</span></div><div class="t m0 x206 h53 yb0e ff8 fs23 fc0 sc0 ls0 ws0">26<span class="_ _67"> </span><span class="fs4">++<span class="ff16">k</span>;</span></div><div class="t m0 x206 h53 yb0f ff8 fs23 fc0 sc0 ls0 ws0">27<span class="_ _55"> </span><span class="fs4">}</span></div><div class="t m0 x206 h53 yb10 ff8 fs23 fc0 sc0 ls0 ws0">28<span class="_ _55"> </span><span class="fs4">--<span class="ff16">l</span>;<span class="_ _14"> </span>++<span class="ff16">g</span>;</span></div><div class="t m0 x206 h53 yb11 ff8 fs23 fc0 sc0 ls0 ws0">29<span class="_ _55"> </span><span class="ff16 fs4">A<span class="ff8">[</span>left<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _1"> </span></span>A<span class="ff8">[</span>l<span class="ff8">];<span class="_ _14"> </span></span>A<span class="ff8">[</span>l<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _14"> </span></span>p<span class="ff8">;<span class="_ _14"> </span></span>A<span class="ff8">[</span>right<span class="ff8">]<span class="_ _14"> </span>=<span class="_ _1"> </span></span>A<span class="ff8">[</span>g<span class="ff8">];<span class="_ _e"> </span></span>A<span class="ff8">[</span>g<span class="ff8">]<span class="_ _1"> </span>=<span class="_ _14"> </span></span>q<span class="ff8">;</span></span></div><div class="t m0 x206 h53 yb12 ff8 fs23 fc0 sc0 ls0 ws0">30<span class="_ _55"> </span><span class="ff16 fs4">quicksortYaroslavskiy<span class="ff8">(</span>A<span class="ff8">,<span class="_ _14"> </span></span>left<span class="ff8">,<span class="_ _1"> </span></span>l<span class="_ _14"> </span><span class="ff8">-<span class="_ _14"> </span>1);</span></span></div><div class="t m0 x206 h53 yb13 ff8 fs23 fc0 sc0 ls0 ws0">31<span class="_ _55"> </span><span class="ff16 fs4">quicksortYaroslavskiy<span class="ff8">(</span>A<span class="ff8">,<span class="_ _14"> </span></span>g<span class="_ _1"> </span><span class="ff8">+<span class="_ _14"> </span>1,<span class="_ _14"> </span></span>right<span class="ff8">);</span></span></div><div class="t m0 x206 h53 yb14 ff8 fs23 fc0 sc0 ls0 ws0">32<span class="_ _55"> </span><span class="ff16 fs4">quicksortYaroslavskiy<span class="ff8">(</span>A<span class="ff8">,<span class="_ _14"> </span></span>l<span class="_ _1"> </span><span class="ff8">+<span class="_ _14"> </span>1,<span class="_ _14"> </span></span>g<span class="_ _14"> </span><span class="ff8">-<span class="_ _14"> </span>1);</span></span></div><div class="t m0 x206 h53 yb15 ff8 fs23 fc0 sc0 ls0 ws0">33<span class="_ _34"> </span><span class="fs4">}</span></div><div class="t m0 x206 h53 yb16 ff8 fs23 fc0 sc0 ls0 ws0">34<span class="_ _1b"> </span><span class="fs4">}</span></div><div class="t m0 x206 h52 yb17 ff8 fs23 fc0 sc0 ls0 ws0">36<span class="_ _1b"> </span><span class="ffb fs4">void<span class="_ _14"> </span><span class="ff16">insertionsort<span class="ff8">(</span></span>int<span class="ff8">[]<span class="_ _1"> </span><span class="ff16">A</span>,<span class="_ _14"> </span></span>int<span class="_ _14"> </span><span class="ff16">left<span class="ff8">,<span class="_ _14"> </span></span></span>int<span class="_ _14"> </span><span class="ff16">right<span class="ff8">)<span class="_ _14"> </span>{</span></span></span></div><div class="t m0 x206 h52 yb18 ff8 fs23 fc0 sc0 ls0 ws0">37<span class="_ _34"> </span><span class="ffb fs4">for<span class="_ _14"> </span><span class="ff8">(</span>int<span class="_ _14"> </span><span class="ff16">i<span class="_ _14"> </span><span class="ff8">=<span class="_ _14"> </span></span>left<span class="_ _1"> </span><span class="ff8">+<span class="_ _e"> </span>1;<span class="_ _1"> </span></span>i<span class="_ _14"> </span><span class="ff8">&lt;=<span class="_ _14"> </span></span>right<span class="ff8">;<span class="_ _14"> </span>++</span>i<span class="ff8">)<span class="_ _14"> </span>{</span></span></span></div><div class="t m0 x206 h52 yb19 ff8 fs23 fc0 sc0 ls0 ws0">38<span class="_ _55"> </span><span class="ffb fs4">int<span class="_ _14"> </span><span class="ff16">j<span class="_ _1"> </span><span class="ff8">=<span class="_ _14"> </span></span>i<span class="ff8">-1;<span class="_ _14"> </span></span></span>final<span class="_ _14"> </span>int<span class="_ _14"> </span><span class="ff16">v<span class="_ _14"> </span><span class="ff8">=<span class="_ _1"> </span></span>A<span class="ff8">[</span>i<span class="ff8">];</span></span></span></div><div class="t m0 x206 h52 yb1a ff8 fs23 fc0 sc0 ls0 ws0">39<span class="_ _55"> </span><span class="ffb fs4">while<span class="_ _14"> </span><span class="ff8">(<span class="ff16">v<span class="_ _1"> </span></span>&lt;<span class="_ _14"> </span><span class="ff16">A</span>[<span class="ff16">j</span>])<span class="_ _14"> </span>{</span></span></div><div class="t m0 x206 h53 yb1b ff8 fs23 fc0 sc0 ls0 ws0">40<span class="_ _67"> </span><span class="ff16 fs4">A<span class="ff8">[</span>j<span class="ff8">+1]<span class="_ _e"> </span>=<span class="_ _14"> </span></span>A<span class="ff8">[</span>j<span class="ff8">];<span class="_ _1"> </span>--</span>j<span class="ff8">;</span></span></div><div class="t m0 x206 h52 yb1c ff8 fs23 fc0 sc0 ls0 ws0">41<span class="_ _67"> </span><span class="ffb fs4">if<span class="_ _e"> </span><span class="ff8">(<span class="ff16">j<span class="_ _14"> </span></span>&lt;<span class="_ _1"> </span><span class="ff16">left</span>)<span class="_ _14"> </span></span>break<span class="ff8">;</span></span></div><div class="t m0 x206 h53 yb1d ff8 fs23 fc0 sc0 ls0 ws0">42<span class="_ _55"> </span><span class="fs4">}</span></div><div class="t m0 x206 h53 yb1e ff8 fs23 fc0 sc0 ls0 ws0">43<span class="_ _55"> </span><span class="ff16 fs4">A<span class="ff8">[</span>j<span class="ff8">+1]<span class="_ _14"> </span>=<span class="_ _1"> </span></span>v<span class="ff8">;</span></span></div><div class="t m0 x206 h53 yb1f ff8 fs23 fc0 sc0 ls0 ws0">44<span class="_ _34"> </span><span class="fs4">}</span></div><div class="t m0 x206 h53 yb20 ff8 fs23 fc0 sc0 ls0 ws0">45<span class="_ _1b"> </span><span class="fs4">}</span></div><div class="t m0 x57 h18 yb21 ff1 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _5"> </span>4:<span class="_ _5"> </span><span class="ff11">Ja<span class="_ _2"></span>va implementation of Y<span class="_ _7"></span>aroslavskiy’<span class="_ _0"></span>s algor<span class="_ _3"></span>ithm.</span></div><div class="t m0 xca h7 y2c ff2 fs5 fc0 sc0 ls0 ws0">32</div></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
