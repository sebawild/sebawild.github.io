<div id="pf6c" class="pf w0 h0" data-page-no="6c"><div class="pc pc6c w0 h0"><img class="bi xc y10 w2 ha" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA4wAAAABCAIAAAAabrduAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAHUlEQVRIx+3BMQEAAAzDoPrXGwGzsQNYNQAA+OQAdnsC3T923LwAAAAASUVORK5CYII="/><div class="t m0 xc he y30 ff8 fs4 fc0 sc0 ls0 ws0">4<span class="_ _4c"> </span>Average<span class="_ _9"> </span>Case<span class="_ _a"> </span>Analysis<span class="_ _9"> </span>of<span class="_ _9"> </span>Dual-Pivot<span class="_ _9"> </span>Quicksort</div><div class="t m5 xc hd y31 ff5 fs4 fc0 sc0 ls0 ws0">suspected<span class="_ _a"> </span>such<span class="_ _9"> </span>a<span class="_ _a"> </span>pronounced<span class="_ _a"> </span>ef<span class="_ _b"></span>fect<span class="_ _a"> </span>to<span class="_ _a"> </span>ha<span class="_ _20"></span>v<span class="_ _20"></span>e<span class="_ _a"> </span>an<span class="_ _a"> </span>intuitiv<span class="_ _20"></span>e<span class="_ _a"> </span>explanation,<span class="_ _9"> </span>one<span class="_ _a"> </span>that</div><div class="t m2 xc hd y32 ff5 fs4 fc0 sc0 ls0 ws0">can<span class="_ _0"> </span>be<span class="_ _17"> </span>understood<span class="_ _0"> </span>without<span class="_ _17"> </span>digging<span class="_ _0"> </span>into<span class="_ _17"> </span>e<span class="_ _b"></span>v<span class="_ _20"></span>er<span class="_ _6"></span>y<span class="_ _0"> </span>detail<span class="_ _17"> </span>of<span class="_ _0"> </span>the<span class="_ _17"> </span>implementation.</div><div class="t m0 xc hd y33 ff5 fs4 fc0 sc0 ls0 ws0">And<span class="_ _a"> </span>in<span class="_ _a"> </span>fact,<span class="_ _a"> </span>there<span class="_ _a"> </span>is<span class="_ _a"> </span>such<span class="_ _a"> </span>an<span class="_ _a"> </span>explanation.</div><div class="t m1e x26 hd y34 ff5 fs4 fc0 sc0 ls0 ws0">Ho<span class="_ _20"></span>w<span class="_ _b"></span>ev<span class="_ _3"></span>er<span class="_ _3"></span>,<span class="_ _a"> </span>before<span class="_ _a"> </span>I<span class="_ _a"> </span>explain<span class="_ _4"> </span>ho<span class="_ _20"></span>w<span class="_ _a"> </span>Y<span class="_ _1a"></span><span class="ff6">arosla<span class="_ _1a"></span>vskiy<span class="ff5">’s<span class="_ _4"> </span>algorithm<span class="_ _a"> </span>sa<span class="_ _20"></span>v<span class="_ _20"></span>es<span class="_ _a"> </span>comparisons</span></span></div><div class="t m4 xc hd y35 ff5 fs4 fc0 sc0 ls0 ws0">compared<span class="_ _9"> </span>to<span class="_ _a"> </span>classic<span class="_ _a"> </span>Quicksort,<span class="_ _a"> </span>let<span class="_ _a"> </span>us<span class="_ _a"> </span>discuss<span class="_ _a"> </span>a<span class="_ _5"> </span>—<span class="_ _5"> </span>ﬂa<span class="_ _20"></span>w<span class="_ _20"></span>ed<span class="_ _5"> </span>—<span class="_ _31"> </span>argument<span class="_ _9"> </span>why<span class="_ _a"> </span>this<span class="_ _a"> </span>is</div><div class="t m0 xc hd y36 ff5 fs4 fc0 sc0 ls0 ws0">impossible.</div><div class="t m0 xc hc y1246 ff1 fs4 fc0 sc0 ls0 ws0">A Wrong Lower Bound for Dual-Pivot Quicksort</div><div class="t m2 xc hd y1247 ff5 fs4 fc0 sc0 ls0 ws0">Let</div><div class="t m0 x1d3 h6 y1247 ffa fs4 fc0 sc0 ls0 ws0">p<span class="_ _a"> </span>&lt;<span class="_ _9"> </span>q</div><div class="t m2 x1c0 hd y1247 ff5 fs4 fc0 sc0 ls0 ws0">be<span class="_ _a"> </span>the<span class="_ _a"> </span>tw<span class="_ _20"></span>o<span class="_ _a"> </span>piv<span class="_ _20"></span>ots.<span class="_ _17"> </span>For<span class="_ _a"> </span>partitioning,<span class="_ _a"> </span>w<span class="_ _20"></span>e<span class="_ _a"> </span>need<span class="_ _a"> </span>to<span class="_ _a"> </span>determine<span class="_ _a"> </span>for<span class="_ _a"> </span>ev<span class="_ _20"></span>er<span class="_ _6"></span>y</div><div class="t m0 xc he y1248 ffa fs4 fc0 sc0 ls0 ws0">x<span class="_ _9"> </span><span class="ff22">&lt;<span class="_ _a"> </span><span class="ff11">{</span></span>p</div><div class="t m4 x212 hd y1248 ff5 fs4 fc0 sc0 ls0 ws0">,</div><div class="t m0 x1cf he y1248 ffa fs4 fc0 sc0 ls0 ws0">q<span class="ff11">}</span></div><div class="t m4 x1c7 hd y1248 ff5 fs4 fc0 sc0 ls0 ws0">whether</div><div class="t m0 x96 h6 y1248 ffa fs4 fc0 sc0 ls0 ws0">x<span class="_ _9"> </span>&lt;<span class="_ _a"> </span>p</div><div class="t m4 x114 hd y1248 ff5 fs4 fc0 sc0 ls0 ws0">,</div><div class="t m0 x116 h6 y1248 ffa fs4 fc0 sc0 ls0 ws0">p<span class="_ _9"> </span>&lt;<span class="_ _a"> </span>x<span class="_ _9"> </span>&lt;<span class="_ _a"> </span>q</div><div class="t m4 xb7 hd y1248 ff5 fs4 fc0 sc0 ls0 ws0">or</div><div class="t m0 xaa h6 y1248 ffa fs4 fc0 sc0 ls0 ws0">q<span class="_ _9"> </span>&lt;<span class="_ _a"> </span>x</div><div class="t m4 x6b hd y1248 ff5 fs4 fc0 sc0 ls0 ws0">holds<span class="_ _a"> </span>b<span class="_ _20"></span>y<span class="_ _4"> </span>comparing</div><div class="t m0 x153 h6 y1248 ffa fs4 fc0 sc0 ls0 ws0">x</div><div class="t m4 xfa hd y1248 ff5 fs4 fc0 sc0 ls0 ws0">to</div><div class="t m0 x35 h6 y1248 ffa fs4 fc0 sc0 ls0 ws0">p</div><div class="t m4 x17a h9 y1248 ff7 fs4 fc0 sc0 ls0 ws0">and/or</div><div class="t m0 x70 h6 y1248 ffa fs4 fc0 sc0 ls0 ws0">q</div><div class="t m4 xce hd y1248 ff5 fs4 fc0 sc0 ls0 ws0">.</div><div class="t m4 xc hd y1249 ff5 fs4 fc0 sc0 ls0 ws0">Assume,<span class="_ _a"> </span>w<span class="_ _20"></span>e<span class="_ _a"> </span>ﬁrst<span class="_ _a"> </span>compare</div><div class="t m0 x134 h6 y1249 ffa fs4 fc0 sc0 ls0 ws0">x</div><div class="t m4 x108 hd y1249 ff5 fs4 fc0 sc0 ls0 ws0">to</div><div class="t m0 x1e1 h6 y1249 ffa fs4 fc0 sc0 ls0 ws0">p</div><div class="t m4 x120 hd y1249 ff5 fs4 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>then<span class="_ _a"> </span>a<span class="_ _20"></span>v<span class="_ _20"></span>eraging<span class="_ _a"> </span>o<span class="_ _b"></span>v<span class="_ _20"></span>er<span class="_ _a"> </span>all<span class="_ _a"> </span>possible<span class="_ _9"> </span>values<span class="_ _9"> </span>for</div><div class="t m0 x115 h6 y1249 ffa fs4 fc0 sc0 ls0 ws0">p</div><div class="t m4 x61 hd y1249 ff5 fs4 fc0 sc0 ls0 ws0">,</div><div class="t m0 xcd h6 y1249 ffa fs4 fc0 sc0 ls0 ws0">q</div><div class="t m1d xc hd y124a ff5 fs4 fc0 sc0 ls0 ws0">and</div><div class="t m0 x1a1 h6 y124a ffa fs4 fc0 sc0 ls0 ws0">x</div><div class="t m1d xd6 hd y124a ff5 fs4 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>there<span class="_ _9"> </span>is<span class="_ _a"> </span>a</div><div class="t m0 x72 hf y124b ffa fs6 fc0 sc0 ls0 ws0">1</div><div class="t m0 x21c h6 y124a ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3</span></div><div class="t m1d x119 hd y124a ff5 fs4 fc0 sc0 ls0 ws0">chance<span class="_ _a"> </span>that</div><div class="t m0 x1f1 h6 y124a ffa fs4 fc0 sc0 ls0 ws0">x<span class="_ _9"> </span>&lt;<span class="_ _a"> </span>p</div><div class="t m1d x147 hd y124a ff5 fs4 fc0 sc0 ls0 ws0">–<span class="_ _a"> </span>in<span class="_ _a"> </span>which<span class="_ _9"> </span>case<span class="_ _a"> </span>w<span class="_ _b"></span>e<span class="_ _a"> </span>are<span class="_ _9"> </span>done.<span class="_ _17"> </span>Otherwise,</div><div class="t m2 xc hd y124c ff5 fs4 fc0 sc0 ls0 ws0">w<span class="_ _20"></span>e<span class="_ _0"> </span>still<span class="_ _0"> </span>need<span class="_ _0"> </span>to<span class="_ _0"> </span>compare</div><div class="t m0 x1ee h6 y124c ffa fs4 fc0 sc0 ls0 ws0">x</div><div class="t m2 x11b hd y124c ff5 fs4 fc0 sc0 ls0 ws0">and</div><div class="t m0 x3 h6 y124c ffa fs4 fc0 sc0 ls0 ws0">q</div><div class="t m2 xb6 hd y124c ff5 fs4 fc0 sc0 ls0 ws0">.<span class="_ _32"> </span>The<span class="_ _0"> </span>expected<span class="_ _0"> </span>number<span class="_ _0"> </span>of<span class="_ _0"> </span>comparisons<span class="_ _0"> </span>for</div><div class="t m2 xc hd y807 ff5 fs4 fc0 sc0 ls0 ws0">one<span class="_ _17"> </span>element<span class="_ _17"> </span>is<span class="_ _17"> </span>therefore</div><div class="t m0 x134 hf y124d ffa fs6 fc0 sc0 ls0 ws0">1</div><div class="t m0 xac h1b y807 ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3<span class="_ _1"> </span><span class="ff12 fs4">·<span class="_ _1"> </span><span class="ffa">1<span class="_ _1"> </span><span class="ffb">+</span></span></span></span></div><div class="t m0 x1f5 hf y124d ffa fs6 fc0 sc0 ls0 ws0">2</div><div class="t m0 x4a h1b y807 ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3<span class="_ _1"> </span><span class="ff12 fs4">·<span class="_ _1"> </span><span class="ffa">2<span class="_ _8"> </span><span class="ffb">=</span></span></span></span></div><div class="t m0 xfe hf y124d ffa fs6 fc0 sc0 ls0 ws0">5</div><div class="t m0 x43 h6 y807 ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3</span></div><div class="t m2 x169 hd y807 ff5 fs4 fc0 sc0 ls0 ws0">.<span class="_ _14"> </span>For<span class="_ _17"> </span>a<span class="_ _17"> </span>partitioning<span class="_ _17"> </span>step<span class="_ _17"> </span>with</div><div class="t m0 x70 h6 y807 ffa fs4 fc0 sc0 ls0 ws0">n</div><div class="t m16 xc hd y808 ff5 fs4 fc0 sc0 ls0 ws0">elements<span class="_ _a"> </span>including<span class="_ _a"> </span>piv<span class="_ _20"></span>ots</div><div class="t m0 x13e h6 y808 ffa fs4 fc0 sc0 ls0 ws0">p</div><div class="t m16 x82 hd y808 ff5 fs4 fc0 sc0 ls0 ws0">and</div><div class="t m0 x3 h6 y808 ffa fs4 fc0 sc0 ls0 ws0">q</div><div class="t m16 x19c hd y808 ff5 fs4 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>this<span class="_ _a"> </span>amounts<span class="_ _a"> </span>to</div><div class="t m0 xb1 hf y124e ffa fs6 fc0 sc0 ls0 ws0">5</div><div class="t m0 x38 h1b y808 ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3<span class="_ _31"> </span><span class="ff12 fs4">·<span class="_ _3c"></span><span class="ffb">(<span class="ffa">n<span class="_ _31"> </span></span>−<span class="_ _31"> </span><span class="ffa">2</span>)</span></span></span></div><div class="t m16 xea hd y808 ff5 fs4 fc0 sc0 ls0 ws0">comparisons<span class="_ _a"> </span>in</div><div class="t m0 xc hd y809 ff5 fs4 fc0 sc0 ls0 ws0">expectation.</div><div class="t m27 x26 hd y80a ff5 fs4 fc0 sc0 ls0 ws0">In<span class="_ _a"> </span>the<span class="_ _a"> </span>random<span class="_ _a"> </span>per<span class="_ _6"></span>mutation<span class="_ _a"> </span>model,<span class="_ _a"> </span>knowledge<span class="_ _9"> </span>about<span class="_ _a"> </span>an<span class="_ _4"> </span>element</div><div class="t m0 xc1 h6 y80a ffa fs4 fc0 sc0 ls0 ws0">y<span class="_ _9"> </span><span class="ff22">,<span class="_ _a"> </span></span>x</div><div class="t m27 x16f hd y80a ff5 fs4 fc0 sc0 ls0 ws0">does</div><div class="t m2 xc hd y80b ff5 fs4 fc0 sc0 ls0 ws0">not<span class="_ _4"> </span>tell<span class="_ _4"> </span>us<span class="_ _4"> </span>whether</div><div class="t m0 x21d h6 y80b ffa fs4 fc0 sc0 ls0 ws0">x<span class="_ _4"> </span>&lt;<span class="_ _0"> </span>p</div><div class="t m2 xa5 hd y80b ff5 fs4 fc0 sc0 ls0 ws0">,</div><div class="t m0 xc3 h6 y80b ffa fs4 fc0 sc0 ls0 ws0">p<span class="_ _4"> </span>&lt;<span class="_ _0"> </span>x<span class="_ _4"> </span>&lt;<span class="_ _4"> </span>q</div><div class="t m2 x147 hd y80b ff5 fs4 fc0 sc0 ls0 ws0">or</div><div class="t m0 xc4 h6 y80b ffa fs4 fc0 sc0 ls0 ws0">q<span class="_ _4"> </span>&lt;<span class="_ _0"> </span>x</div><div class="t m2 x5a hd y80b ff5 fs4 fc0 sc0 ls0 ws0">holds.<span class="_ _21"> </span>Hence,<span class="_ _4"> </span>one<span class="_ _4"> </span>could<span class="_ _4"> </span>think</div><div class="t m2 xc hd y80c ff5 fs4 fc0 sc0 ls0 ws0">that<span class="_ _a"> </span>any<span class="_ _a"> </span>partitioning<span class="_ _a"> </span>method<span class="_ _a"> </span>should<span class="_ _a"> </span>need<span class="_ _a"> </span>at<span class="_ _a"> </span>least</div><div class="t m0 x173 hf y124f ffa fs6 fc0 sc0 ls0 ws0">5</div><div class="t m0 xa7 h1b y80c ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3<span class="_ _3c"> </span><span class="ff12 fs4">·<span class="_ _31"></span><span class="ffb">(<span class="ffa">n<span class="_ _31"> </span></span>−<span class="_ _3c"> </span><span class="ffa">2</span>)</span></span></span></div><div class="t m2 x88 hd y80c ff5 fs4 fc0 sc0 ls0 ws0">comparisons<span class="_ _a"> </span>in</div><div class="t m0 xc h9 y80d ff5 fs4 fc0 sc0 ls0 ws0">expectation.<span class="_ _0"> </span><span class="ff7">.<span class="_ _5"> </span>.<span class="_ _5"> </span>.<span class="_ _5"> </span>but<span class="_ _a"> </span>this<span class="_ _9"> </span>is<span class="_ _a"> </span>not<span class="_ _9"> </span>the<span class="_ _a"> </span>case!</span></div><div class="t m2 xc hd y1250 ff5 fs4 fc0 sc0 ls0 ws0">The<span class="_ _17"> </span>argument<span class="_ _0"> </span>seems<span class="_ _17"> </span>quite<span class="_ _17"> </span>plausible.<span class="_ _14"> </span>In<span class="_ _17"> </span>fact,<span class="_ _17"> </span>previous<span class="_ _17"> </span>w<span class="_ _20"></span>ork<span class="_ _17"> </span>on<span class="_ _17"> </span>multi-piv<span class="_ _20"></span>ot</div><div class="t m2 xc hd y1251 ff5 fs4 fc0 sc0 ls0 ws0">Quicksort<span class="_ _21"> </span>uses</div><div class="t m0 x25 hf y1252 ffa fs6 fc0 sc0 ls0 ws0">5</div><div class="t m0 xc8 h10 y1251 ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3<span class="fs4">n<span class="_ _9"> </span><span class="ffb">+<span class="_ _1"> </span></span>o<span class="ffb">(</span>n<span class="ffb">)</span></span></span></div><div class="t m2 x6 hd y1251 ff5 fs4 fc0 sc0 ls0 ws0">comparisons<span class="_ _21"> </span>as<span class="_ _21"> </span>partitioning<span class="_ _21"> </span>cost<span class="_ _21"> </span>for<span class="_ _21"> </span>dual-piv<span class="_ _3"></span>ot</div><div class="t m4 xc hd y1253 ff5 fs4 fc0 sc0 ls0 ws0">Quicksort,<span class="_ _9"> </span>e.<span class="_ _5"> </span>g.<span class="_ _9"> </span>[</div><div class="t m0 x14f hd y1253 ff5 fs4 fc0 sc0 ls0 ws0">Hen<span class="ff6">91</span></div><div class="t m4 x97 hd y1253 ff5 fs4 fc0 sc0 ls0 ws0">] and<span class="_ _a"> </span>[</div><div class="t m0 x6a hd y1253 ff5 fs4 fc0 sc0 ls0 ws0">T<span class="_ _1a"></span>an<span class="ff6">93</span></div><div class="t m4 x4a hd y1253 ff5 fs4 fc0 sc0 ls0 ws0">].<span class="_ _0"> </span>This<span class="_ _9"> </span>partitioning<span class="_ _a"> </span>cost yields</div><div class="t m0 x19d h10 y1253 ffa fs4 fc0 sc0 ls0 ws0">2n<span class="_ _5"> </span><span class="ff5">ln<span class="_ _5"> </span></span>n<span class="_ _5"> </span><span class="ffb">+<span class="_ _5"> </span><span class="ff11">O</span>(</span>n<span class="ffb">)</span></div><div class="t m0 xc hd y1254 ff5 fs4 fc0 sc0 ls0 ws0">comparisons<span class="_ _a"> </span>in<span class="_ _a"> </span>total<span class="_ _5"> </span>—<span class="_ _5"> </span>the<span class="_ _a"> </span>same<span class="_ _a"> </span>as<span class="_ _a"> </span>classic<span class="_ _a"> </span>Quicksort.</div><div class="t m2 x26 hd y1255 ff5 fs4 fc0 sc0 ls0 ws0">But<span class="_ _17"> </span>where<span class="_ _17"> </span>does<span class="_ _8"> </span>the<span class="_ _17"> </span>lo<span class="_ _20"></span>w<span class="_ _20"></span>er<span class="_ _8"> </span>bound<span class="_ _17"> </span>argument<span class="_ _17"> </span>break<span class="_ _17"> </span>do<span class="_ _20"></span>wn?<span class="_ _27"> </span>The<span class="_ _8"> </span>r<span class="_ _b"></span>eason<span class="_ _17"> </span>is</div><div class="t m2 xc hd y1256 ff5 fs4 fc0 sc0 ls0 ws0">the</div><div class="t m0 xaf h23 y1256 ffd fs4 fc0 sc0 ls0 ws0">independence</div><div class="t m2 x13d hd y1256 ff5 fs4 fc0 sc0 ls0 ws0">assumption<span class="_ _8"> </span>abo<span class="_ _20"></span>v<span class="_ _b"></span>e,<span class="_ _21"> </span>which<span class="_ _8"> </span>only<span class="_ _8"> </span>holds<span class="_ _8"> </span>true<span class="_ _8"> </span>for<span class="_ _8"> </span>algorithms</div><div class="t m2 xc h9 y1257 ff5 fs4 fc0 sc0 ls0 ws0">that<span class="_ _a"> </span>do<span class="_ _a"> </span>comparisons<span class="_ _4"> </span>at<span class="_ _a"> </span>exactly<span class="_ _a"> </span><span class="ff7">one<span class="_ _a"> </span>location<span class="_ _a"> </span>in<span class="_ _9"> </span>the<span class="_ _a"> </span>code<span class="_ _5"> </span></span>—<span class="_ _5"> </span>like<span class="_ _a"> </span>Algorithm<span class="_ _a"> </span><span class="ff6">5</span>.<span class="_ _8"> </span>But</div><div class="t m4 xc hd y1258 ff5 fs4 fc0 sc0 ls0 ws0">Algorithms<span class="_ _a"> </span><span class="ff6">7<span class="_ _a"> </span></span>and<span class="_ _a"> </span><span class="ff6">8<span class="_ _a"> </span></span>ha<span class="_ _b"></span>v<span class="_ _20"></span>e<span class="_ _a"> </span>sev<span class="_ _20"></span>eral<span class="_ _a"> </span>compare-instructions<span class="_ _a"> </span>at<span class="_ _a"> </span>different<span class="_ _9"> </span>locations,<span class="_ _4"> </span>and</div><div class="t m0 xc h9 y1259 ff5 fs4 fc0 sc0 ls0 ws0">ho<span class="_ _20"></span>w<span class="_ _a"> </span>often<span class="_ _a"> </span>those<span class="_ _a"> </span>are<span class="_ _a"> </span>reached<span class="_ _a"> </span><span class="ff7">depends<span class="_ _a"> </span></span>on<span class="_ _a"> </span>the<span class="_ _a"> </span>piv<span class="_ _20"></span>ots<span class="_ _a"> </span><span class="ffa">p<span class="_ _a"> </span></span>and<span class="_ _a"> </span><span class="ffa">q</span>.<span class="_ _17"> </span>No<span class="_ _20"></span>w<span class="_ _a"> </span>of<span class="_ _a"> </span>course,<span class="_ _a"> </span>the</div><div class="t m21 xc hd y125a ff5 fs4 fc0 sc0 ls0 ws0">number<span class="_ _a"> </span>of<span class="_ _a"> </span>elements<span class="_ _a"> </span>smaller<span class="_ _3"></span>,<span class="_ _a"> </span>betw<span class="_ _20"></span>een<span class="_ _4"> </span>and<span class="_ _a"> </span>larger<span class="_ _a"> </span>than</div><div class="t m0 x101 h6 y125a ffa fs4 fc0 sc0 ls0 ws0">p</div><div class="t m21 x6f hd y125a ff5 fs4 fc0 sc0 ls0 ws0">and</div><div class="t m0 x1ae h6 y125a ffa fs4 fc0 sc0 ls0 ws0">q</div><div class="t m21 x1d8 hd y125a ff5 fs4 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>directly<span class="_ _a"> </span>depends</div><div class="t m1e xc hd y81c ff5 fs4 fc0 sc0 ls0 ws0">on</div><div class="t m0 xd h6 y81c ffa fs4 fc0 sc0 ls0 ws0">p</div><div class="t m1e x5e hd y81c ff5 fs4 fc0 sc0 ls0 ws0">and</div><div class="t m0 x1 h6 y81c ffa fs4 fc0 sc0 ls0 ws0">q</div><div class="t m1e x1b hd y81c ff5 fs4 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>as<span class="_ _a"> </span>w<span class="_ _20"></span>ell!<span class="_ _17"> </span>S<span class="_ _6"></span>o<span class="_ _a"> </span>if<span class="_ _a"> </span>a<span class="_ _a"> </span>comparison<span class="_ _a"> </span>is<span class="_ _4"> </span>executed<span class="_ _a"> </span>often<span class="_ _a"> </span>if</div><div class="t m0 x85 h6 y81c ffa fs4 fc0 sc0 ls0 ws0">p</div><div class="t m1e x1f hd y81c ff5 fs4 fc0 sc0 ls0 ws0">is<span class="_ _a"> </span>large,<span class="_ _a"> </span>it<span class="_ _a"> </span>is<span class="_ _a"> </span>clev<span class="_ _20"></span>er</div><div class="t m13 xc hd y81d ff5 fs4 fc0 sc0 ls0 ws0">to<span class="_ _a"> </span>ﬁrst<span class="_ _a"> </span>check</div><div class="t m0 x172 h6 y81d ffa fs4 fc0 sc0 ls0 ws0">x<span class="_ _9"> </span>&lt;<span class="_ _a"> </span>p</div><div class="t m13 xdd hd y81d ff5 fs4 fc0 sc0 ls0 ws0">there:<span class="_ _0"> </span>The<span class="_ _a"> </span>comparison<span class="_ _a"> </span>is<span class="_ _a"> </span>done<span class="_ _a"> </span>more<span class="_ _a"> </span>often<span class="_ _a"> </span>than<span class="_ _a"> </span>on<span class="_ _a"> </span>a<span class="_ _20"></span>v<span class="_ _20"></span>erage</div><div class="t m2 xc hd y81e ff5 fs4 fc0 sc0 ls0 ws0">if<span class="_ _0"> </span>and<span class="_ _0"> </span>only<span class="_ _0"> </span>if<span class="_ _17"> </span>the<span class="_ _4"> </span>probability<span class="_ _0"> </span>for</div><div class="t m0 xb6 h6 y81e ffa fs4 fc0 sc0 ls0 ws0">x<span class="_ _17"> </span>&lt;<span class="_ _17"> </span>p</div><div class="t m2 x1d6 hd y81e ff5 fs4 fc0 sc0 ls0 ws0">is<span class="_ _0"> </span>larger<span class="_ _0"> </span>than<span class="_ _0"> </span>on<span class="_ _0"> </span>a<span class="_ _20"></span>v<span class="_ _b"></span>erage.<span class="_ _19"> </span>Therefore,</div><div class="t mf xc hd y81f ff5 fs4 fc0 sc0 ls0 ws0">the<span class="_ _a"> </span>expected<span class="_ _a"> </span>number<span class="_ _a"> </span>of<span class="_ _a"> </span>comparisons<span class="_ _a"> </span>can<span class="_ _a"> </span>drop<span class="_ _a"> </span>belo<span class="_ _b"></span>w<span class="_ _a"> </span>the<span class="_ _a"> </span>“lo<span class="_ _b"></span>w<span class="_ _20"></span>er<span class="_ _a"> </span>bound”</div><div class="t m0 x199 hf y125b ffa fs6 fc0 sc0 ls0 ws0">5</div><div class="t m0 xda h6 y81f ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _3"></span><span class="fs6">3</span></div><div class="t mf xc2 hd y81f ff5 fs4 fc0 sc0 ls0 ws0">for</div><div class="t m0 xc hd y820 ff5 fs4 fc0 sc0 ls0 ws0">this<span class="_ _a"> </span>element!</div><div class="t m13 x26 hd y823 ff5 fs4 fc0 sc0 ls0 ws0">And<span class="_ _a"> </span>this<span class="_ _a"> </span>is<span class="_ _a"> </span>exactly<span class="_ _33"></span>,<span class="_ _a"> </span>where<span class="_ _9"> </span>Algorithms<span class="_ _a"> </span><span class="ff6">7<span class="_ _a"> </span></span>and<span class="_ _a"> </span><span class="ff6">8<span class="_ _a"> </span></span>differ:<span class="_ _0"> </span>Y<span class="_ _1a"></span><span class="ff6">arosla<span class="_ _1a"></span>vskiy<span class="ff5">’s<span class="_ _a"> </span>parti-</span></span></div><div class="t m1c xc hd y824 ff5 fs4 fc0 sc0 ls0 ws0">tioning<span class="_ _a"> </span>alw<span class="_ _20"></span>a<span class="_ _b"></span>ys<span class="_ _a"> </span>ev<span class="_ _20"></span>aluates<span class="_ _a"> </span>the<span class="_ _a"> </span>“better<span class="_ _35"></span>”<span class="_ _a"> </span>comparison<span class="_ _a"> </span>ﬁrst,<span class="_ _a"> </span>whereas<span class="_ _a"> </span>in<span class="_ _a"> </span>S<span class="ff6">edgewick</span>’s</div><div class="t m0 xc hd y125c ff5 fs4 fc0 sc0 ls0 ws0">dual-piv<span class="_ _20"></span>ot<span class="_ _a"> </span>Quicksort<span class="_ _a"> </span>this<span class="_ _a"> </span>is<span class="_ _a"> </span>not<span class="_ _a"> </span>the<span class="_ _a"> </span>case.</div><div class="t m0 xc hb y11 ff6 fs4 fc0 sc0 ls0 ws0">106</div><a class="l" href="#pfc7" data-dest-detail='[199,"XYZ",70.866,699.274,null]'><div class="d m1" style="border-style:none;position:absolute;left:270.966745px;bottom:609.224965px;width:39.461000px;height:13.901000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfca" data-dest-detail='[202,"XYZ",70.866,217.48,null]'><div class="d m1" style="border-style:none;position:absolute;left:395.698802px;bottom:609.224965px;width:35.705000px;height:13.901000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf32" data-dest-detail='[50,"XYZ",70.866,765.178,null]'><div class="d m1" style="border-style:none;position:absolute;left:709.998387px;bottom:493.117478px;width:73.936000px;height:15.074000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",70.866,764.85,null]'><div class="d m1" style="border-style:none;position:absolute;left:230.956733px;bottom:464.398027px;width:8.339000px;height:15.029000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf41" data-dest-detail='[65,"XYZ",70.866,722.11,null]'><div class="d m1" style="border-style:none;position:absolute;left:290.290554px;bottom:464.398027px;width:8.339000px;height:15.029000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf40" data-dest-detail='[64,"XYZ",70.866,764.85,null]'><div class="d m1" style="border-style:none;position:absolute;left:527.143711px;bottom:234.644098px;width:8.514000px;height:15.028000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf41" data-dest-detail='[65,"XYZ",70.866,722.11,null]'><div class="d m1" style="border-style:none;position:absolute;left:587.865125px;bottom:234.644098px;width:8.513000px;height:15.028000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
