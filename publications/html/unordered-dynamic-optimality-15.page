<div id="pff" class="pf w0 h0" data-page-no="f"><div class="pc pcf w0 h0"><img class="bi x0 ye6 w2 h17" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5YAAAABCAIAAAAq4qZPAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAGklEQVRIx+3BAQ0AAADCoPdPbQ43oAAA4MoACsMAAYwZKaQAAAAASUVORK5CYII="/><div class="t m0 x0 h6 y2d ffb fs3 fc0 sc0 ls0 ws0">4. Buc<span class="_ _4"></span>keted<span class="_ _5"> </span>Order<span class="_ _5"> </span>by<span class="_ _5"> </span>Next<span class="_ _7"> </span>Request<span class="_ _25"> </span><span class="ff4">15</span></div><div class="t me x0 h6 y2e ff4 fs3 fc0 sc0 ls0 ws0">separately<span class="_ _5"> </span>in<span class="_ _7"> </span>tw<span class="_ _1"></span>o<span class="_ _7"> </span>buﬀers<span class="_ _7"> </span>that<span class="_ _7"> </span>distinguish<span class="_ _5"> </span>next<span class="_ _7"> </span>accesses<span class="_ _7"> </span>in<span class="_ _7"> </span>the<span class="_ _7"> </span>“near<span class="_ _5"> </span>future”<span class="_ _7"> </span>from<span class="_ _7"> </span>accesses<span class="_ _7"> </span>in<span class="_ _5"> </span>the</div><div class="t m2 xee h6 y30 ff4 fs3 fc0 sc0 ls0 ws0">“distan<span class="_ _4"></span>t<span class="_ _9"> </span>future”<span class="_ _1e"></span>.<span class="_ _1a"> </span>That<span class="_ _9"> </span>allo<span class="_ _4"></span>ws<span class="_ _9"> </span>to<span class="_ _9"> </span>sort<span class="_ _7"> </span>buﬀers<span class="_ _9"> </span>once,<span class="_ _9"> </span>without<span class="_ _9"> </span>ha<span class="_ _4"></span>ving<span class="_ _9"> </span>to<span class="_ _9"> </span>deal<span class="_ _7"> </span>with<span class="_ _9"> </span>insertions<span class="_ _9"> </span>in<span class="_ _4"></span>to</div><div class="t m0 x0 h6 y31 ff4 fs3 fc0 sc0 ls0 ws0">sorted<span class="_ _5"> </span>sequences.</div><div class="t m1 x3c h6 y32 ff4 fs3 fc0 sc0 ls0 ws0">T<span class="_ _6"></span>o<span class="_ _5"> </span>presen<span class="_ _1"></span>t<span class="_ _5"> </span>the<span class="_ _d"> </span>details,<span class="_ _5"> </span>we<span class="_ _d"> </span>ﬁx<span class="_ _5"> </span>some<span class="_ _d"> </span>notation.<span class="_ _3"> </span>W<span class="_ _6"></span>e<span class="_ _5"> </span>call</div><div class="t m0 xb9 h8 y32 ff5 fs3 fc0 sc0 ls0 ws0">t</div><div class="t m1 x88 h6 y32 ff4 fs3 fc0 sc0 ls0 ws0">the<span class="_ _5"> </span>(global)<span class="_ _d"> </span><span class="ffa">time(stamp)<span class="_ _5"> </span></span>of<span class="_ _d"> </span>the<span class="_ _5"> </span>access</div><div class="t m0 x14b h8 y32 ff5 fs3 fc0 sc0 ls0 ws0">a</div><div class="t m0 x137 h9 y66 ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m1 x17a h6 y32 ff4 fs3 fc0 sc0 ls0 ws0">.</div><div class="t m1 x5f h6 y33 ff4 fs3 fc0 sc0 ls0 ws0">W<span class="_ _6"></span>e<span class="_ _5"> </span>deﬁne<span class="_ _5"> </span>the<span class="_ _7"> </span><span class="ffa">r<span class="_ _1"></span>e<span class="_ _1"></span>curr<span class="_ _1"></span>enc<span class="_ _4"></span>e<span class="_ _7"> </span>time</span></div><div class="t m0 x6c h8 y33 ff5 fs3 fc0 sc0 ls0 ws0">r</div><div class="t m1 xec h6 y33 ff6 fs3 fc0 sc0 ls0 ws0">(</div><div class="t m0 xdb h8 y33 ff5 fs3 fc0 sc0 ls0 ws0">t</div><div class="t m1 x64 h6 y33 ff6 fs3 fc0 sc0 ls0 ws0">)<span class="_ _5"> </span><span class="ff4">of<span class="_ _5"> </span>the<span class="_ _7"> </span>access</span></div><div class="t m0 x1aa h8 y33 ff5 fs3 fc0 sc0 ls0 ws0">a</div><div class="t m0 xf6 h9 y170 ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m1 x7 h6 y33 ff4 fs3 fc0 sc0 ls0 ws0">at<span class="_ _5"> </span>time</div><div class="t m0 xb2 h8 y33 ff5 fs3 fc0 sc0 ls0 ws0">t</div><div class="t m1 x15a h6 y33 ff4 fs3 fc0 sc0 ls0 ws0">to<span class="_ _5"> </span>b<span class="_ _8"></span>e<span class="_ _5"> </span>the<span class="_ _7"> </span>n<span class="_ _4"></span>umber<span class="_ _7"> </span>of<span class="_ _5"> </span>time<span class="_ _5"> </span>steps<span class="_ _7"> </span>b<span class="_ _8"></span>efore</div><div class="t m0 x0 h6 y34 ff4 fs3 fc0 sc0 ls0 ws0">that<span class="_ _5"> </span>same<span class="_ _7"> </span>element<span class="_ _5"> </span>is<span class="_ _7"> </span>requested<span class="_ _5"> </span>the<span class="_ _7"> </span><span class="ffa">next<span class="_ _a"> </span></span>time<span class="_ _7"> </span>in<span class="_ _5"> </span>the<span class="_ _7"> </span>future:</div><div class="t m0 xf3 h6 y2ba ff5 fs3 fc0 sc0 ls0 ws0">r<span class="_ _8"></span><span class="ff6">(</span>t<span class="ff6">)<span class="_ _22"> </span>=<span class="_ _22"> </span>min<span class="ff3">{</span></span>t</div><div class="t m0 x8d h9 y2bb ff15 fs4 fc0 sc0 ls0 ws0">0</div><div class="t m0 x10 h6 y2ba ff3 fs3 fc0 sc0 ls0 ws0">−<span class="_ _10"> </span><span class="ff5">t<span class="_ _d"> </span><span class="ff6">: </span>a</span></div><div class="t m0 xf6 h9 y2bc ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m0 x19c ha y2bd ff9 fs5 fc0 sc0 ls0 ws0">0</div><div class="t m0 xa1 h6 y2ba ff6 fs3 fc0 sc0 ls0 ws0">= <span class="ff5">a</span></div><div class="t m0 x10e h9 y2be ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m0 x120 h8 y2ba ff5 fs3 fc0 sc0 ls0 ws0">,<span class="_ _18"> </span>t</div><div class="t m0 x140 h9 y2bb ff15 fs4 fc0 sc0 ls0 ws0">0</div><div class="t m0 x1ab h7 y2ba ff5 fs3 fc0 sc0 ls0 ws0">&gt;<span class="_ _d"> </span>t<span class="ff3">}<span class="_ _10"> </span>∪<span class="_ _10"> </span>{∞}</span>.</div><div class="t m1 xee h6 y2bf ff4 fs3 fc0 sc0 ls0 ws0">(</div><div class="t m0 xfe h8 y2bf ff5 fs3 fc0 sc0 ls0 ws0">r</div><div class="t m1 x160 h6 y2bf ff6 fs3 fc0 sc0 ls0 ws0">(</div><div class="t m0 x1ac h8 y2bf ff5 fs3 fc0 sc0 ls0 ws0">t</div><div class="t m1 x3c h6 y2bf ff6 fs3 fc0 sc0 ls0 ws0">) =</div><div class="t m0 x10a h7 y2bf ff3 fs3 fc0 sc0 ls0 ws0">∞</div><div class="t m1 xb7 h6 y2bf ff4 fs3 fc0 sc0 ls0 ws0">if</div><div class="t m0 xcd h8 y2bf ff5 fs3 fc0 sc0 ls0 ws0">a</div><div class="t m0 x69 h9 y2c0 ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m1 x6a h6 y2bf ff4 fs3 fc0 sc0 ls0 ws0">is<span class="_ _7"> </span>the<span class="_ _7"> </span>last<span class="_ _7"> </span>o<span class="_ _8"></span>ccurrence<span class="_ _7"> </span>of<span class="_ _7"> </span>that<span class="_ _7"> </span>elemen<span class="_ _4"></span>t<span class="_ _7"> </span>in<span class="_ _7"> </span>the<span class="_ _7"> </span>access<span class="_ _7"> </span>sequence.)<span class="_ _b"> </span>Similarly<span class="_ _6"></span>,<span class="_ _7"> </span>deﬁne<span class="_ _5"> </span>the</div><div class="t m2 x5f h8 y2c1 ffa fs3 fc0 sc0 ls0 ws0">next<span class="_ _7"> </span>ac<span class="_ _4"></span>c<span class="_ _1"></span>ess<span class="_ _9"> </span>time</div><div class="t m0 xa7 h8 y2c1 ff5 fs3 fc0 sc0 ls0 ws0">n</div><div class="t m2 x192 h6 y2c1 ff6 fs3 fc0 sc0 ls0 ws0">(</div><div class="t m0 xa8 h8 y2c1 ff5 fs3 fc0 sc0 ls0 ws0">x,<span class="_ _18"> </span>t</div><div class="t m2 xf1 h6 y2c1 ff6 fs3 fc0 sc0 ls0 ws0">)<span class="_ _5"> </span><span class="ff4">of<span class="_ _7"> </span>an<span class="_ _7"> </span>access<span class="_ _5"> </span>to<span class="_ _7"> </span>key</span></div><div class="t m0 x6 h8 y2c1 ff5 fs3 fc0 sc0 ls0 ws0">x</div><div class="t m2 x7e h6 y2c1 ff4 fs3 fc0 sc0 ls0 ws0">to<span class="_ _5"> </span>b<span class="_ _8"></span>e<span class="_ _7"> </span>the<span class="_ _7"> </span>earliest<span class="_ _5"> </span>time</div><div class="t m0 x8 h8 y2c1 ff5 fs3 fc0 sc0 ls0 ws0">t</div><div class="t m0 xf h9 y2c2 ff15 fs4 fc0 sc0 ls0 ws0">0</div><div class="t m0 x1a8 h8 y2c1 ff5 fs3 fc0 sc0 ls0 ws0">&gt;<span class="_ _d"> </span>t</div><div class="t m2 x189 h6 y2c1 ff4 fs3 fc0 sc0 ls0 ws0">when</div><div class="t m0 x9b h8 y2c1 ff5 fs3 fc0 sc0 ls0 ws0">x</div><div class="t m2 x1f h6 y2c1 ff4 fs3 fc0 sc0 ls0 ws0">is<span class="_ _5"> </span>requested:</div><div class="t m0 x0 h6 y2c3 ff5 fs3 fc0 sc0 ls0 ws0">n<span class="ff6">(</span>x,<span class="_ _18"> </span>t<span class="ff6">) = min<span class="ff3">{</span></span>k<span class="_ _5"> </span><span class="ff6">: </span>a</div><div class="t m0 x1ad h9 y2c4 ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m0 x107 ha y2c5 ff9 fs5 fc0 sc0 ls0 ws0">0</div><div class="t m0 x4 h6 y2c3 ff6 fs3 fc0 sc0 ls0 ws0">= <span class="ff5">x,<span class="_ _18"> </span>t</span></div><div class="t m0 xf3 h9 y2c6 ff15 fs4 fc0 sc0 ls0 ws0">0</div><div class="t m0 x190 h6 y2c3 ff5 fs3 fc0 sc0 ls0 ws0">&gt;<span class="_ _d"> </span>t<span class="ff3">}<span class="_ _10"> </span>∪<span class="_ _10"> </span>{∞}<span class="ff4">.<span class="_ _b"> </span>W<span class="_ _e"></span>e<span class="_ _7"> </span>abbreviate<span class="_ _7"> </span><span class="ff5">n<span class="ff6">(</span>t<span class="ff6">) = </span>n<span class="ff6">(</span>a</span></span></span></div><div class="t m0 x18e h9 y2c7 ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m0 x85 h6 y2c3 ff5 fs3 fc0 sc0 ls0 ws0">,<span class="_ _18"> </span>t<span class="ff6">) = </span>t<span class="_ _10"> </span><span class="ff6">+<span class="_ _10"> </span></span>r<span class="_ _8"></span><span class="ff6">(</span>t<span class="ff6">)<span class="ff4">.</span></span></div><div class="t m0 x0 h14 y2c8 ff1 fs3 fc0 sc0 ls0 ws0">Segments<span class="_ _21"> </span>of<span class="_ _21"> </span>accesses.</div><div class="t m2 xf3 h6 y2c8 ff4 fs3 fc0 sc0 ls0 ws0">W<span class="_ _6"></span>e<span class="_ _3"> </span>assume<span class="_ _b"> </span>the<span class="_ _3"> </span>access<span class="_ _3"> </span>sequence<span class="_ _3"> </span>has<span class="_ _b"> </span>length</div><div class="t m0 x52 h7 y2c8 ff5 fs3 fc0 sc0 ls0 ws0">m<span class="_ _b"> </span><span class="ff3">≥<span class="_ _b"> </span></span>n</div><div class="t m2 xc7 h6 y2c8 ff4 fs3 fc0 sc0 ls0 ws0">.<span class="_ _1c"> </span>W<span class="_ _6"></span>e<span class="_ _3"> </span>divide<span class="_ _b"> </span>the</div><div class="t m1c x0 h6 y2c9 ff4 fs3 fc0 sc0 ls0 ws0">accesses<span class="_ _5"> </span>into<span class="_ _5"> </span><span class="ffa">“se<span class="_ _1"></span>gments”<span class="_ _3"> </span><span class="ff4">of<span class="_ _5"> </span>length</span></span></div><div class="t m0 x165 h8 y2c9 ff5 fs3 fc0 sc0 ls0 ws0">n</div><div class="t m1c x73 h6 y2c9 ff4 fs3 fc0 sc0 ls0 ws0">eac<span class="_ _4"></span>h,<span class="_ _7"> </span>(allo<span class="_ _4"></span>wing<span class="_ _5"> </span>a<span class="_ _7"> </span>p<span class="_ _8"></span>otentially<span class="_ _5"> </span>incomplete<span class="_ _5"> </span>last<span class="_ _7"> </span>segmen<span class="_ _4"></span>t).<span class="_ _b"> </span>A<span class="_ _1"></span>t</div><div class="t m2 x0 h6 y2ca ff4 fs3 fc0 sc0 ls0 ws0">the<span class="_ _9"> </span>b<span class="_ _8"></span>eginning<span class="_ _a"> </span>of<span class="_ _9"> </span>each<span class="_ _9"> </span>segmen<span class="_ _1"></span>t,<span class="_ _a"> </span>we<span class="_ _9"> </span>rearrange<span class="_ _9"> </span>the<span class="_ _a"> </span>en<span class="_ _4"></span>tire<span class="_ _9"> </span>tree</div><div class="t m0 x30 h8 y2ca ff5 fs3 fc0 sc0 ls0 ws0">T</div><div class="t m2 x31 h6 y2ca ff4 fs3 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>so<span class="_ _9"> </span>that<span class="_ _9"> </span>elements<span class="_ _9"> </span>that<span class="_ _9"> </span>are<span class="_ _a"> </span>not</div><div class="t m1f x0 h6 y2cb ff4 fs3 fc0 sc0 ls0 ws0">requested<span class="_ _7"> </span>during<span class="_ _5"> </span>this<span class="_ _7"> </span>segment<span class="_ _5"> </span>are<span class="_ _7"> </span>b<span class="_ _8"></span>elow<span class="_ _5"> </span>any<span class="_ _5"> </span>elements<span class="_ _5"> </span>that<span class="_ _7"> </span>will<span class="_ _7"> </span>b<span class="_ _8"></span>e<span class="_ _7"> </span>requested<span class="_ _7"> </span>in<span class="_ _7"> </span>the<span class="_ _5"> </span>segment.<span class="_ _3"> </span>(W<span class="_ _6"></span>e</div><div class="t m1 x0 h6 y2cc ff4 fs3 fc0 sc0 ls0 ws0">put<span class="_ _5"> </span>un<span class="_ _1"></span>used<span class="_ _5"> </span>elemen<span class="_ _4"></span>ts<span class="_ _5"> </span>“out<span class="_ _5"> </span>of<span class="_ _d"> </span>the<span class="_ _5"> </span>w<span class="_ _4"></span>a<span class="_ _4"></span>y”<span class="_ _1e"></span>.)<span class="_ _b"> </span>This<span class="_ _d"> </span>prepro<span class="_ _c"></span>cessing<span class="_ _5"> </span>step<span class="_ _d"> </span>(a<span class="_ _5"> </span>p<span class="_ _8"></span>erm<span class="_ _4"></span>utation)<span class="_ _5"> </span>costs<span class="_ _5"> </span><span class="ff6">Θ(</span></div><div class="t m0 x131 h6 y2cc ff5 fs3 fc0 sc0 ls0 ws0">n<span class="_ _18"> </span><span class="ff6">log</span></div><div class="t m0 xbc h9 y2cd ff7 fs4 fc0 sc0 ls0 ws0">k</div><div class="t m1 xa h6 y2cc ff6 fs3 fc0 sc0 ls0 ws0">(</div><div class="t m0 xd6 h8 y2cc ff5 fs3 fc0 sc0 ls0 ws0">n</div><div class="t m1 xde h6 y2cc ff6 fs3 fc0 sc0 ls0 ws0">))</div><div class="t m2 x0 h6 y2ce ff4 fs3 fc0 sc0 ls0 ws0">p<span class="_ _8"></span>er<span class="_ _9"> </span>segmen<span class="_ _1"></span>t,<span class="_ _9"> </span>which<span class="_ _7"> </span>is<span class="_ _9"> </span>an<span class="_ _9"> </span>amortized<span class="_ _7"> </span><span class="ff6">Θ(</span></div><div class="t m0 x18f h6 y2ce ff6 fs3 fc0 sc0 ls0 ws0">log</div><div class="t m0 xbd h9 y2cf ff7 fs4 fc0 sc0 ls0 ws0">k</div><div class="t m2 x6 h6 y2ce ff6 fs3 fc0 sc0 ls0 ws0">(</div><div class="t m0 x8f h8 y2ce ff5 fs3 fc0 sc0 ls0 ws0">n</div><div class="t m2 x7e h6 y2ce ff6 fs3 fc0 sc0 ls0 ws0">))<span class="_ _9"> </span><span class="ff4">con<span class="_ _1"></span>tribution<span class="_ _9"> </span>to<span class="_ _9"> </span>the<span class="_ _7"> </span>costs<span class="_ _9"> </span>for<span class="_ _9"> </span>an<span class="_ _4"></span>y<span class="_ _9"> </span>single<span class="_ _7"> </span>access.</span></div><div class="t mc x5f h6 y2d0 ff4 fs3 fc0 sc0 ls0 ws0">W<span class="_ _6"></span>e<span class="_ _5"> </span>can<span class="_ _7"> </span>thus<span class="_ _5"> </span>fo<span class="_ _8"></span>cus<span class="_ _7"> </span>on<span class="_ _7"> </span>the<span class="_ _5"> </span>ﬁrst<span class="_ _7"> </span>segment<span class="_ _5"> </span>for<span class="_ _7"> </span>the<span class="_ _7"> </span>rest<span class="_ _5"> </span>of<span class="_ _7"> </span>this<span class="_ _7"> </span>section.<span class="_ _b"> </span>Moreo<span class="_ _1"></span>ver,<span class="_ _5"> </span>we<span class="_ _5"> </span>will<span class="_ _7"> </span>understand</div><div class="t m2 x0 h6 y2d1 ff4 fs3 fc0 sc0 ls0 ws0">the<span class="_ _7"> </span>recurrence<span class="_ _9"> </span>times<span class="_ _7"> </span>of<span class="_ _9"> </span>accesses<span class="_ _7"> </span>to<span class="_ _9"> </span>b<span class="_ _8"></span>e<span class="_ _7"> </span>relative<span class="_ _7"> </span>to<span class="_ _7"> </span>the<span class="_ _9"> </span>segmen<span class="_ _4"></span>t,</div><div class="t m0 x141 h6 y2d1 ff4 fs3 fc0 sc0 ls0 ws0">i.<span class="_ _11"></span>e.</div><div class="t m2 x1ae h6 y2d1 ff4 fs3 fc0 sc0 ls0 ws0">,</div><div class="t m0 x4a h8 y2d1 ff5 fs3 fc0 sc0 ls0 ws0">r</div><div class="t m2 x4b h6 y2d1 ff6 fs3 fc0 sc0 ls0 ws0">(</div><div class="t m0 x1af h8 y2d1 ff5 fs3 fc0 sc0 ls0 ws0">t</div><div class="t m2 x34 h6 y2d1 ff6 fs3 fc0 sc0 ls0 ws0">)<span class="_ _5"> </span>=</div><div class="t m0 x15 h7 y2d1 ff3 fs3 fc0 sc0 ls0 ws0">∞</div><div class="t m2 x1b0 h6 y2d1 ff4 fs3 fc0 sc0 ls0 ws0">if<span class="_ _7"> </span>this<span class="_ _9"> </span>is<span class="_ _7"> </span>the<span class="_ _9"> </span>last</div><div class="t m0 x0 h6 y2d2 ff4 fs3 fc0 sc0 ls0 ws0">o<span class="_ _8"></span>ccurrence<span class="_ _5"> </span>of<span class="_ _7"> </span><span class="ff5">a</span></div><div class="t m0 x6a h9 y2d3 ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m0 xd8 h6 y2d2 ff4 fs3 fc0 sc0 ls0 ws0">in<span class="_ _5"> </span>the<span class="_ _7"> </span>ﬁrst<span class="_ _7"> </span>segmen<span class="_ _4"></span>t.</div><div class="t m0 x0 h14 y2d4 ff1 fs3 fc0 sc0 ls0 ws0">Buck<span class="_ _4"></span>ets<span class="_ _a"> </span>fo<span class="_ _4"></span>r<span class="_ _a"> </span>Recurrence<span class="_ _9"> </span>Time.</div><div class="t m2 x15f h6 y2d4 ff4 fs3 fc0 sc0 ls0 ws0">W<span class="_ _6"></span>e<span class="_ _7"> </span>will<span class="_ _9"> </span>use</div><div class="t m0 x4e h8 y2d4 ff5 fs3 fc0 sc0 ls0 ws0">b</div><div class="t m2 xb0 h6 y2d4 ff6 fs3 fc0 sc0 ls0 ws0">=</div><div class="t m0 xb8 h6 y2d4 ff3 fs3 fc0 sc0 ls0 ws0">d<span class="ff6">lg<span class="_ _f"> </span><span class="ff5">n</span></span>e</div><div class="t m2 x12f h8 y2d4 ffa fs3 fc0 sc0 ls0 ws0">“buckets”</div><div class="t m0 x1ae h8 y2d4 ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 x8 h9 y2d5 ff8 fs4 fc0 sc0 ls0 ws0">1</div><div class="t m0 xf h8 y2d4 ff5 fs3 fc0 sc0 ls0 ws0">,<span class="_ _18"> </span>.<span class="_ _f"> </span>.<span class="_ _18"> </span>.<span class="_ _f"> </span>,<span class="_ _18"> </span>B</div><div class="t m0 x53 h9 y2d6 ff7 fs4 fc0 sc0 ls0 ws0">b</div><div class="t m2 x185 h6 y2d4 ff4 fs3 fc0 sc0 ls0 ws0">to<span class="_ _7"> </span>hold<span class="_ _9"> </span>elemen<span class="_ _4"></span>ts,</div><div class="t m2 x0 h6 y2d7 ff4 fs3 fc0 sc0 ls0 ws0">group<span class="_ _8"></span>ed<span class="_ _9"> </span>b<span class="_ _4"></span>y<span class="_ _9"> </span>their<span class="_ _9"> </span>current<span class="_ _7"> </span>recurrence<span class="_ _9"> </span>time:</div><div class="t m0 x6 h8 y2d7 ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 x11 h9 y2d8 ff8 fs4 fc0 sc0 ls0 ws0">1</div><div class="t m2 xef h6 y2d7 ff4 fs3 fc0 sc0 ls0 ws0">holds<span class="_ _9"> </span>elemen<span class="_ _4"></span>ts<span class="_ _9"> </span>with<span class="_ _9"> </span>recurrence<span class="_ _9"> </span>time<span class="_ _9"> </span><span class="ff6">1</span>,</div><div class="t m0 x17e h8 y2d7 ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 x19e h9 y2d8 ff8 fs4 fc0 sc0 ls0 ws0">2</div><div class="t m2 x194 h6 y2d7 ff4 fs3 fc0 sc0 ls0 ws0">gets</div><div class="t m2 x0 h6 y2d9 ff4 fs3 fc0 sc0 ls0 ws0">recurrence<span class="_ _b"> </span>times<span class="_ _3"> </span><span class="ff6">2<span class="_ _b"> </span></span>and<span class="_ _b"> </span><span class="ff6">3</span>, and<span class="_ _3"> </span>in<span class="_ _b"> </span>general,</div><div class="t m0 x8f h8 y2d9 ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 xfd h9 y2da ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m2 x162 h6 y2d9 ff4 fs3 fc0 sc0 ls0 ws0">holds<span class="_ _b"> </span>all<span class="_ _3"> </span>elements<span class="_ _3"> </span>with<span class="_ _b"> </span>recurrence<span class="_ _b"> </span>times</div><div class="t m0 xd5 h8 y2d9 ff5 fs3 fc0 sc0 ls0 ws0">r</div><div class="t m2 x1b1 h6 y2d9 ff4 fs3 fc0 sc0 ls0 ws0">in</div><div class="t m2 x0 h6 y2db ff6 fs3 fc0 sc0 ls0 ws0">[2</div><div class="t m0 x38 h9 y2dc ff7 fs4 fc0 sc0 ls0 ws0">j<span class="_ _8"></span><span class="ff15">−<span class="ff8">1</span></span></div><div class="t m0 xc3 h8 y2db ff5 fs3 fc0 sc0 ls0 ws0">..</div><div class="t m2 xc0 h6 y2db ff6 fs3 fc0 sc0 ls0 ws0">2</div><div class="t m0 x110 h9 y2dc ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m0 x10b h7 y2db ff3 fs3 fc0 sc0 ls0 ws0">−</div><div class="t m2 x68 h6 y2db ff6 fs3 fc0 sc0 ls0 ws0">1]<span class="ff4">.<span class="_ _1a"> </span>Each<span class="_ _9"> </span>buc<span class="_ _4"></span>ket</span></div><div class="t m0 xf9 h8 y2db ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 x191 h9 y2dd ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m2 x1b2 h6 y2db ff4 fs3 fc0 sc0 ls0 ws0">is<span class="_ _9"> </span>a<span class="_ _9"> </span>subtree,<span class="_ _9"> </span>conceptually<span class="_ _9"> </span>divided<span class="_ _9"> </span>into<span class="_ _9"> </span>three<span class="_ _9"> </span>parts:<span class="_ _14"> </span>t<span class="_ _4"></span>w<span class="_ _4"></span>o<span class="_ _9"> </span>input</div><div class="t m0 x0 h6 y2de ff4 fs3 fc0 sc0 ls0 ws0">buﬀers,<span class="_ _5"> </span>called<span class="_ _7"> </span><span class="ffa">“ne<span class="_ _1"></span>ar-futur<span class="_ _4"></span>e<span class="_ _7"> </span>buﬀer”<span class="_ _3"> </span><span class="ff4">and<span class="_ _7"> </span></span>“far-futur<span class="_ _1"></span>e<span class="_ _9"> </span>buﬀer”,<span class="_ _5"> </span><span class="ff4">and<span class="_ _7"> </span>a<span class="_ _7"> </span></span>“sorte<span class="_ _1"></span>d<span class="_ _9"> </span>queue”<span class="ff4">.</span></span></div><div class="t m1 x3c h6 y2df ff4 fs3 fc0 sc0 ls0 ws0">In<span class="_ _d"> </span>a<span class="_ _d"> </span>tournament<span class="_ _1b"> </span>tree,<span class="_ _5"> </span>these<span class="_ _1b"> </span>can<span class="_ _d"> </span>b<span class="_ _8"></span>e<span class="_ _d"> </span>represented<span class="_ _1b"> </span>by<span class="_ _1b"> </span>a<span class="_ _5"> </span>con<span class="_ _1"></span>ven<span class="_ _1"></span>tion<span class="_ _d"> </span>like<span class="_ _1b"> </span>the<span class="_ _5"> </span>one<span class="_ _1b"> </span>sketc<span class="_ _1"></span>hed<span class="_ _d"> </span>in<span class="_ _d"> </span>Figure<span class="_ _5"> </span>5.</div><div class="t m24 x0 h6 y2e0 ff4 fs3 fc0 sc0 ls0 ws0">Note<span class="_ _7"> </span>that<span class="_ _7"> </span>in<span class="_ _7"> </span>terms<span class="_ _7"> </span>of<span class="_ _7"> </span>its<span class="_ _7"> </span>in<span class="_ _4"></span>terface<span class="_ _7"> </span>to<span class="_ _7"> </span>other<span class="_ _7"> </span>buck<span class="_ _1"></span>ets,<span class="_ _7"> </span>each<span class="_ _5"> </span>buck<span class="_ _1"></span>et<span class="_ _7"> </span>lo<span class="_ _8"></span>oks<span class="_ _7"> </span>like<span class="_ _5"> </span>one<span class="_ _7"> </span>big<span class="_ _7"> </span>binary<span class="_ _7"> </span>no<span class="_ _8"></span>de:<span class="_ _b"> </span>it</div><div class="t mf x0 h6 y2e1 ff4 fs3 fc0 sc0 ls0 ws0">has<span class="_ _5"> </span>p<span class="_ _8"></span>ointers<span class="_ _5"> </span>for<span class="_ _7"> </span>a<span class="_ _5"> </span>left<span class="_ _7"> </span>and<span class="_ _7"> </span>a<span class="_ _5"> </span>right<span class="_ _5"> </span>child.<span class="_ _a"> </span>W<span class="_ _6"></span>e<span class="_ _7"> </span>can<span class="_ _7"> </span>therefore<span class="_ _5"> </span>form<span class="_ _7"> </span>a<span class="_ _7"> </span>binary<span class="_ _5"> </span>tree<span class="_ _7"> </span>of<span class="_ _5"> </span>buck<span class="_ _4"></span>ets;<span class="_ _5"> </span>indeed,</div><div class="t m1 x5f h6 y2e2 ff4 fs3 fc0 sc0 ls0 ws0">w<span class="_ _4"></span>e<span class="_ _5"> </span>keep<span class="_ _5"> </span>the<span class="_ _5"> </span>buc<span class="_ _4"></span>kets<span class="_ _5"> </span>in<span class="_ _5"> </span>a<span class="_ _5"> </span>balanced<span class="_ _5"> </span>binary<span class="_ _5"> </span>tree<span class="_ _5"> </span>of<span class="_ _7"> </span>heigh<span class="_ _4"></span>t</div><div class="t m0 xdd h6 y2e2 ff3 fs3 fc0 sc0 ls0 ws0">d<span class="ff6">lg</span>d<span class="ff6">lg<span class="_ _f"> </span><span class="ff5">n</span></span>ee<span class="_ _d"> </span>≤</div><div class="t m1 x7b h6 y2e2 ff6 fs3 fc0 sc0 ls0 ws0">1<span class="_ _f"> </span>+</div><div class="t m0 x7d h6 y2e2 ff6 fs3 fc0 sc0 ls0 ws0">lg<span class="_ _f"> </span>lg<span class="_ _f"> </span><span class="ff5">n</span></div><div class="t m1 x111 h6 y2e2 ff4 fs3 fc0 sc0 ls0 ws0">.<span class="_ _3"> </span>Navigating<span class="_ _5"> </span>to<span class="_ _5"> </span>(the</div><div class="t m0 x0 h6 y2e3 ff4 fs3 fc0 sc0 ls0 ws0">ﬁrst<span class="_ _5"> </span>no<span class="_ _8"></span>de<span class="_ _7"> </span>of<span class="_ _8"></span>)<span class="_ _7"> </span>a<span class="_ _7"> </span>buc<span class="_ _4"></span>ket<span class="_ _5"> </span>th<span class="_ _4"></span>us<span class="_ _7"> </span>costs<span class="_ _5"> </span><span class="ff5">O<span class="_ _8"></span><span class="ff6">(log<span class="_ _f"> </span>log<span class="_ _f"> </span></span>n<span class="ff6">)</span></span>.</div><div class="t m15 x3c h6 y2e4 ff4 fs3 fc0 sc0 ls0 ws0">W<span class="_ _6"></span>e<span class="_ _5"> </span>think<span class="_ _7"> </span>of<span class="_ _5"> </span>the<span class="_ _7"> </span>buﬀers<span class="_ _5"> </span>and<span class="_ _7"> </span>the<span class="_ _5"> </span>sorted<span class="_ _7"> </span>queue<span class="_ _5"> </span>of<span class="_ _5"> </span>buck<span class="_ _4"></span>et</div><div class="t m0 x2e h8 y2e4 ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 x1b3 h9 y2e5 ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m15 x155 h6 y2e4 ff4 fs3 fc0 sc0 ls0 ws0">as<span class="_ _5"> </span>having<span class="_ _5"> </span>a<span class="_ _5"> </span>maximal<span class="_ _5"> </span>capacity<span class="_ _5"> </span>of</div><div class="t m2 x5f h6 y2e6 ff6 fs3 fc0 sc0 ls0 ws0">2</div><div class="t m0 x37 h9 y2e7 ff7 fs4 fc0 sc0 ls0 ws0">j<span class="_ _8"></span><span class="ff15">−<span class="ff8">1</span></span></div><div class="t m2 x40 h6 y2e6 ff4 fs3 fc0 sc0 ls0 ws0">elemen<span class="_ _4"></span>ts<span class="_ _9"> </span>each.<span class="_ _16"> </span>The<span class="_ _9"> </span>input<span class="_ _9"> </span>buﬀers<span class="_ _9"> </span>are<span class="_ _9"> </span>linear<span class="_ _a"> </span>lists<span class="_ _9"> </span>into<span class="_ _9"> </span>whic<span class="_ _1"></span>h<span class="_ _a"> </span>a<span class="_ _9"> </span>new<span class="_ _9"> </span>no<span class="_ _8"></span>de</div><div class="t m0 x1b4 h8 y2e6 ff5 fs3 fc0 sc0 ls0 ws0">v</div><div class="t m2 xf5 h6 y2e6 ff4 fs3 fc0 sc0 ls0 ws0">is<span class="_ _9"> </span>inserted<span class="_ _9"> </span>by</div><div class="t m1 x0 h6 y2e8 ff4 fs3 fc0 sc0 ls0 ws0">making<span class="_ _5"> </span>the<span class="_ _5"> </span>curren<span class="_ _4"></span>t<span class="_ _5"> </span>buﬀer</div><div class="t m0 xa9 h8 y2e8 ff5 fs3 fc0 sc0 ls0 ws0">v</div><div class="t m1 xf8 h6 y2e8 ff4 fs3 fc0 sc0 ls0 ws0">’s<span class="_ _5"> </span>c<span class="_ _4"></span>hild<span class="_ _5"> </span>and<span class="_ _5"> </span>using</div><div class="t m0 x27 h8 y2e8 ff5 fs3 fc0 sc0 ls0 ws0">v</div><div class="t m1 x4e h6 y2e8 ff4 fs3 fc0 sc0 ls0 ws0">as<span class="_ _5"> </span>the<span class="_ _5"> </span>new<span class="_ _5"> </span>ro<span class="_ _8"></span>ot<span class="_ _5"> </span>of<span class="_ _5"> </span>the<span class="_ _5"> </span>buﬀer.<span class="_ _b"> </span>The<span class="_ _5"> </span>queue<span class="_ _5"> </span>is<span class="_ _5"> </span>similar,</div><div class="t m0 x0 h6 y2e9 ff4 fs3 fc0 sc0 ls0 ws0">but<span class="_ _5"> </span>here<span class="_ _7"> </span>elements<span class="_ _5"> </span>are<span class="_ _5"> </span>only<span class="_ _7"> </span>consumed<span class="_ _7"> </span>by<span class="_ _5"> </span>remo<span class="_ _4"></span>ving<span class="_ _7"> </span>the<span class="_ _5"> </span>ro<span class="_ _8"></span>ot<span class="_ _7"> </span>of<span class="_ _7"> </span>the<span class="_ _7"> </span>queue.</div><div class="t m17 x3c h6 y2ea ff4 fs3 fc0 sc0 ls0 ws0">Moreo<span class="_ _4"></span>ver,<span class="_ _5"> </span>for<span class="_ _5"> </span>each<span class="_ _5"> </span>buck<span class="_ _1"></span>et</div><div class="t m0 x84 h8 y2ea ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 xdb h9 y2eb ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m17 x1b2 h6 y2ea ff4 fs3 fc0 sc0 ls0 ws0">,<span class="_ _5"> </span>we<span class="_ _5"> </span>store<span class="_ _7"> </span>an<span class="_ _5"> </span><span class="ffa">“expir<span class="_ _4"></span>ation<span class="_ _7"> </span>time”</span></div><div class="t m0 x7a h8 y2ea ff5 fs3 fc0 sc0 ls0 ws0">e</div><div class="t m0 x99 h9 y2eb ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m17 x1a h6 y2ea ff4 fs3 fc0 sc0 ls0 ws0">(for<span class="_ _5"> </span>its<span class="_ _7"> </span>sorted<span class="_ _7"> </span>queue);<span class="_ _5"> </span>this<span class="_ _7"> </span>is</div><div class="t m22 x0 h6 y2ec ff4 fs3 fc0 sc0 ls0 ws0">the<span class="_ _5"> </span>time<span class="_ _7"> </span>when<span class="_ _7"> </span>the<span class="_ _7"> </span>sorted<span class="_ _7"> </span>queue<span class="_ _5"> </span>will<span class="_ _7"> </span>resp.<span class="_ _7"> </span>would<span class="_ _5"> </span>b<span class="_ _8"></span>ecome<span class="_ _7"> </span>“in<span class="_ _4"></span>v<span class="_ _1"></span>alid”<span class="_ _1e"></span>.<span class="_ _b"> </span>The<span class="_ _5"> </span>signiﬁcance<span class="_ _7"> </span>of<span class="_ _7"> </span>expiration</div><div class="t m1c x0 h6 y2ed ff4 fs3 fc0 sc0 ls0 ws0">times<span class="_ _5"> </span>will<span class="_ _7"> </span>b<span class="_ _8"></span>ecome<span class="_ _5"> </span>more<span class="_ _7"> </span>clear<span class="_ _5"> </span>when<span class="_ _7"> </span>we<span class="_ _5"> </span>describe<span class="_ _7"> </span>insertions<span class="_ _5"> </span>into<span class="_ _5"> </span>buﬀers<span class="_ _7"> </span>b<span class="_ _8"></span>elo<span class="_ _4"></span>w.<span class="_ _3"> </span>The<span class="_ _7"> </span>sorted<span class="_ _5"> </span>queue</div><div class="t m1 x0 h6 y2ee ff4 fs3 fc0 sc0 ls0 ws0">can<span class="_ _5"> </span>run<span class="_ _7"> </span>empty<span class="_ _5"> </span>earlier<span class="_ _5"> </span>than<span class="_ _7"> </span>its<span class="_ _7"> </span>expiration<span class="_ _5"> </span>time,<span class="_ _7"> </span>but<span class="_ _7"> </span>w<span class="_ _4"></span>e<span class="_ _7"> </span>will<span class="_ _5"> </span>prov<span class="_ _1"></span>e<span class="_ _7"> </span>(Lemma<span class="_ _7"> </span>4.2)<span class="_ _5"> </span>that<span class="_ _7"> </span>it<span class="_ _7"> </span>alw<span class="_ _4"></span>ays<span class="_ _5"> </span>do<span class="_ _8"></span>es</div><div class="t m2 x0 h6 y2ef ff4 fs3 fc0 sc0 ls0 ws0">so<span class="_ _5"> </span>the<span class="_ _7"> </span>latest<span class="_ _7"> </span>at<span class="_ _7"> </span>time</div><div class="t m0 x196 h8 y2ef ff5 fs3 fc0 sc0 ls0 ws0">e</div><div class="t m0 x135 h9 y2f0 ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m2 xd2 h6 y2ef ff4 fs3 fc0 sc0 ls0 ws0">:<span class="_ _3"> </span>we<span class="_ _5"> </span>do<span class="_ _7"> </span>not<span class="_ _7"> </span>consume<span class="_ _5"> </span>elements<span class="_ _5"> </span>past<span class="_ _7"> </span>their<span class="_ _7"> </span>b<span class="_ _8"></span>est-b<span class="_ _8"></span>efore<span class="_ _5"> </span>date.<span class="_ _b"> </span>Initially<span class="_ _6"></span>,<span class="_ _7"> </span>the</div><div class="t m0 x0 h6 y2f1 ff4 fs3 fc0 sc0 ls0 ws0">sorted<span class="_ _5"> </span>queue<span class="_ _7"> </span>is<span class="_ _7"> </span>empt<span class="_ _4"></span>y<span class="_ _7"> </span>and<span class="_ _7"> </span>w<span class="_ _4"></span>e<span class="_ _7"> </span>set<span class="_ _5"> </span><span class="ff5">e</span></div><div class="t m0 x60 h9 y2f2 ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m0 xcb h6 y2f1 ff6 fs3 fc0 sc0 ls0 ws0">= 2</div><div class="t m0 x4d h9 y2f3 ff7 fs4 fc0 sc0 ls0 ws0">j<span class="_ _8"></span><span class="ff15">−<span class="ff8">1</span></span></div><div class="t m0 x6 h6 y2f1 ff3 fs3 fc0 sc0 ls0 ws0">−<span class="_ _10"> </span><span class="ff6">1<span class="ff4">.</span></span></div><div class="t m0 x0 h14 y2f4 ff1 fs3 fc0 sc0 ls0 ws0">So<span class="_ _4"></span>rting<span class="_ _b"> </span>elements<span class="_ _b"> </span>into<span class="_ _b"> </span>buckets.</div><div class="t m2 x67 h6 y2f4 ff4 fs3 fc0 sc0 ls0 ws0">Supp<span class="_ _8"></span>ose<span class="_ _a"> </span>we<span class="_ _a"> </span>serv<span class="_ _4"></span>e<span class="_ _a"> </span>the<span class="_ _3"> </span>access<span class="_ _3"> </span>at<span class="_ _a"> </span>time</div><div class="t m0 xf0 h8 y2f4 ff5 fs3 fc0 sc0 ls0 ws0">t</div><div class="t m2 x189 h6 y2f4 ff4 fs3 fc0 sc0 ls0 ws0">to<span class="_ _a"> </span>key</div><div class="t m0 x15d h8 y2f4 ff5 fs3 fc0 sc0 ls0 ws0">x</div><div class="t m2 x3a h6 y2f4 ff6 fs3 fc0 sc0 ls0 ws0">=</div><div class="t m0 xe1 h8 y2f4 ff5 fs3 fc0 sc0 ls0 ws0">a</div><div class="t m0 x8a h9 y2f5 ff7 fs4 fc0 sc0 ls0 ws0">t</div><div class="t m2 x15e h6 y2f4 ff4 fs3 fc0 sc0 ls0 ws0">.</div><div class="t m0 x1b5 h8 y2f4 ff5 fs3 fc0 sc0 ls0 ws0">x</div><div class="t m2 x55 h6 y2f4 ff4 fs3 fc0 sc0 ls0 ws0">is</div><div class="t m1e x0 h6 y2f6 ff4 fs3 fc0 sc0 ls0 ws0">curren<span class="_ _4"></span>tly<span class="_ _5"> </span>stored<span class="_ _7"> </span>in<span class="_ _7"> </span>some<span class="_ _5"> </span>buck<span class="_ _1"></span>et</div><div class="t m0 x1b2 h8 y2f6 ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 x10c h9 y2f7 ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m1e x19d h6 y2f6 ff4 fs3 fc0 sc0 ls0 ws0">and<span class="_ _5"> </span>will<span class="_ _7"> </span>b<span class="_ _8"></span>e<span class="_ _5"> </span>at<span class="_ _7"> </span>the<span class="_ _5"> </span>front<span class="_ _5"> </span>of</div><div class="t m0 x155 h8 y2f6 ff5 fs3 fc0 sc0 ls0 ws0">B</div><div class="t m0 x18a h9 y2f7 ff7 fs4 fc0 sc0 ls0 ws0">j</div><div class="t m1e x142 h6 y2f6 ff4 fs3 fc0 sc0 ls0 ws0">’s<span class="_ _5"> </span>sorted<span class="_ _7"> </span>queue.<span class="_ _3"> </span>W<span class="_ _6"></span>e<span class="_ _7"> </span>remo<span class="_ _4"></span>ve</div><div class="t m0 xde h8 y2f6 ff5 fs3 fc0 sc0 ls0 ws0">x</div><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",142.651,441.058,null]'><div class="d m9" style="border-style:none;position:absolute;left:809.145425px;bottom:513.026144px;width:40.446000px;height:11.628000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf11" data-dest-detail='[17,"XYZ",427.226,249.695,null]'><div class="d m9" style="border-style:none;position:absolute;left:631.428105px;bottom:246.364379px;width:53.797000px;height:12.902000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.633987,0.000000,0.000000,1.633987,0.000000,0.000000]}'></div></div>
