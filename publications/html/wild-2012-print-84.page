<div id="pf54" class="pf w0 h0" data-page-no="54"><div class="pc pc54 w0 h0"><img class="bi xc yd01 w2 h6c" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA4wAAADUCAIAAABYnTryAAAACXBIWXMAABYlAAAWJQFJUiTwAAADiklEQVR42u3WsQ3AMAwDQSuI9l9WpQF5g3SBVdyNQLD4VVULAAAmie62AgAAozwmAABApAIAgEgFAECkAgCASAUAQKQCAIBIBQBApAIAgEgFAACRCgCASAUAAJEKAIBIBQAAkQoAgEgFAACRCgCASAUAAJEKAAAiFQAAkQoAACIVAACRCgAAIhUAAJEKAAAiFQAARCoAACIVAABEKgAAIhUAAEQqAAAiFQAARCoAACIVAABEKgAAiFQAAEQqAACIVAAARCoAAIhUAABEKgAAiFQAABCpAACIVAAAEKkAAIhUAAAQqQAAiFQAABCpAACIVAAAEKkAACBSAQAQqQAAIFIBABCpAAAgUgEAEKkAACBSAQBApAIAIFIBAECkAgAgUgEAQKQCACBSAQBApAIAIFIBAECkAgCASAUAQKQCAIBIBQBApAIAgEgFAECkAgCASAUAAJEKAIBIBQAAkQoAgEgFAACRCgCASAUAAJEKAIBIBQAAkQoAACIVAACRCgAAIhUAAJEKAAAiFQAAkQoAACIVAABEKgAAIhUAAEQqAAAiFQAARCoAACIVAABEKgAAIhUAAEQqAACIVAAARCoAAIhUAABEKgAAiFQAAEQqAACIVAAAEKkAAIhUAAAQqQAAiFQAABCpAACIVAAAEKkAAIhUAAAQqQAAIFIBABCpAAAgUgEAEKkAACBSAQAQqQAAIFIBAECkAgAgUgEAQKQCACBSAQBApAIAIFIBAECkAgAgUgEAQKQCAIBIBQBApAIAgEgFAECkAgCASAUAQKQCAIBIBQBApAIAgEgFAACRCgCASAUAAJEKAIBIBQAAkQoAgEgFAACRCgAAIhUAAJEKAAAiFQAAkQoAACIVAACRCgAAIhUAAJEKAAAiFQAARCoAACIVAABEKgAAIhUAAEQqAAAiFQAARCoAAIhUAABEKgAAiFQAAEQqAACIVAAARCoAAIhUAABEKgAAiFQAABCpAACIVAAAEKkAAIhUAAAQqQAAiFQAABCpAAAgUgEAEKkAACBSAQAQqQAAIFIBABCpAAAgUgEAEKkAACBSAQBApAIAIFIBAECkAgAgUgEAQKQCACBSAQBApAIAgEgFAECkAgCASAUAQKQCAIBIBQBApAIAgEgFAECkAgCASAUAAJEKAIBIBQAAkQoAgEgFAACRCgCASAUAgDteE8Ate+/MtMO37jbCNBHhSMDfDlI3EIFi8pVhAAAAAElFTkSuQmCC"/><div class="t m0 xc he y30 ff8 fs4 fc0 sc0 ls0 ws0">4<span class="_ _4c"> </span>Average<span class="_ _9"> </span>Case<span class="_ _a"> </span>Analysis<span class="_ _9"> </span>of<span class="_ _9"> </span>Dual-Pivot<span class="_ _9"> </span>Quicksort</div><div class="t m0 xc hd y31 ff5 fs4 fc0 sc0 ls0 ws0">By<span class="_ _a"> </span>the<span class="_ _a"> </span>la<span class="_ _20"></span>w<span class="_ _a"> </span>of<span class="_ _a"> </span>total<span class="_ _a"> </span>expectation,<span class="_ _a"> </span>w<span class="_ _20"></span>e<span class="_ _a"> </span>ﬁnally<span class="_ _a"> </span>ha<span class="_ _b"></span>v<span class="_ _20"></span>e</div><div class="t m0 x167 h1f yd02 ff13 fs4 fc0 sc0 ls0 ws0">E</div><div class="t m0 x206 hf yd03 ffa fs6 fc0 sc0 ls0 ws0">n</div><div class="t m0 x25 h10 yd04 ffb fs4 fc0 sc0 ls0 ws0">[</div><div class="t m0 xc8 he yd02 ffa fs4 fc0 sc0 ls0 ws0">c<span class="_ _5"> </span><span class="ff7">@<span class="_ _5"> </span><span class="ff11">P</span></span></div><div class="t m0 x11a h10 yd04 ffb fs4 fc0 sc0 ls0 ws0">]</div><div class="t m0 xe6 h10 yd02 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x1c9 h1c yd05 ff14 fs4 fc0 sc0 ls0 ws0">X</div><div class="t m0 x16c hf yd06 ffa fs6 fc0 sc0 ls0 ws0">1<span class="fff">6</span>p&lt;q<span class="fff">6</span>n</div><div class="t m0 x1f5 h1f yd02 ff13 fs4 fc0 sc0 ls0 ws0">E</div><div class="t m0 x1bc hf yd03 ffa fs6 fc0 sc0 ls0 ws0">n</div><div class="t m0 x132 h10 yd04 ffb fs4 fc0 sc0 ls0 ws0">[</div><div class="t m0 xaa he yd02 ffa fs4 fc0 sc0 ls0 ws0">c<span class="_ _5"> </span><span class="ff7">@<span class="_ _5"> </span><span class="ff11">P<span class="_ _5"> </span>|<span class="_ _5"> </span></span></span>p<span class="ff5">,<span class="_ _5"> </span></span>q</div><div class="t m0 x19f h10 yd04 ffb fs4 fc0 sc0 ls0 ws0">]</div><div class="t m0 xbc h1b yd02 ff12 fs4 fc0 sc0 ls0 ws0">·<span class="_ _31"></span><span class="ff5">Pr<span class="ffb">[</span>piv<span class="_ _20"></span>ots<span class="_ _a"> </span><span class="ffb">(<span class="ffa">p</span></span>,<span class="_ _5"> </span><span class="ffa">q<span class="ffb">)]</span></span></span></div><div class="t m0 xe6 h10 yd07 ffb fs4 fc0 sc0 ls0 ws0">=</div><div class="t m0 x186 h6 yd08 ffa fs4 fc0 sc0 ls0 ws0">2</div><div class="t m0 xa5 h10 yd09 ffa fs4 fc0 sc0 ls0 ws0">n<span class="ffb">(</span>n<span class="_ _31"> </span><span class="ffb">−<span class="_ _31"> </span></span>1<span class="ffb">)</span></div><div class="t m0 x141 h1c yd0a ff14 fs4 fc0 sc0 ls0 ws0">X</div><div class="t m0 x21 hf yd0b ffa fs6 fc0 sc0 ls0 ws0">1<span class="fff">6</span>p&lt;q<span class="fff">6</span>n</div><div class="t m0 x133 h1b yd07 ff5 fs4 fc0 sc0 ls0 ws0">#<span class="ffa">c<span class="_ _31"> </span><span class="ff12">·</span></span></div><div class="t m0 x1b5 he yd08 ff11 fs4 fc0 sc0 ls0 ws0">|P|</div><div class="t m0 xbb h10 yd09 ffa fs4 fc0 sc0 ls0 ws0">n<span class="_ _31"> </span><span class="ffb">−<span class="_ _31"> </span></span>2</div><div class="t m0 xa7 hd yd07 ff5 fs4 fc0 sc0 ls0 ws0">.</div><div class="t m0 xc h3 yd0c ff1 fs1 fc0 sc0 ls0 ws0">4.3.3<span class="_ _22"> </span>Yaroslavskiy’s Partitioning Method</div><div class="t m1d xc hd yd0d ff5 fs4 fc0 sc0 ls0 ws0">For<span class="_ _a"> </span>conv<span class="_ _20"></span>enience,<span class="_ _a"> </span>the<span class="_ _a"> </span>partitioning<span class="_ _a"> </span>part<span class="_ _a"> </span>of<span class="_ _a"> </span>Algorithm<span class="_ _9"> </span><span class="ff6">8<span class="_ _a"> </span></span>is<span class="_ _a"> </span>reproduced<span class="_ _a"> </span>here.<span class="_ _0"> </span>The</div><div class="t m4 xc hd yd0e ff5 fs4 fc0 sc0 ls0 ws0">comparison<span class="_ _9"> </span>and<span class="_ _a"> </span>sw<span class="_ _20"></span>ap<span class="_ _9"> </span>locations<span class="_ _a"> </span>are<span class="_ _9"> </span>annotated<span class="_ _9"> </span>with<span class="_ _a"> </span>the<span class="_ _9"> </span>corresponding<span class="_ _9"> </span>frequency</div><div class="t m0 xc hd yd0f ff5 fs4 fc0 sc0 ls0 ws0">counters.</div><div class="t m0 x2b h10 yd10 ffa fs8 fc0 sc0 ls0 ws0">2<span class="_ _40"> </span><span class="fs4">p<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>A<span class="ffb">[<span class="ff7">left</span>]<span class="ff5">;<span class="_ _30"> </span></span></span>q<span class="_ _0"> </span><span class="ffb">:=<span class="_ _17"> </span></span>A<span class="ffb">[<span class="ff7">right</span>]</span></span></div><div class="t m0 x2b h18 yd11 ffa fs8 fc0 sc0 ls0 ws0">3<span class="_ _4c"> </span><span class="ff9 fs4">c</span></div><div class="t m0 x1da hf yd12 ffa fs6 fc0 sc0 ls0 ws0">0</div><div class="t m0 x3e h10 yd11 ff5 fs4 fc0 sc0 ls0 ws0">,<span class="_ _5"> </span><span class="ffb">[<span class="ff9">s</span></span></div><div class="t m0 xd7 hf yd12 ffa fs6 fc0 sc0 ls0 ws0">0</div><div class="t m0 x1a6 h10 yd11 ffb fs4 fc0 sc0 ls0 ws0">]<span class="_ _30"> </span><span class="ff1c">if<span class="_ _a"> </span><span class="ffa">p<span class="_ _9"> </span>&gt;<span class="_ _a"> </span>q<span class="_ _a"> </span></span>then<span class="_ _a"> </span><span class="ff5">Sw<span class="_ _20"></span>ap<span class="_ _a"> </span><span class="ffa">p<span class="_ _a"> </span></span>and<span class="_ _a"> </span><span class="ffa">q<span class="_ _a"> </span><span class="ff1c">end<span class="_ _a"> </span>if</span></span></span></span></div><div class="t m0 x2b h10 yd13 ffa fs8 fc0 sc0 ls0 ws0">4<span class="_ _40"> </span><span class="fs4">`<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span><span class="ff7">left<span class="_ _3c"> </span></span>+<span class="_ _31"> </span></span>1<span class="ff5">;<span class="_ _30"> </span></span>g<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span><span class="ff7">right<span class="_ _3c"> </span></span>−<span class="_ _31"> </span></span>1<span class="ff5">;<span class="_ _30"> </span></span>k<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>`</span></div><div class="t m0 x2b h6 yd14 ffa fs8 fc0 sc0 ls0 ws0">5<span class="_ _40"> </span><span class="ff1c fs4">while<span class="_ _a"> </span><span class="ffa">k<span class="_ _9"> </span><span class="fff">6<span class="_ _a"> </span></span>g</span></span></div><div class="t m0 x2b h18 yd15 ffa fs8 fc0 sc0 ls0 ws0">6<span class="_ _4c"> </span><span class="ff9 fs4">c</span></div><div class="t m0 x1da hf yd16 ffa fs6 fc0 sc0 ls0 ws0">1</div><div class="t m0 x64 h10 yd15 ff1c fs4 fc0 sc0 ls0 ws0">if<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>k<span class="ffb">]<span class="_ _9"> </span></span>&lt;<span class="_ _a"> </span>p</span></div><div class="t m0 x2b h18 yd17 ffa fs8 fc0 sc0 ls0 ws0">7<span class="_ _4c"> </span><span class="ff9 fs4">s</span></div><div class="t m0 x1da hf yd18 ffa fs6 fc0 sc0 ls0 ws0">1</div><div class="t m0 x1df h10 yd17 ff5 fs4 fc0 sc0 ls0 ws0">Sw<span class="_ _20"></span>ap<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>k<span class="ffb">]<span class="_ _a"> </span></span></span>and<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>`<span class="ffb">]</span></span></div><div class="t m0 x2b h10 yd19 ffa fs8 fc0 sc0 ls0 ws0">8<span class="_ _5e"> </span><span class="fs4">`<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>`<span class="_ _3c"> </span><span class="ffb">+<span class="_ _31"> </span></span>1</span></div><div class="t m0 x2b h6 yd1a ffa fs8 fc0 sc0 ls0 ws0">9<span class="_ _4a"> </span><span class="ff1c fs4">else</span></div><div class="t m0 x168 h18 yd1b ffa fs8 fc0 sc0 ls0 ws0">10<span class="_ _4c"> </span><span class="ff9 fs4">c</span></div><div class="t m0 x1da hf yd1c ffa fs6 fc0 sc0 ls0 ws0">2</div><div class="t m0 x1df h10 yd1b ff1c fs4 fc0 sc0 ls0 ws0">if<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>k<span class="ffb">]<span class="_ _9"> </span><span class="fff">&gt;<span class="_ _a"> </span></span></span>q</span></div><div class="t m0 x168 h18 yd1d ffa fs8 fc0 sc0 ls0 ws0">11<span class="_ _4c"> </span><span class="ff9 fs4">c</span></div><div class="t m0 x1da hf yc33 ffa fs6 fc0 sc0 ls0 ws0">3</div><div class="t m0 x8 h10 yd1d ff1c fs4 fc0 sc0 ls0 ws0">while<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>g<span class="ffb">]<span class="_ _9"> </span></span>&gt;<span class="_ _a"> </span>q<span class="_ _a"> </span><span class="ff5">and<span class="_ _a"> </span></span>k<span class="_ _9"> </span>&lt;<span class="_ _a"> </span>g<span class="_ _a"> </span></span>do<span class="_ _a"> </span><span class="ffa">g<span class="_ _0"> </span><span class="ffb">:=<span class="_ _17"> </span></span>g<span class="_ _5"> </span><span class="ffb">−<span class="_ _31"> </span></span>1<span class="_ _4"> </span></span>end<span class="_ _9"> </span>while</div><div class="t m0 x168 h18 yd1e ffa fs8 fc0 sc0 ls0 ws0">12<span class="_ _4c"> </span><span class="ff9 fs4">s</span></div><div class="t m0 x1da hf yd1f ffa fs6 fc0 sc0 ls0 ws0">2</div><div class="t m0 x8 h10 yd1e ff5 fs4 fc0 sc0 ls0 ws0">Sw<span class="_ _20"></span>ap<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>k<span class="ffb">]<span class="_ _a"> </span></span></span>and<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>g<span class="ffb">]</span></span></div><div class="t m0 x168 h10 yd20 ffa fs8 fc0 sc0 ls0 ws0">13<span class="_ _60"> </span><span class="fs4">g<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>g<span class="_ _3c"> </span><span class="ffb">−<span class="_ _31"> </span></span>1</span></div><div class="t m0 x168 h18 yd21 ffa fs8 fc0 sc0 ls0 ws0">14<span class="_ _4c"> </span><span class="ff9 fs4">c</span></div><div class="t m0 x1da hf yd22 ffa fs6 fc0 sc0 ls0 ws0">4</div><div class="t m0 x8 h10 yd21 ff1c fs4 fc0 sc0 ls0 ws0">if<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>k<span class="ffb">]<span class="_ _9"> </span></span>&lt;<span class="_ _a"> </span>p</span></div><div class="t m0 x168 h18 yd23 ffa fs8 fc0 sc0 ls0 ws0">15<span class="_ _4c"> </span><span class="ff9 fs4">s</span></div><div class="t m0 x1da hf yd24 ffa fs6 fc0 sc0 ls0 ws0">3</div><div class="t m0 x198 h10 yd23 ff5 fs4 fc0 sc0 ls0 ws0">Sw<span class="_ _20"></span>ap<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>k<span class="ffb">]<span class="_ _a"> </span></span></span>and<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>`<span class="ffb">]</span></span></div><div class="t m0 x168 h10 yd25 ffa fs8 fc0 sc0 ls0 ws0">16<span class="_ _75"> </span><span class="fs4">`<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>`<span class="_ _3c"> </span><span class="ffb">+<span class="_ _31"> </span></span>1</span></div><div class="t m0 x168 h6 yd26 ffa fs8 fc0 sc0 ls0 ws0">17<span class="_ _60"> </span><span class="ff1c fs4">end<span class="_ _a"> </span>if</span></div><div class="t m0 x168 h6 yd27 ffa fs8 fc0 sc0 ls0 ws0">18<span class="_ _5e"> </span><span class="ff1c fs4">end<span class="_ _a"> </span>if</span></div><div class="t m0 x168 h6 yd28 ffa fs8 fc0 sc0 ls0 ws0">19<span class="_ _4a"> </span><span class="ff1c fs4">end<span class="_ _a"> </span>if</span></div><div class="t m0 x168 h10 yd29 ffa fs8 fc0 sc0 ls0 ws0">20<span class="_ _4a"> </span><span class="fs4">k<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>k<span class="_ _3c"> </span><span class="ffb">+<span class="_ _31"> </span></span>1</span></div><div class="t m0 x168 h6 yd2a ffa fs8 fc0 sc0 ls0 ws0">21<span class="_ _40"> </span><span class="ff1c fs4">end<span class="_ _a"> </span>while</span></div><div class="t m0 x168 h10 yd2b ffa fs8 fc0 sc0 ls0 ws0">22<span class="_ _40"> </span><span class="fs4">`<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>`<span class="_ _3c"> </span><span class="ffb">−<span class="_ _31"> </span></span>1<span class="ff5">;<span class="_ _30"> </span></span>g<span class="_ _0"> </span><span class="ffb">:=<span class="_ _0"> </span></span>g<span class="_ _3c"> </span><span class="ffb">+<span class="_ _31"> </span></span>1</span></div><div class="t m0 x168 h18 yd2c ffa fs8 fc0 sc0 ls0 ws0">23<span class="_ _4c"> </span><span class="ff9 fs4">s</span></div><div class="t m0 x1da hf yd2d ffa fs6 fc0 sc0 ls0 ws0">4</div><div class="t m0 x172 h10 yd2c ff5 fs4 fc0 sc0 ls0 ws0">Sw<span class="_ _20"></span>ap<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[<span class="ff7">left</span>]<span class="_ _a"> </span></span></span>and<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>`<span class="ffb">]</span></span></div><div class="t m0 x168 h18 yd2e ffa fs8 fc0 sc0 ls0 ws0">24<span class="_ _4c"> </span><span class="ff9 fs4">s</span></div><div class="t m0 x1da hf yd2f ffa fs6 fc0 sc0 ls0 ws0">5</div><div class="t m0 x172 h10 yd2e ff5 fs4 fc0 sc0 ls0 ws0">Sw<span class="_ _20"></span>ap<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[<span class="ff7">right</span>]<span class="_ _a"> </span></span></span>and<span class="_ _a"> </span><span class="ffa">A<span class="ffb">[</span>g<span class="ffb">]</span></span></div><div class="t m0 xc hb y11 ff6 fs4 fc0 sc0 ls0 ws0">82</div><a class="l" href="#pf41" data-dest-detail='[65,"XYZ",70.866,722.11,null]'><div class="d m1" style="border-style:none;position:absolute;left:519.249894px;bottom:991.672770px;width:73.114000px;height:15.028000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
