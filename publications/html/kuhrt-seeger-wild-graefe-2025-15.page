<div id="pff" class="pf w0 h0" data-page-no="f"><div class="pc pcf w0 h0"><img class="bi x0 y1c8 w3 hd" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARwAAAABCAIAAACDqYZGAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAEUlEQVQoz2NgGAWjYBRQFQAAA1UAAcsGhV8AAAAASUVORK5CYII="/><div class="t m3 x0 h3 y4c ff2 fs1 fc0 sc0 ls0 ws0">For<span class="_ _3"> </span>Hypothesis<span class="_ _6"> </span>2,<span class="_ _6"> </span>we<span class="_ _3"> </span>note<span class="_ _6"> </span>that<span class="_ _6"> </span>caching<span class="_ _3"> </span>previous<span class="_ _3"> </span>character<span class="_ _6"> </span>comparisons<span class="_ _6"> </span>and<span class="_ _6"> </span>prev<span class="_ _0"></span>enting</div><div class="t md x0 h3 y4d ff2 fs1 fc0 sc0 ls0 ws0">e<span class="_ _0"></span>xpensiv<span class="_ _0"></span>e<span class="_ _3"> </span>s<span class="_ _0"></span>tr<span class="_ _5"></span>ing<span class="_ _4"> </span>compar<span class="_ _5"></span>isons<span class="_ _4"> </span>are<span class="_ _4"> </span>the<span class="_ _3"> </span>tw<span class="_ _0"></span>o<span class="_ _4"> </span>wa<span class="_ _0"></span>y<span class="_ _0"></span>s<span class="_ _3"> </span>oﬀset-v<span class="_ _0"></span>alue<span class="_ _4"> </span>coding<span class="_ _3"> </span>eﬀects<span class="_ _4"> </span>the<span class="_ _3"> </span>sort<span class="_ _3"> </span>logic.<span class="_ _4"> </span>An</div><div class="t m0 x0 h3 y4e ff2 fs1 fc0 sc0 ls0 ws0">e<span class="_ _0"></span>xper<span class="_ _5"></span>iment<span class="_ _4"> </span>will<span class="_ _4"> </span>be<span class="_ _3"> </span>conducted<span class="_ _4"> </span>to<span class="_ _3"> </span>giv<span class="_ _0"></span>e<span class="_ _3"> </span>more<span class="_ _4"> </span>insight.</div><div class="t m3 x0 h3 y1c9 ff2 fs1 fc0 sc0 ls0 ws0">Reg<span class="_ _0"></span>arding<span class="_ _4"> </span>Hypothesis<span class="_ _3"> </span>3,<span class="_ _4"> </span>we<span class="_ _4"> </span>observe<span class="_ _4"> </span>that<span class="_ _3"> </span>twice<span class="_ _4"> </span>as<span class="_ _4"> </span>much<span class="_ _3"> </span>space<span class="_ _4"> </span>f<span class="_ _0"></span>or<span class="_ _3"> </span>the<span class="_ _4"> </span>ar<span class="_ _5"></span>ra<span class="_ _0"></span>y<span class="_ _4"> </span>and<span class="_ _3"> </span>buﬀer<span class="_ _4"> </span>is</div><div class="t md x0 h3 y1ca ff2 fs1 fc0 sc0 ls0 ws0">required,<span class="_ _4"> </span>as<span class="_ _4"> </span>the<span class="_ _4"> </span>size<span class="_ _4"> </span>of<span class="_ _3"> </span>the<span class="_ _4"> </span>individual<span class="_ _4"> </span>ke<span class="_ _0"></span>ys<span class="_ _8"> </span>is<span class="_ _4"> </span>now<span class="_ _8"> </span><span class="ff5">16<span class="_ _3"> </span></span>b<span class="_ _0"></span>ytes<span class="_ _4"> </span>instead<span class="_ _4"> </span>of<span class="_ _4"> </span><span class="ff5">8</span>.<span class="_ _4"> </span>How<span class="_ _0"></span>e<span class="_ _0"></span>ver<span class="_ _b"></span>,<span class="_ _4"> </span>the<span class="_ _3"> </span>strings</div><div class="t m25 x0 h3 y1cb ff2 fs1 fc0 sc0 ls0 ws0">occup<span class="_ _0"></span>y<span class="_ _3"> </span>most<span class="_ _4"> </span>of<span class="_ _4"> </span>the<span class="_ _3"> </span>space<span class="_ _4"> </span>that<span class="_ _3"> </span>is<span class="_ _3"> </span>not<span class="_ _4"> </span>aﬀected<span class="_ _3"> </span>b<span class="_ _0"></span>y<span class="_ _4"> </span>oﬀset-value<span class="_ _4"> </span>codes.<span class="_ _3"> </span>With<span class="_ _4"> </span>respect<span class="_ _3"> </span>to<span class="_ _4"> </span>elapsed</div><div class="t m22 x0 h3 ye5 ff2 fs1 fc0 sc0 ls0 ws0">time,<span class="_ _4"> </span>there<span class="_ _3"> </span>is<span class="_ _3"> </span>v<span class="_ _0"></span>ery<span class="_ _3"> </span>little<span class="_ _4"> </span>ov<span class="_ _b"></span>erhead<span class="_ _3"> </span>f<span class="_ _0"></span>or<span class="_ _3"> </span>producing<span class="_ _4"> </span>oﬀset-value<span class="_ _4"> </span>codes<span class="_ _3"> </span>during<span class="_ _3"> </span>the<span class="_ _4"> </span>initial<span class="_ _3"> </span>scan<span class="_ _4"> </span>of</div><div class="t m3 x0 h3 ye6 ff2 fs1 fc0 sc0 ls0 ws0">the<span class="_ _3"> </span>in<span class="_ _0"></span>put.<span class="_ _3"> </span>The<span class="_ _3"> </span>reason<span class="_ _4"> </span>is<span class="_ _3"> </span>that<span class="_ _3"> </span>pairs<span class="_ _4"> </span>of<span class="_ _3"> </span>strings<span class="_ _3"> </span>must<span class="_ _4"> </span>be<span class="_ _3"> </span>compared<span class="_ _3"> </span>b<span class="_ _0"></span>yte-wise<span class="_ _3"> </span>an<span class="_ _0"></span>ywa<span class="_ _0"></span>y<span class="_ _4"> </span>until<span class="_ _3"> </span>a</div><div class="t m0 x0 h3 ye7 ff2 fs1 fc0 sc0 ls0 ws0">diﬀerence<span class="_ _4"> </span>is<span class="_ _3"> </span>detected.<span class="_ _4"> </span>The<span class="_ _3"> </span>inde<span class="_ _0"></span>x<span class="_ _3"> </span>of<span class="_ _4"> </span>the<span class="_ _3"> </span>ﬁrs<span class="_ _0"></span>t<span class="_ _3"> </span>tw<span class="_ _0"></span>o<span class="_ _4"> </span>diﬀerent<span class="_ _3"> </span>b<span class="_ _0"></span>ytes<span class="_ _3"> </span>is<span class="_ _4"> </span>precisely<span class="_ _4"> </span>the<span class="_ _3"> </span>oﬀset.</div><div class="t m3 x0 h3 y85 ff2 fs1 fc0 sc0 ls0 ws0">Hypothesis<span class="_ _a"> </span>4<span class="_ _a"> </span>might<span class="_ _a"> </span>seem<span class="_ _a"> </span>obvious<span class="_ _2"> </span>because<span class="_ _a"> </span>encoding<span class="_ _a"> </span>more<span class="_ _a"> </span>data<span class="_ _a"> </span>in<span class="_ _a"> </span>oﬀset-value<span class="_ _a"> </span>codes</div><div class="t m3 x0 h3 y87 ff2 fs1 fc0 sc0 ls0 ws0">naturally<span class="_ _8"> </span>improv<span class="_ _0"></span>es<span class="_ _4"> </span>their<span class="_ _3"> </span>potency<span class="_ _4"> </span>as<span class="_ _4"> </span>sur<span class="_ _5"></span>rogate<span class="_ _8"> </span>key<span class="_ _0"></span>s.<span class="_ _4"> </span>Ho<span class="_ _0"></span>we<span class="_ _0"></span>v<span class="_ _0"></span>er<span class="_ _0"></span>,<span class="_ _3"> </span>creating<span class="_ _4"> </span>oﬀset-value<span class="_ _4"> </span>codes</div><div class="t m25 x0 h3 y88 ff2 fs1 fc0 sc0 ls0 ws0">with<span class="_ _4"> </span>additional<span class="_ _3"> </span>value<span class="_ _4"> </span>b<span class="_ _0"></span>ytes<span class="_ _3"> </span>is<span class="_ _4"> </span>more<span class="_ _3"> </span>e<span class="_ _0"></span>xpensive<span class="_ _4"> </span>on<span class="_ _4"> </span>little-endian<span class="_ _3"> </span>machines<span class="_ _4"> </span>as<span class="_ _3"> </span>b<span class="_ _0"></span>ytes<span class="_ _3"> </span>ha<span class="_ _0"></span>v<span class="_ _0"></span>e<span class="_ _3"> </span>to<span class="_ _4"> </span>be</div><div class="t m0 x0 h3 y8b ff2 fs1 fc0 sc0 ls0 ws0">rev<span class="_ _b"></span>ersed<span class="_ _3"> </span>bef<span class="_ _0"></span>ore<span class="_ _4"> </span>encoding.<span class="_ _3"> </span>An<span class="_ _4"> </span>experiment<span class="_ _4"> </span>will<span class="_ _3"> </span>sho<span class="_ _0"></span>w<span class="_ _3"> </span>whether<span class="_ _4"> </span>this<span class="_ _3"> </span>h<span class="_ _0"></span>ypothesis<span class="_ _4"> </span>holds.</div><div class="t m0 x0 h10 yeb ff1 fs1 fc0 sc0 ls0 ws0">5.2<span class="_ _f"> </span>Implementation<span class="_ _4"> </span>and<span class="_ _3"> </span>sy<span class="_ _0"></span>stem<span class="_ _3"> </span>conte<span class="_ _0"></span>xt</div><div class="t m3 x0 h3 y11b ff2 fs1 fc0 sc0 ls0 ws0">All<span class="_ _4"> </span>the<span class="_ _3"> </span>algorithms<span class="_ _4"> </span>are<span class="_ _3"> </span>implemented<span class="_ _4"> </span>in<span class="_ _4"> </span>C++17.<span class="_ _3"> </span>The<span class="_ _4"> </span>implementation<span class="_ _4"> </span>of<span class="_ _3"> </span>P<span class="_ _0"></span>ow<span class="_ _0"></span>ersort<span class="_ _3"> </span>supple-</div><div class="t md x0 h3 y11c ff2 fs1 fc0 sc0 ls0 ws0">mented<span class="_ _8"> </span>in<span class="_ _4"> </span>[</div><div class="t m0 x122 h3 y11c ff2 fs1 fc0 sc0 ls0 ws0">Ge23</div><div class="t md xe0 h3 y11c ff2 fs1 fc0 sc0 ls0 ws0">]<span class="_ _8"> </span>has<span class="_ _4"> </span>been<span class="_ _8"> </span>extended<span class="_ _10"> </span>to<span class="_ _4"> </span>use<span class="_ _8"> </span>oﬀset-value<span class="_ _8"> </span>codes<span class="_ _8"> </span>and<span class="_ _4"> </span>is<span class="_ _8"> </span>used<span class="_ _4"> </span>in<span class="_ _8"> </span>the<span class="_ _4"> </span>e<span class="_ _0"></span>xper<span class="_ _5"></span>iments.</div><div class="t m16 x0 h3 y1b1 ff2 fs1 fc0 sc0 ls0 ws0">All<span class="_ _4"> </span>variants<span class="_ _3"> </span>of<span class="_ _4"> </span>Po<span class="_ _b"></span>wersort<span class="_ _3"> </span>utilize<span class="_ _4"> </span>the<span class="_ _3"> </span>def<span class="_ _0"></span>ault<span class="_ _3"> </span>conﬁguration;<span class="_ _4"> </span>in<span class="_ _4"> </span>par<span class="_ _5"></span>ticular<span class="_ _0"></span>,<span class="_ _3"> </span>short<span class="_ _3"> </span>pre-e<span class="_ _0"></span>xisting</div><div class="t m3 x0 h3 y1b2 ff2 fs1 fc0 sc0 ls0 ws0">runs<span class="_ _1"> </span>are<span class="_ _1"> </span>e<span class="_ _0"></span>xtended<span class="_ _1"> </span>to<span class="_ _6"> </span><span class="ff5">24<span class="_ _1"> </span></span>ke<span class="_ _0"></span>ys<span class="_ _6"> </span>with<span class="_ _1"> </span>insertion<span class="_ _1"> </span>sor<span class="_ _5"></span>t.<span class="_ _6"> </span>In<span class="_ _1"> </span>addition,<span class="_ _1"> </span>some<span class="_ _6"> </span>of<span class="_ _1"> </span>our<span class="_ _1"> </span>e<span class="_ _0"></span>xper<span class="_ _5"></span>iments</div><div class="t m3 x0 h3 yee ff2 fs1 fc0 sc0 ls0 ws0">e<span class="_ _0"></span>xamined<span class="_ _3"> </span>tw<span class="_ _0"></span>o<span class="_ _3"> </span>sor<span class="_ _5"></span>ting<span class="_ _3"> </span>implementations<span class="_ _3"> </span>from<span class="_ _3"> </span>the<span class="_ _6"> </span>standard<span class="_ _3"> </span>library:<span class="_ _3"> </span>non-stable<span class="_ _4"> </span><span class="ffa fs8">std::sort</span></div><div class="t m0 x0 h3 y93 ff2 fs1 fc0 sc0 ls0 ws0">based<span class="_ _4"> </span>on<span class="_ _3"> </span>quic<span class="_ _0"></span>ksor<span class="_ _5"></span>t<span class="_ _4"> </span>and<span class="_ _3"> </span>the<span class="_ _4"> </span>merg<span class="_ _0"></span>e-based<span class="_ _3"> </span><span class="ffa fs8">std::stable_sort</span>.</div><div class="t m15 x0 h3 y125 ff2 fs1 fc0 sc0 ls0 ws0">Strings<span class="_ _4"> </span>of<span class="_ _3"> </span>characters<span class="_ _4"> </span>are<span class="_ _3"> </span>implemented<span class="_ _4"> </span>as<span class="_ _3"> </span>pointers<span class="_ _3"> </span>to<span class="_ _4"> </span>zero-ter<span class="_ _5"></span>minated<span class="_ _4"> </span>ar<span class="_ _5"></span>ra<span class="_ _0"></span>ys<span class="_ _4"> </span>of<span class="_ _3"> </span>c<span class="_ _0"></span>haracters<span class="_ _3"> </span>in</div><div class="t m18 x0 h3 y127 ff2 fs1 fc0 sc0 ls0 ws0">memory<span class="_ _0"></span>,<span class="_ _4"> </span>while<span class="_ _3"> </span>b<span class="_ _0"></span>yte<span class="_ _4"> </span>str<span class="_ _5"></span>ings<span class="_ _4"> </span>of<span class="_ _4"> </span>ﬁxed<span class="_ _4"> </span>length<span class="_ _4"> </span>are<span class="_ _3"> </span>not<span class="_ _4"> </span>ter<span class="_ _5"></span>minated<span class="_ _4"> </span>and<span class="_ _3"> </span>can<span class="_ _4"> </span>contain<span class="_ _4"> </span>zero-bytes.</div><div class="t m3 x0 h3 y128 ff2 fs1 fc0 sc0 ls0 ws0">Zero-terminated<span class="_ _2"> </span>strings<span class="_ _2"> </span>without<span class="_ _2"> </span>oﬀset-v<span class="_ _0"></span>alue<span class="_ _2"> </span>codes<span class="_ _1"> </span>are<span class="_ _2"> </span>compared<span class="_ _2"> </span>in<span class="_ _2"> </span>a<span class="_ _1"> </span>simple<span class="_ _2"> </span>loop<span class="_ _2"> </span>via</div><div class="t md x0 h3 y12a ff2 fs1 fc0 sc0 ls0 ws0">b<span class="_ _0"></span>ytewise<span class="_ _8"> </span>compar<span class="_ _5"></span>isons,<span class="_ _8"> </span>whereas<span class="_ _4"> </span>compar<span class="_ _5"></span>isons<span class="_ _8"> </span>of<span class="_ _4"> </span>byte<span class="_ _8"> </span>strings<span class="_ _4"> </span>of<span class="_ _4"> </span>known<span class="_ _8"> </span>length<span class="_ _4"> </span>utilize<span class="_ _4"> </span>the<span class="_ _4"> </span>v<span class="_ _0"></span>er<span class="_ _5"></span>y</div><div class="t ma x0 h3 y12b ff2 fs1 fc0 sc0 ls0 ws0">fas<span class="_ _0"></span>t<span class="_ _4"> </span><span class="ffa fs8">memcmp</span>.<span class="_ _3"> </span>T<span class="_ _26"></span>o<span class="_ _3"> </span>pro<span class="_ _0"></span>vide<span class="_ _4"> </span>meaningful<span class="_ _3"> </span>comparisons,<span class="_ _3"> </span>w<span class="_ _0"></span>e<span class="_ _3"> </span>use<span class="_ _4"> </span><span class="ffa fs8">glibc</span>’<span class="_ _0"></span>s<span class="_ _3"> </span>portable<span class="_ _3"> </span>implementation</div><div class="t m0 x0 h3 y12c ff2 fs1 fc0 sc0 ls0 ws0">of<span class="_ _6"> </span><span class="ffa fs8">memcmp<span class="_ _4"> </span></span>without<span class="_ _3"> </span>architecture-speciﬁc<span class="_ _4"> </span>optimizations</div><div class="t m0 x123 h4 y1cc ff2 fs2 fc0 sc0 ls0 ws0">6</div><div class="t m0 x124 h3 y12c ff2 fs1 fc0 sc0 ls0 ws0">.</div><div class="t m2 x0 h3 ya5 ff2 fs1 fc0 sc0 ls0 ws0">Oﬀset-value<span class="_ _8"> </span>codes,<span class="_ _3"> </span>if<span class="_ _4"> </span>used,<span class="_ _3"> </span>are<span class="_ _4"> </span>stored<span class="_ _4"> </span>next<span class="_ _4"> </span>to<span class="_ _4"> </span>the<span class="_ _3"> </span>cor<span class="_ _5"></span>responding<span class="_ _4"> </span>pointer<span class="_ _4"> </span>in<span class="_ _3"> </span>memory<span class="_ _b"></span>.<span class="_ _3"> </span>Thus,</div><div class="t m0 x0 h3 ya6 ff2 fs1 fc0 sc0 ls0 ws0">the<span class="_ _4"> </span>size<span class="_ _3"> </span>of<span class="_ _4"> </span>the<span class="_ _3"> </span>ke<span class="_ _b"></span>ys<span class="_ _4"> </span>being<span class="_ _3"> </span>sorted<span class="_ _3"> </span>on<span class="_ _4"> </span>a<span class="_ _3"> </span><span class="ff5">64</span>-bit<span class="_ _4"> </span>machine<span class="_ _3"> </span>is<span class="_ _4"> </span><span class="ff5">16<span class="_ _3"> </span></span>b<span class="_ _0"></span>ytes<span class="_ _4"> </span>instead<span class="_ _3"> </span>of<span class="_ _4"> </span><span class="ff5">8</span>.</div><div class="t m3 x0 h3 y9e ff2 fs1 fc0 sc0 ls0 ws0">All<span class="_ _1"> </span>experiments<span class="_ _2"> </span>w<span class="_ _0"></span>ere<span class="_ _2"> </span>performed<span class="_ _2"> </span>on<span class="_ _1"> </span>a<span class="_ _2"> </span>w<span class="_ _0"></span>orkstation<span class="_ _1"> </span>(AMD<span class="_ _2"> </span>Ryzen<span class="_ _1"> </span>7<span class="_ _2"> </span>5800X<span class="_ _1"> </span>@<span class="_ _2"> </span>3.8GHz,</div><div class="t m21 x0 h3 y9f ff2 fs1 fc0 sc0 ls0 ws0">2x16GB<span class="_ _4"> </span>DDR<span class="_ _0"></span>-4<span class="_ _3"> </span>@<span class="_ _4"> </span>3200MHz,<span class="_ _3"> </span>Linux<span class="_ _3"> </span>6.10.6),<span class="_ _4"> </span>using<span class="_ _3"> </span><span class="ffa fs8">g++<span class="_ _4"> </span></span>14.2.1<span class="_ _3"> </span>with<span class="_ _3"> </span>optimization<span class="_ _4"> </span>ﬂags<span class="_ _3"> </span><span class="ffa fs8">-O3</span></div><div class="t m0 x0 h3 y17d ffa fs8 fc0 sc0 ls0 ws0">-Ofast<span class="_ _2b"> </span>-march=native<span class="_ _27"> </span>-mtune=native<span class="ff2 fs1">.</span></div><div class="t m0 x0 h9 y1cd ff2 fs5 fc0 sc0 ls0 ws0">6</div><div class="t ma x12 ha y1ce ff2 fs6 fc0 sc0 ls0 ws0">W<span class="_ _b"></span>e<span class="_ _8"> </span>note<span class="_ _8"> </span>that<span class="_ _8"> </span><span class="ffa fse">memcmp<span class="_ _8"> </span></span>with<span class="_ _8"> </span>architecture-speciﬁc<span class="_ _8"> </span>optimizations<span class="_ _8"> </span>such<span class="_ _10"> </span>as<span class="_ _8"> </span>A<span class="_ _26"></span>VX<span class="_ _8"> </span>improv<span class="_ _0"></span>ed<span class="_ _8"> </span>elapsed<span class="_ _8"> </span>times<span class="_ _8"> </span>by<span class="_ _10"> </span>a<span class="_ _8"> </span>factor</div><div class="t m7 x8 ha y73 ff2 fs6 fc0 sc0 ls0 ws0">of<span class="_ _10"> </span>up<span class="_ _8"> </span>to<span class="_ _8"> </span><span class="ff5">2<span class="_ _8"> </span></span>for<span class="_ _10"> </span>bytes<span class="_ _0"></span>tr<span class="_ _5"></span>ings<span class="_ _10"> </span>longer<span class="_ _10"> </span>than<span class="_ _8"> </span><span class="ff5">16<span class="_ _8"> </span></span>on<span class="_ _8"> </span>the<span class="_ _8"> </span>used<span class="_ _8"> </span>sys<span class="_ _0"></span>tem.<span class="_ _8"> </span>W<span class="_ _0"></span>e<span class="_ _10"> </span>reser<span class="_ _5"></span>v<span class="_ _0"></span>e<span class="_ _8"> </span>it<span class="_ _8"> </span>f<span class="_ _0"></span>or<span class="_ _8"> </span>future<span class="_ _8"> </span>work<span class="_ _10"> </span>to<span class="_ _8"> </span>devise<span class="_ _10"> </span>similarl<span class="_ _0"></span>y</div><div class="t m0 x8 ha y2b ff2 fs6 fc0 sc0 ls0 ws0">optimized<span class="_ _8"> </span>implementations<span class="_ _10"> </span>of<span class="_ _8"> </span>oﬀset-value<span class="_ _8"> </span>codes.</div><a class="l" href="#pf15" data-dest-detail='[21,"XYZ",119.055,245.009,null]'><div class="d m12" style="border-style:none;position:absolute;left:271.894046px;bottom:701.805549px;width:23.571000px;height:8.852000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pff" data-dest-detail='[15,"XYZ",129.018,177.212,null]'><div class="d m12" style="border-style:none;position:absolute;left:555.006417px;bottom:484.168688px;width:6.127000px;height:12.682000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
