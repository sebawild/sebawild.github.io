<div id="pf13" class="pf w0 h0" data-page-no="13"><div class="pc pc13 w0 h0"><img class="bi x39 y25 w1 hb" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA6gAAAABCAIAAABc2BTEAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAGUlEQVRIx+3BAQEAAACCIP+vbkhAAQDAgQEK+QABm4b39gAAAABJRU5ErkJggg=="/><div class="t m0 x101 hc y26 fff fs5 fc0 sc0 ls0 ws0">Lazy<span class="_ _9"> </span>Search<span class="_ _6"> </span>T<span class="_ _4"></span>rees<span class="_ _2b"> </span>§6<span class="_ _9"> </span>Data<span class="_ _9"> </span>Structure<span class="_ _21"> </span><span class="ffe">⋅<span class="_ _15"> </span><span class="ff10">18</span></span></div><div class="t m5 x39 he y59 ff10 fs5 fc0 sc0 ls0 ws0">the<span class="_ _6"> </span>tw<span class="_ _1"></span>o<span class="_ _9"> </span>linked<span class="_ _6"> </span>lists<span class="_ _9"> </span>of<span class="_ _6"> </span>arrays.<span class="_ _b"> </span>Deletions<span class="_ _9"> </span>can<span class="_ _9"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>p<span class="_ _5"></span>erformed<span class="_ _9"> </span>lazily<span class="_ _4"></span>,<span class="_ _6"> </span>shrinking<span class="_ _9"> </span>the<span class="_ _9"> </span>array<span class="_ _6"> </span>when<span class="_ _9"> </span>a<span class="_ _9"> </span>constan<span class="_ _1"></span>t</div><div class="t m0 x39 he y5a ff10 fs5 fc0 sc0 ls0 ws0">fraction<span class="_ _9"> </span>of<span class="_ _9"> </span>the<span class="_ _9"> </span>entries<span class="_ _6"> </span>hav<span class="_ _1"></span>e<span class="_ _9"> </span>b<span class="_ _5"></span>een<span class="_ _9"> </span>deleted.</div><div class="t m0 x57 he y5b ff10 fs5 fc0 sc0 ls0 ws0">W<span class="_ _4"></span>e<span class="_ _9"> </span>analyze<span class="_ _9"> </span>the<span class="_ _9"> </span>num<span class="_ _1"></span>b<span class="_ _5"></span>er<span class="_ _9"> </span>of<span class="_ _9"> </span>p<span class="_ _5"></span>ointers<span class="_ _6"> </span>required<span class="_ _3"> </span>of<span class="_ _9"> </span>this<span class="_ _9"> </span>metho<span class="_ _5"></span>d<span class="_ _9"> </span>and<span class="_ _9"> </span>the<span class="_ _9"> </span>resulting<span class="_ _3"> </span>impro<span class="_ _1"></span>ved<span class="_ _6"> </span>b<span class="_ _5"></span>ounds</div><div class="t m3 x39 he y5c ff10 fs5 fc0 sc0 ls0 ws0">on<span class="_ _9"> </span>insertion<span class="_ _9"> </span>and<span class="_ _9"> </span>key<span class="_ _6"> </span>change<span class="_ _6"> </span>in<span class="_ _9"> </span>Section<span class="_ _9"> </span>7.5.<span class="_ _1a"> </span>If<span class="_ _9"> </span>w<span class="_ _1"></span>e<span class="_ _3"> </span>c<span class="_ _1"></span>ho<span class="_ _5"></span>ose<span class="_ _9"> </span>not<span class="_ _9"> </span>to<span class="_ _9"> </span>take<span class="_ _6"> </span>adv<span class="_ _1"></span>antage<span class="_ _6"> </span>of<span class="_ _9"> </span>this<span class="_ _9"> </span>directly<span class="_ _4"></span>,<span class="_ _9"> </span>we</div><div class="t m28 x39 he y5d ff10 fs5 fc0 sc0 ls0 ws0">can<span class="_ _9"> </span>alternatively<span class="_ _6"> </span>replace<span class="_ _9"> </span>standard<span class="_ _3"> </span>link<span class="_ _1"></span>ed<span class="_ _9"> </span>lists<span class="_ _3"> </span>with<span class="_ _9"> </span>link<span class="_ _1"></span>ed<span class="_ _3"> </span>list/arra<span class="_ _1"></span>y<span class="_ _3"> </span>h<span class="_ _1"></span>ybrids<span class="_ _9"> </span>such<span class="_ _9"> </span>as<span class="_ _9"> </span>unrolled<span class="_ _9"> </span>linked</div><div class="t m0 x39 he y5e ff10 fs5 fc0 sc0 ls0 ws0">lists<span class="_ _9"> </span>[SRA94],<span class="_ _9"> </span>which<span class="_ _6"> </span>will<span class="_ _9"> </span>likely<span class="_ _9"> </span>outp<span class="_ _5"></span>erform<span class="_ _9"> </span>standard<span class="_ _9"> </span>linked<span class="_ _6"> </span>lists<span class="_ _9"> </span>in<span class="_ _9"> </span>practice.</div><div class="t m0 x39 h11 y1e1 ff14 fs1 fc0 sc0 ls0 ws0">6.4<span class="_ _1d"> </span>Insertion</div><div class="t m1 x39 he y110 ff10 fs5 fc0 sc0 ls0 ws0">Insertion<span class="_ _3"> </span>of<span class="_ _3"> </span>an<span class="_ _7"> </span>elemen<span class="_ _1"></span>t</div><div class="t m0 xa7 hc y110 ffa fs5 fc0 sc0 ls0 ws0">e<span class="_ _6"> </span><span class="ffb">=<span class="_ _6"> </span><span class="ff7">(</span></span>k<span class="_ _5"></span>,<span class="_ _10"> </span>v<span class="_ _5"></span><span class="ff7">)</span></div><div class="t m1 x70 he y110 ff10 fs5 fc0 sc0 ls0 ws0">can<span class="_ _3"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>succinctly<span class="_ _7"> </span>describ<span class="_ _5"></span>ed<span class="_ _3"> </span>as<span class="_ _3"> </span>follows.<span class="_ _22"> </span>W<span class="_ _4"></span>e<span class="_ _3"> </span>ﬁrst<span class="_ _3"> </span>determine<span class="_ _7"> </span>the</div><div class="t m1a x39 he y111 ff10 fs5 fc0 sc0 ls0 ws0">gap<span class="_ _9"> </span><span class="ff8">∆</span></div><div class="t m0 x186 h12 y385 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m1a x1cf he y111 ff10 fs5 fc0 sc0 ls0 ws0">suc<span class="_ _1"></span>h<span class="_ _3"> </span>that</div><div class="t m0 xe5 hc y111 ffa fs5 fc0 sc0 ls0 ws0">k<span class="_ _d"> </span><span class="ffb">∈</span></div><div class="t m1a x8d h10 y111 ff8 fs5 fc0 sc0 ls0 ws0">∆</div><div class="t m0 xdc h12 y385 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m1a x189 he y111 ff10 fs5 fc0 sc0 ls0 ws0">,<span class="_ _9"> </span>according<span class="_ _9"> </span>to<span class="_ _9"> </span>the<span class="_ _9"> </span>data<span class="_ _9"> </span>structure<span class="_ _3"> </span>of<span class="_ _9"> </span>Lemma<span class="_ _9"> </span>10.<span class="_ _1a"> </span>W<span class="_ _4"></span>e<span class="_ _9"> </span>then<span class="_ _9"> </span>binary<span class="_ _9"> </span>search<span class="_ _6"> </span>the</div><div class="t m0 x39 hc y112 ffa fs5 fc0 sc0 ls0 ws0">O<span class="_ _5"></span><span class="ff7">(<span class="ff8">log<span class="_ _10"> </span></span></span></div><div class="t m6 x172 h10 y112 ff8 fs5 fc0 sc0 ls0 ws0">∆</div><div class="t m0 x1da h12 y386 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m0 x181 hc y112 ff7 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m6 x8b he y112 ff10 fs5 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terv<span class="_ _1"></span>als<span class="_ _9"> </span>(by<span class="_ _6"> </span>maintaining<span class="_ _6"> </span>“router”<span class="_ _b"> </span>k<span class="_ _1"></span>eys<span class="_ _9"> </span>separating<span class="_ _9"> </span>the<span class="_ _9"> </span>interv<span class="_ _4"></span>als)<span class="_ _9"> </span>within<span class="_ _9"> </span><span class="ff8">∆</span></div><div class="t m0 x62 h12 y386 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m6 xcc he y112 ff10 fs5 fc0 sc0 ls0 ws0">to<span class="_ _9"> </span>ﬁnd<span class="_ _9"> </span>the</div><div class="t m0 x39 hc y1e3 ff10 fs5 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terv<span class="_ _1"></span>al<span class="_ _9"> </span><span class="ff26">I</span></div><div class="t m0 x181 h12 y387 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x12f hc y1e3 ff10 fs5 fc0 sc0 ls0 ws0">suc<span class="_ _1"></span>h<span class="_ _3"> </span>that<span class="_ _9"> </span><span class="ffa">k<span class="_ _d"> </span><span class="ffb">∈<span class="_ _1b"></span><span class="ff26">I</span></span></span></div><div class="t m0 x82 h12 y387 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x8f he y1e3 ff10 fs5 fc0 sc0 ls0 ws0">.<span class="_ _b"> </span>W<span class="_ _4"></span>e<span class="_ _3"> </span>increase<span class="_ _9"> </span>the<span class="_ _9"> </span>size<span class="_ _9"> </span>of<span class="_ _9"> </span><span class="ff8">∆</span></div><div class="t m0 x20 h12 y387 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m0 x21 he y1e3 ff10 fs5 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _3"> </span>one<span class="_ _9"> </span>in<span class="_ _9"> </span>the<span class="_ _9"> </span>gap<span class="_ _9"> </span>data<span class="_ _9"> </span>structure.</div><div class="t m0 x39 he y388 ff19 fs5 fc0 sc0 ls0 ws0">Remark<span class="_ _1a"> </span>15<span class="_ _1a"> </span>(A<span class="_ _1a"> </span>single<span class="_ _1a"> </span>data<span class="_ _b"> </span>structure).</div><div class="t m1 xa he y388 ff10 fs5 fc0 sc0 ls0 ws0">The<span class="_ _3"> </span>attentiv<span class="_ _1"></span>e<span class="_ _7"> </span>reader<span class="_ _7"> </span>may<span class="_ _3"> </span>wonder<span class="_ _3"> </span>wh<span class="_ _1"></span>y<span class="_ _7"> </span>we<span class="_ _3"> </span>must<span class="_ _3"> </span>ﬁrst</div><div class="t m9 x39 he y389 ff10 fs5 fc0 sc0 ls0 ws0">p<span class="_ _5"></span>erform<span class="_ _9"> </span>a<span class="_ _9"> </span>binary<span class="_ _9"> </span>search<span class="_ _6"> </span>for<span class="_ _3"> </span>gap<span class="_ _9"> </span><span class="ff8">∆</span></div><div class="t m0 x2e h12 y38a ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m9 x90 he y389 ff10 fs5 fc0 sc0 ls0 ws0">and<span class="_ _9"> </span>then<span class="_ _9"> </span>p<span class="_ _5"></span>erform<span class="_ _9"> </span>another<span class="_ _3"> </span>binary<span class="_ _9"> </span>searc<span class="_ _1"></span>h<span class="_ _3"> </span>for<span class="_ _9"> </span>in<span class="_ _1"></span>terv<span class="_ _1"></span>al</div><div class="t m0 x7b hc y389 ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 x14b h12 y38a ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m9 x196 he y389 ff10 fs5 fc0 sc0 ls0 ws0">within</div><div class="t m5 xa5 h10 y38b ff8 fs5 fc0 sc0 ls0 ws0">∆</div><div class="t m0 x11c h12 y38c ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m5 x1dc he y38b ff10 fs5 fc0 sc0 ls0 ws0">.<span class="_ _b"> </span>It<span class="_ _6"> </span>seems<span class="_ _6"> </span>likely<span class="_ _d"> </span>these<span class="_ _6"> </span>tw<span class="_ _1"></span>o<span class="_ _6"> </span>binary<span class="_ _6"> </span>searc<span class="_ _1"></span>hes<span class="_ _6"> </span>can<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _6"> </span>compressed<span class="_ _6"> </span>into<span class="_ _d"> </span>one,<span class="_ _6"> </span>and<span class="_ _6"> </span>indeed,<span class="_ _9"> </span>this<span class="_ _6"> </span>in<span class="_ _1"></span>tuition<span class="_ _6"> </span>is</div><div class="t m5 x39 he y38d ff10 fs5 fc0 sc0 ls0 ws0">correct.<span class="_ _1a"> </span>If<span class="_ _6"> </span>preferred,<span class="_ _9"> </span>we<span class="_ _6"> </span>can<span class="_ _9"> </span>use<span class="_ _6"> </span>the<span class="_ _9"> </span>data<span class="_ _9"> </span>structure<span class="_ _9"> </span>of<span class="_ _6"> </span>Lemma<span class="_ _9"> </span>10<span class="_ _9"> </span>directly<span class="_ _9"> </span>on<span class="_ _6"> </span>interv<span class="_ _4"></span>als<span class="_ _9"> </span>within<span class="_ _9"> </span>gaps,<span class="_ _6"> </span>so</div><div class="t m5 x39 he y38e ff10 fs5 fc0 sc0 ls0 ws0">that<span class="_ _d"> </span>weigh<span class="_ _1"></span>t</div><div class="t m0 x103 hc y38e ff7 fs5 fc0 sc0 ls0 ws0"></div><div class="t m5 x12f h10 y38e ff8 fs5 fc0 sc0 ls0 ws0">∆</div><div class="t m0 x163 h12 y38f ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m0 xc6 hc y38e ff7 fs5 fc0 sc0 ls0 ws0"></div><div class="t m5 xfc he y38e ff10 fs5 fc0 sc0 ls0 ws0">is<span class="_ _d"> </span>evenly<span class="_ _d"> </span>distributed<span class="_ _6"> </span>ov<span class="_ _1"></span>er<span class="_ _d"> </span>interv<span class="_ _4"></span>als</div><div class="t m0 xfe hc y38e ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 x9f h3 y38f ff17 fs2 fc0 sc0 ls0 ws0">i,<span class="ff3">1</span></div><div class="t m0 xef hc y38e ffa fs5 fc0 sc0 ls0 ws0">,<span class="_ _e"> </span><span class="ff26">I</span></div><div class="t m0 x1f h3 y38f ff17 fs2 fc0 sc0 ls0 ws0">i,<span class="ff3">2</span></div><div class="t m0 x21 hc y38e ffa fs5 fc0 sc0 ls0 ws0">,<span class="_ _e"> </span>.<span class="_ _10"> </span>.<span class="_ _24"> </span>.<span class="_ _10"> </span>,<span class="_ _e"> </span><span class="ff26">I</span></div><div class="t m0 x88 h12 y390 ff17 fs2 fc0 sc0 ls0 ws0">i,`</div><div class="t m0 xf2 h1b y391 ff23 fs7 fc0 sc0 ls0 ws0">i</div><div class="t m5 x110 he y38e ff10 fs5 fc0 sc0 ls0 ws0">.<span class="_ _b"> </span>(Alternatively<span class="_ _18"></span>,<span class="_ _6"> </span>assigning<span class="_ _6"> </span>weigh<span class="_ _1"></span>t</div><div class="t m0 x39 hc y392 ff7 fs5 fc0 sc0 ls0 ws0"></div><div class="t md x1e0 h10 y392 ff8 fs5 fc0 sc0 ls0 ws0">∆</div><div class="t m0 x1dc h12 y393 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m0 x108 hc y392 ff7 fs5 fc0 sc0 ls0 ws0"><span class="ffa">`</span></div><div class="t m0 xd6 h12 y393 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m0 x1e6 hc y392 ffe fs5 fc0 sc0 ls0 ws0">+<span class="_ _10"></span><span class="ff7"><span class="ff26">I</span></span></div><div class="t m0 x5 h12 y393 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 xe3 hc y392 ff7 fs5 fc0 sc0 ls0 ws0"></div><div class="t md x104 he y392 ff10 fs5 fc0 sc0 ls0 ws0">to<span class="_ _9"> </span>in<span class="_ _1"></span>terv<span class="_ _1"></span>al</div><div class="t m0 x17a hc y392 ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 x10b h12 y393 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t md x36 he y392 ff10 fs5 fc0 sc0 ls0 ws0">can<span class="_ _9"> </span>pro<span class="_ _1"></span>vide<span class="_ _9"> </span>b<span class="_ _5"></span>etter<span class="_ _9"> </span>runtimes<span class="_ _6"> </span>in<span class="_ _9"> </span>av<span class="_ _1"></span>erage<span class="_ _9"> </span>case<span class="_ _9"> </span>settings.)<span class="_ _1a"> </span>Unfortunately<span class="_ _4"></span>,</div><div class="t m1 x39 he y394 ff10 fs5 fc0 sc0 ls0 ws0">doing<span class="_ _7"> </span>so<span class="_ _b"> </span>means<span class="_ _7"> </span>only<span class="_ _7"> </span>an</div><div class="t m0 xe6 hc y394 ffa fs5 fc0 sc0 ls0 ws0">O<span class="_ _5"></span><span class="ff7">(<span class="ff8">log<span class="_ _10"> </span></span></span>n<span class="ff7">)</span></div><div class="t m1 x149 he y394 ff10 fs5 fc0 sc0 ls0 ws0">time<span class="_ _7"> </span>change-k<span class="_ _1"></span>ey<span class="_ _7"> </span>op<span class="_ _5"></span>eration<span class="_ _b"> </span>can<span class="_ _7"> </span>b<span class="_ _5"></span>e<span class="_ _7"> </span>supp<span class="_ _5"></span>orted<span class="_ _b"> </span>(unless<span class="_ _7"> </span>the<span class="_ _b"> </span>data</div><div class="t m1d x39 he y395 ff10 fs5 fc0 sc0 ls0 ws0">structure<span class="_ _9"> </span>is<span class="_ _9"> </span>augmen<span class="_ _1"></span>ted<span class="_ _9"> </span>further),<span class="_ _3"> </span>and<span class="_ _6"> </span>(small)<span class="_ _9"> </span>weigh<span class="_ _1"></span>t<span class="_ _9"> </span>changes<span class="_ _6"> </span>must<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>p<span class="_ _5"></span>erformed<span class="_ _9"> </span>on<span class="_ _9"> </span>the<span class="_ _9"> </span>full<span class="_ _9"> </span>set<span class="_ _9"> </span>of</div><div class="t m23 x39 he y396 ff10 fs5 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terv<span class="_ _1"></span>als<span class="_ _9"> </span>within<span class="_ _9"> </span>gap<span class="_ _9"> </span><span class="ff8">∆</span></div><div class="t m0 x159 h12 y397 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m23 xa6 he y396 ff10 fs5 fc0 sc0 ls0 ws0">on<span class="_ _9"> </span>insertion<span class="_ _9"> </span>and<span class="_ _9"> </span>deletion.<span class="_ _1a"> </span>While<span class="_ _9"> </span>suc<span class="_ _1"></span>h<span class="_ _9"> </span>a<span class="_ _3"> </span>data<span class="_ _6"> </span>structure<span class="_ _9"> </span>is<span class="_ _3"> </span>possible,<span class="_ _9"> </span>we<span class="_ _9"> </span>ﬁnd</div><div class="t m0 x39 he y398 ff10 fs5 fc0 sc0 ls0 ws0">the<span class="_ _9"> </span>current<span class="_ _6"> </span>presentation<span class="_ _6"> </span>more<span class="_ _9"> </span>elegant<span class="_ _6"> </span>and<span class="_ _3"> </span>simpler<span class="_ _9"> </span>to<span class="_ _9"> </span>implement.</div><div class="t m0 x39 he y399 ff19 fs5 fc0 sc0 ls0 ws0">Remark<span class="_ _6"> </span>16<span class="_ _6"> </span>(Lazy<span class="_ _9"> </span>insert).</div><div class="t m5 x3a he y399 ff10 fs5 fc0 sc0 ls0 ws0">One<span class="_ _d"> </span>seemingly-ob<span class="_ _a"></span>vious<span class="_ _d"> </span>w<span class="_ _1"></span>ay<span class="_ _d"> </span>to<span class="_ _d"> </span>impro<span class="_ _1"></span>ve<span class="_ _1b"> </span>insertion<span class="_ _6"> </span>complexit<span class="_ _1"></span>y<span class="_ _4"></span>,<span class="_ _6"> </span>impro<span class="_ _1"></span>ving</div><div class="t m5 x39 he y39a ff10 fs5 fc0 sc0 ls0 ws0">p<span class="_ _5"></span>erhaps<span class="_ _9"> </span>either<span class="_ _3"> </span>of<span class="_ _9"> </span>the<span class="_ _9"> </span>ﬁrst<span class="_ _3"> </span>t<span class="_ _1"></span>wo<span class="_ _9"> </span>disadv<span class="_ _1"></span>an<span class="_ _1"></span>tages<span class="_ _3"> </span>listed<span class="_ _9"> </span>in<span class="_ _3"> </span>Section<span class="_ _9"> </span>1.4,<span class="_ _9"> </span>is<span class="_ _3"> </span>to<span class="_ _9"> </span><span class="ff12">insert<span class="_ _3"> </span>lazily</span>. That<span class="_ _6"> </span>is,<span class="_ _3"> </span>instead</div><div class="t mf x39 he y39b ff10 fs5 fc0 sc0 ls0 ws0">of<span class="_ _9"> </span>p<span class="_ _5"></span>erforming<span class="_ _9"> </span>a<span class="_ _9"> </span>full<span class="_ _9"> </span>insert<span class="_ _9"> </span>of</div><div class="t m0 x31 hc y39b ffa fs5 fc0 sc0 ls0 ws0">e<span class="_ _1b"> </span><span class="ffb">=<span class="_ _1b"></span><span class="ff7">(</span></span>k<span class="_ _5"></span>,<span class="_ _e"> </span>v<span class="_ _19"></span><span class="ff7">)</span></div><div class="t mf x12 he y39b ff10 fs5 fc0 sc0 ls0 ws0">through<span class="_ _9"> </span>the<span class="_ _9"> </span>gap<span class="_ _9"> </span>data<span class="_ _9"> </span>structure<span class="_ _9"> </span>and<span class="_ _3"> </span>then<span class="_ _9"> </span>again<span class="_ _9"> </span>through<span class="_ _9"> </span>the</div><div class="t m25 x39 he y39c ff10 fs5 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terv<span class="_ _1"></span>al<span class="_ _9"> </span>data<span class="_ _9"> </span>structure,<span class="_ _3"> </span>w<span class="_ _1"></span>e<span class="_ _9"> </span>keep<span class="_ _9"> </span>a<span class="_ _9"> </span>buﬀer<span class="_ _9"> </span>at<span class="_ _9"> </span>each<span class="_ _6"> </span>no<span class="_ _5"></span>de<span class="_ _9"> </span>of<span class="_ _3"> </span>the<span class="_ _9"> </span>resp<span class="_ _5"></span>ectiv<span class="_ _1"></span>e<span class="_ _9"> </span>BST<span class="_ _4"></span>s<span class="_ _3"> </span>with<span class="_ _6"> </span>all<span class="_ _3"> </span>the<span class="_ _9"> </span>elemen<span class="_ _1"></span>ts</div><div class="t m1 x39 he y39d ff10 fs5 fc0 sc0 ls0 ws0">that<span class="_ _9"> </span>require<span class="_ _3"> </span>pro<span class="_ _5"></span>cessing<span class="_ _3"> </span>at<span class="_ _9"> </span>a<span class="_ _3"> </span>later<span class="_ _3"> </span>time. While<span class="_ _9"> </span>this<span class="_ _3"> </span>can<span class="_ _3"> </span>impro<span class="_ _1"></span>ve<span class="_ _9"> </span>ov<span class="_ _1"></span>erall<span class="_ _3"> </span>time<span class="_ _9"> </span>complexity<span class="_ _9"> </span>on<span class="_ _3"> </span>some</div><div class="t m16 x39 he y39e ff10 fs5 fc0 sc0 ls0 ws0">simple<span class="_ _9"> </span>op<span class="_ _5"></span>eration<span class="_ _9"> </span>sequences,<span class="_ _3"> </span>it<span class="_ _9"> </span>seems<span class="_ _9"> </span>diﬃcult<span class="_ _3"> </span>to<span class="_ _9"> </span>mak<span class="_ _1"></span>e<span class="_ _3"> </span>this<span class="_ _9"> </span>strategy<span class="_ _9"> </span>eﬃcient<span class="_ _9"> </span>o<span class="_ _1"></span>verall,<span class="_ _9"> </span>when<span class="_ _9"> </span>insertions,</div><div class="t m0 x39 he y39f ff10 fs5 fc0 sc0 ls0 ws0">deletions<span class="_ _9"> </span>and<span class="_ _9"> </span>queries<span class="_ _9"> </span>can<span class="_ _9"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>mixed<span class="_ _9"> </span>arbitrarily<span class="_ _4"></span>.</div><div class="t m5 x57 he y3a0 ff10 fs5 fc0 sc0 ls0 ws0">So<span class="_ _9"> </span>while<span class="_ _9"> </span>improving<span class="_ _6"> </span>either<span class="_ _3"> </span>of<span class="_ _9"> </span>the<span class="_ _9"> </span>tw<span class="_ _1"></span>o<span class="_ _9"> </span>disadv<span class="_ _1"></span>an<span class="_ _1"></span>tages<span class="_ _3"> </span>listed<span class="_ _9"> </span>in<span class="_ _9"> </span>Section<span class="_ _9"> </span>1.4<span class="_ _3"> </span>(and<span class="_ _9"> </span>indeed,<span class="_ _9"> </span>an<span class="_ _9"> </span>improv<span class="_ _1"></span>e-</div><div class="t m10 x39 he y3a1 ff10 fs5 fc0 sc0 ls0 ws0">men<span class="_ _1"></span>t<span class="_ _3"> </span>in<span class="_ _6"> </span>one<span class="_ _3"> </span>ma<span class="_ _1"></span>y<span class="_ _9"> </span>imply<span class="_ _9"> </span>an<span class="_ _9"> </span>improv<span class="_ _1"></span>ement<span class="_ _6"> </span>in<span class="_ _9"> </span>the<span class="_ _3"> </span>other)<span class="_ _6"> </span>would<span class="_ _6"> </span>likely<span class="_ _9"> </span>utilize<span class="_ _9"> </span>asp<span class="_ _5"></span>ects<span class="_ _9"> </span>of<span class="_ _9"> </span>lazy<span class="_ _9"> </span>insertion,</div><div class="t m0 x101 he y3a2 ff10 fs5 fc0 sc0 ls0 ws0">w<span class="_ _1"></span>e<span class="_ _3"> </span>do<span class="_ _9"> </span>not<span class="_ _9"> </span>currently<span class="_ _6"> </span>see<span class="_ _9"> </span>a<span class="_ _9"> </span>wa<span class="_ _1"></span>y<span class="_ _9"> </span>to<span class="_ _3"> </span>ac<span class="_ _1"></span>hieve<span class="_ _6"> </span>this<span class="_ _9"> </span>by<span class="_ _9"> </span>main<span class="_ _1"></span>taining<span class="_ _3"> </span>buﬀers<span class="_ _9"> </span>on<span class="_ _9"> </span>no<span class="_ _5"></span>des<span class="_ _9"> </span>of<span class="_ _9"> </span>the<span class="_ _9"> </span>BST<span class="_ _4"></span>s<span class="_ _9"> </span>we<span class="_ _9"> </span>use.</div><div class="t m0 x39 h11 y3a3 ff14 fs1 fc0 sc0 ls0 ws0">6.5<span class="_ _1d"> </span>Query</div><div class="t m19 x101 he y3a4 ff10 fs5 fc0 sc0 ls0 ws0">T<span class="_ _4"></span>o<span class="_ _9"> </span>answ<span class="_ _1"></span>er<span class="_ _9"> </span>a<span class="_ _9"> </span>query<span class="_ _9"> </span>with<span class="_ _9"> </span>asso<span class="_ _5"></span>ciated<span class="_ _9"> </span>rank</div><div class="t m0 x72 h10 y3a4 ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m19 x18 he y3a4 ff10 fs5 fc0 sc0 ls0 ws0">,<span class="_ _9"> </span>w<span class="_ _1"></span>e<span class="_ _9"> </span>pro<span class="_ _5"></span>ceed<span class="_ _9"> </span>as<span class="_ _9"> </span>follows.<span class="_ _b"> </span>W<span class="_ _4"></span>e<span class="_ _9"> </span>again<span class="_ _9"> </span>determine<span class="_ _9"> </span>the<span class="_ _9"> </span>gap<span class="_ _9"> </span><span class="ff8">∆</span></div><div class="t m0 x5d h12 y3a5 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m5 x39 he y3a6 ff10 fs5 fc0 sc0 ls0 ws0">suc<span class="_ _1"></span>h<span class="_ _6"> </span>that</div><div class="t m0 xe2 hc y3a6 ffa fs5 fc0 sc0 ls0 ws0">r<span class="_ _d"> </span><span class="ffb">∈</span></div><div class="t m5 x1db h10 y3a6 ff8 fs5 fc0 sc0 ls0 ws0">∆</div><div class="t m0 xc6 h12 y3a7 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m5 xfc he y3a6 ff10 fs5 fc0 sc0 ls0 ws0">according<span class="_ _d"> </span>to<span class="_ _6"> </span>the<span class="_ _d"> </span>pro<span class="_ _5"></span>cess<span class="_ _6"> </span>describ<span class="_ _5"></span>ed<span class="_ _d"> </span>in<span class="_ _d"> </span>Deﬁnition<span class="_ _6"> </span>6<span class="_ _d"> </span>on<span class="_ _6"> </span>the<span class="_ _d"> </span>data<span class="_ _6"> </span>structure<span class="_ _d"> </span>of<span class="_ _6"> </span>Lemma<span class="_ _d"> </span>10.</div><div class="t m5 x101 he y3a8 ff10 fs5 fc0 sc0 ls0 ws0">While<span class="_ _6"> </span>w<span class="_ _1"></span>e<span class="_ _6"> </span>could<span class="_ _6"> </span>now<span class="_ _d"> </span>choose<span class="_ _6"> </span>to<span class="_ _6"> </span>rebalance<span class="_ _6"> </span>the<span class="_ _6"> </span>interv<span class="_ _4"></span>als<span class="_ _6"> </span>of<span class="_ _6"> </span><span class="ff8">∆</span></div><div class="t m0 x11d h12 y3a9 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m5 x85 he y3a8 ff10 fs5 fc0 sc0 ls0 ws0">via<span class="_ _6"> </span>Rule<span class="_ _6"> </span>(B),<span class="_ _6"> </span>our<span class="_ _6"> </span>analysis<span class="_ _6"> </span>will<span class="_ _6"> </span>not<span class="_ _6"> </span>require</div><div class="t m1c x39 he y3aa ff10 fs5 fc0 sc0 ls0 ws0">application<span class="_ _9"> </span>of<span class="_ _9"> </span>Rule<span class="_ _9"> </span>(B)<span class="_ _3"> </span>un<span class="_ _1"></span>til<span class="_ _3"> </span>the<span class="_ _9"> </span><span class="ff12">end<span class="_ _b"> </span></span>of<span class="_ _3"> </span>the<span class="_ _9"> </span>query<span class="_ _9"> </span>pro<span class="_ _5"></span>cedure.<span class="_ _1a"> </span>W<span class="_ _4"></span>e<span class="_ _9"> </span>recurse<span class="_ _9"> </span>into<span class="_ _9"> </span>the<span class="_ _9"> </span>interv<span class="_ _4"></span>al</div><div class="t m0 x64 hc y3aa ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 x157 h12 y3ab ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m1c xa4 he y3aa ff10 fs5 fc0 sc0 ls0 ws0">suc<span class="_ _1"></span>h</div><div class="t m3 x39 he y3ac ff10 fs5 fc0 sc0 ls0 ws0">that</div><div class="t m0 xd5 hc y3ac ffa fs5 fc0 sc0 ls0 ws0">r<span class="_ _d"> </span><span class="ffb">∈<span class="_ _1b"></span><span class="ff26">I</span></span></div><div class="t m0 x181 h12 y3ad ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m3 x8b he y3ac ff10 fs5 fc0 sc0 ls0 ws0">,<span class="_ _9"> </span>again<span class="_ _9"> </span>using<span class="_ _9"> </span>the<span class="_ _9"> </span>pro<span class="_ _5"></span>cess<span class="_ _9"> </span>describ<span class="_ _5"></span>ed<span class="_ _9"> </span>in<span class="_ _9"> </span>Deﬁnition<span class="_ _9"> </span>6<span class="_ _9"> </span>on<span class="_ _3"> </span>the<span class="_ _6"> </span>interv<span class="_ _4"></span>als<span class="_ _3"> </span>of<span class="_ _6"> </span><span class="ff8">∆</span></div><div class="t m0 x1e7 h12 y3ad ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m3 x18d he y3ac ff10 fs5 fc0 sc0 ls0 ws0">(this<span class="_ _9"> </span>ma<span class="_ _1"></span>y<span class="_ _3"> </span>use</div><div class="t m0 x39 he y3ae ff10 fs5 fc0 sc0 ls0 ws0">aggregate<span class="_ _9"> </span>information<span class="_ _9"> </span>stored<span class="_ _9"> </span>in<span class="_ _9"> </span>the<span class="_ _3"> </span>data<span class="_ _9"> </span>structure<span class="_ _9"> </span>for<span class="_ _9"> </span>interv<span class="_ _4"></span>als).</div><div class="t m5 x57 he y3af ff10 fs5 fc0 sc0 ls0 ws0">W<span class="_ _4"></span>e<span class="_ _6"> </span>pro<span class="_ _5"></span>ceed<span class="_ _9"> </span>to<span class="_ _9"> </span>pro<span class="_ _5"></span>cess</div><div class="t m0 x10b hc y3af ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 x1af h12 y3b0 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m5 x1b5 he y3af ff10 fs5 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _9"> </span>answering<span class="_ _6"> </span>the<span class="_ _6"> </span>query<span class="_ _9"> </span>on</div><div class="t m0 x11d hc y3af ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 x85 h12 y3b0 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m5 x1b4 he y3af ff10 fs5 fc0 sc0 ls0 ws0">and<span class="_ _6"> </span>replacing<span class="_ _9"> </span>interv<span class="_ _4"></span>al</div><div class="t m0 xf7 hc y3af ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 xa8 h12 y3b0 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m5 x62 he y3af ff10 fs5 fc0 sc0 ls0 ws0">with<span class="_ _6"> </span>smaller</div><div class="t m5 x39 he y3b1 ff10 fs5 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>terv<span class="_ _1"></span>als.<span class="_ _1a"> </span>First,<span class="_ _9"> </span>w<span class="_ _1"></span>e<span class="_ _9"> </span>partition</div><div class="t m0 xb5 hc y3b1 ff26 fs5 fc0 sc0 ls0 ws0">I</div><div class="t m0 x3a h12 y3b2 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m5 x19f he y3b1 ff10 fs5 fc0 sc0 ls0 ws0">in<span class="_ _1"></span>to<span class="_ _9"> </span>sets</div><div class="t m0 x184 h10 y3b1 ffa fs5 fc0 sc0 ls0 ws0">L</div><div class="t m5 xfd he y3b1 ff10 fs5 fc0 sc0 ls0 ws0">and</div><div class="t m0 x1e8 h10 y3b1 ffa fs5 fc0 sc0 ls0 ws0">R</div><div class="t m5 x49 he y3b1 ff10 fs5 fc0 sc0 ls0 ws0">,<span class="_ _6"> </span>such<span class="_ _6"> </span>that<span class="_ _6"> </span>all<span class="_ _9"> </span>elemen<span class="_ _1"></span>ts<span class="_ _9"> </span>in</div><div class="t m0 x27 h10 y3b1 ffa fs5 fc0 sc0 ls0 ws0">L</div><div class="t m5 xcf he y3b1 ff10 fs5 fc0 sc0 ls0 ws0">are<span class="_ _6"> </span>less<span class="_ _9"> </span>than<span class="_ _6"> </span>or<span class="_ _9"> </span>equal</div><div class="t m5 x39 he y3b3 ff10 fs5 fc0 sc0 ls0 ws0">to<span class="_ _9"> </span>all<span class="_ _9"> </span>elements<span class="_ _9"> </span>in</div><div class="t m0 x7 h10 y3b3 ffa fs5 fc0 sc0 ls0 ws0">R</div><div class="t m5 x180 he y3b3 ff10 fs5 fc0 sc0 ls0 ws0">and<span class="_ _9"> </span>there<span class="_ _9"> </span>are</div><div class="t m0 x1b6 h10 y3b3 ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m5 x90 he y3b3 ff10 fs5 fc0 sc0 ls0 ws0">elemen<span class="_ _1"></span>ts<span class="_ _3"> </span>in<span class="_ _9"> </span>the<span class="_ _9"> </span>entire<span class="_ _9"> </span>data<span class="_ _9"> </span>structure<span class="_ _9"> </span>which<span class="_ _9"> </span>are<span class="_ _9"> </span>either<span class="_ _9"> </span>in</div><div class="t m0 x22 h10 y3b3 ffa fs5 fc0 sc0 ls0 ws0">L</div><div class="t m5 x1c3 he y3b3 ff10 fs5 fc0 sc0 ls0 ws0">or<span class="_ _9"> </span>in</div><div class="t m5 x39 he y3b4 ff10 fs5 fc0 sc0 ls0 ws0">an<span class="_ _6"> </span>interv<span class="_ _4"></span>al<span class="_ _9"> </span>or<span class="_ _9"> </span>gap<span class="_ _9"> </span>left<span class="_ _9"> </span>of</div><div class="t m0 x84 h10 y3b4 ffa fs5 fc0 sc0 ls0 ws0">L</div><div class="t m5 x10b he y3b4 ff10 fs5 fc0 sc0 ls0 ws0">.<span class="_ _1a"> </span>This<span class="_ _6"> </span>can<span class="_ _9"> </span>typically<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>done<span class="_ _9"> </span>in</div><div class="t m0 x1a9 hc y3b4 ffa fs5 fc0 sc0 ls0 ws0">O<span class="_ _5"></span><span class="ff7">(<span class="ff26">I</span></span></div><div class="t m0 x4b h12 y3b5 ff17 fs2 fc0 sc0 ls0 ws0">i,j</div><div class="t m0 x165 hc y3b4 ff7 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m5 x3e he y3b4 ff10 fs5 fc0 sc0 ls0 ws0">time<span class="_ _6"> </span>using<span class="_ _9"> </span>the<span class="_ _9"> </span>result<span class="_ _9"> </span>of<span class="_ _9"> </span>the<span class="_ _9"> </span>query</div><div class="t m0 x39 he y3b6 ff10 fs5 fc0 sc0 ls0 ws0">itself;<span class="_ _9"> </span>otherwise,<span class="_ _9"> </span>linear-time<span class="_ _9"> </span>selection<span class="_ _9"> </span>suﬃces<span class="_ _3"> </span>[BFP</div><div class="t m0 x75 hf y3b7 ff13 fs2 fc0 sc0 ls0 ws0">+</div><div class="t m0 x1a4 he y3b6 ff10 fs5 fc0 sc0 ls0 ws0">73].</div><a class="l" href="#pf1b" data-dest-detail='[27,"XYZ",72,143.473,null]'><div class="d m17" style="border-style:none;position:absolute;left:361.140523px;bottom:1084.449346px;width:54.248000px;height:11.626000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf28" data-dest-detail='[40,"XYZ",72,590.286,null]'><div class="d m17" style="border-style:none;position:absolute;left:157.586601px;bottom:1043.635621px;width:34.978000px;height:9.506000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",72,232.369,null]'><div class="d m17" style="border-style:none;position:absolute;left:581.243464px;bottom:936.655229px;width:51.689000px;height:11.689000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",72,232.369,null]'><div class="d m17" style="border-style:none;position:absolute;left:526.019608px;bottom:794.052288px;width:50.431000px;height:11.627000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8" data-dest-detail='[8,"XYZ",72,150.428,null]'><div class="d m17" style="border-style:none;position:absolute;left:526.887255px;bottom:607.171569px;width:52.870000px;height:11.627000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf8" data-dest-detail='[8,"XYZ",72,150.428,null]'><div class="d m17" style="border-style:none;position:absolute;left:604.130719px;bottom:473.346405px;width:52.808000px;height:12.899000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",72,409.687,null]'><div class="d m17" style="border-style:none;position:absolute;left:523.372549px;bottom:326.542484px;width:56.276000px;height:11.627000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf10" data-dest-detail='[16,"XYZ",72,232.369,null]'><div class="d m17" style="border-style:none;position:absolute;left:800.803922px;bottom:326.542484px;width:50.065000px;height:11.627000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12" data-dest-detail='[18,"XYZ",72,673.745,null]'><div class="d m17" style="border-style:none;position:absolute;left:594.243464px;bottom:303.413399px;width:42.396000px;height:12.899000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf12" data-dest-detail='[18,"XYZ",72,673.745,null]'><div class="d m17" style="border-style:none;position:absolute;left:227.197712px;bottom:280.524510px;width:43.345000px;height:13.358000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",72,409.687,null]'><div class="d m17" style="border-style:none;position:absolute;left:503.348039px;bottom:258.385621px;width:58.365000px;height:13.358000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf24" data-dest-detail='[36,"XYZ",72,649.346,null]'><div class="d m17" style="border-style:none;position:absolute;left:474.506536px;bottom:130.754902px;width:40.526000px;height:10.117000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.633987,0.000000,0.000000,1.633987,0.000000,0.000000]}'></div></div>
