<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>My PyCon US 2023 Powersort Talk</title>
  <meta name="description" content="I presented Powersort and its story at the largest Python community conference.">

  <link rel="stylesheet" href="/fonts/pagella/stylesheet.css" type="text/css" charset="utf-8" />
  <link rel="stylesheet" href="/fonts/epigrafica/stylesheet.css" type="text/css" charset="utf-8" />
  <link rel="stylesheet" href="/fonts/fontawesome/fontawesome-all.min.css" type="text/css" charset="utf-8" />
  <link rel="stylesheet" href="/fonts/academicons/academicons.min.css" type="text/css" charset="utf-8" />
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://www.wild-inter.net/posts/powersort-pycon-talk">
  <link rel="alternate" type="application/rss+xml" title="Sebastian Wild's Site" href="https://www.wild-inter.net/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Sebastian</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#46433A" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#46433A" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#46433A" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
          <a class="page-link" href="/research/">Research</a>
          
        
          
          <a class="page-link" href="/teaching/">Teaching</a>
          
        
          
          <a class="page-link" href="/posts/">Blog</a>
          
        
          
          <a class="page-link" href="/about/">About</a>
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <p class="post-meta">
		<time datetime="2023-04-22T00:00:00+01:00" itemprop="datePublished">
			22 Apr 2023
		</time>
		
	</p>
		 
			
				<a href="/posts/by-categories/#algorithms">
				<p class="post-categories">
					algorithms
				</p>
				</a>
			
				<a href="/posts/by-categories/#programming">
				<p class="post-categories">
					programming
				</p>
				</a>
			
		
    <h1 class="post-title" itemprop="name headline">My PyCon US 2023 Powersort Talk</h1>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I presented Powersort and its story at <a href="https://us.pycon.org/2023/"><em>PyCon US 2023</em></a>, the largest Python community conference.
Here are some resources and impressions from the last couple of days here in Salt Lake City.</p>

<figure>
<a href="/assets/salt-lake-city-ensign-peak.jpg"><img src="/assets/salt-lake-city-ensign-peak.jpg" /></a> 
<figcaption>
View on downtown Salt Lake City (with the conference venue!) and Utah State Capitol, from Ensign Peak.
</figcaption>
</figure>

<h2 id="resources">Resources</h2>

<ul>
  <li><a href="https://www.youtube.com/watch?v=QtG858LRQI0&amp;list=PL2Uw4_HvXqvY2zhJ9AMUa_Z6dtMGF3gtb&amp;index=94">Talk recording</a></li>
  <li><a href="https://speakerdeck.com/sebawild/quicksort-timsort-powersort">Talk slides</a><br />
(Speakerdeck seems to have an issue with my fancy transparency patterns, but you can <a href="https://files.speakerdeck.com/presentations/2812be56dd6b48909bbbe8c766a55189/Quicksort__Timsort__Powersort-600-dpi.pdf">download the pdf</a>)</li>
  <li><a href="https://tiny.cc/timsort">Colab notebook</a> with the (educational) implementations of Timsort and Powersort</li>
  <li><a href="https://tiny.cc/sort-lake-city">How-to for donating data</a> to the Adaptive Sorting Benchmark</li>
</ul>

<p>Here‚Äôs the blurb from the talk submission:</p>

<blockquote>

  <p><strong><a href="https://us.pycon.org/2023/schedule/presentation/50/">Quicksort, Timsort, Powersort - Algorithmic ideas, engineering tricks, and trivia behind CPython‚Äôs new sorting algorithm</a></strong><br />
Writing a sorting function is easy - coding a fast and reliable reference implementation less so.
In this talk, I tell the story behind CPython‚Äôs <a href="https://github.com/python/cpython/issues/78742">latest updates</a> of the list sort function.</p>

  <p><strong>Aims:</strong> entertain people with twists of history and algorithmic puzzles, which tell a lovely story of how a seemingly useless piece of theory lead to the fastest and most elegant solution of a practical challenge.</p>

  <p><strong>Target audience:</strong> geeks believing in the power of solid algorithmic thinking; 
programmers interested in engineering performance-critical code; all Python enthusiast curious about what makes (sorting lists in) Python fast.</p>

  <p><strong>Content</strong>:
After using Quicksort for a long while, Tim Peters invented <em>Timsort</em>, a clever Mergesort variant, for the CPython reference implementation of Python.  Timsort is both effective in Python and a popular export product: it is used in many languages and frameworks, notably OpenJDK, the Android runtime, and the V8 JavaScript engine.</p>

  <p>Despite this success, algorithms researchers eventually pinpointed two flaws in Timsort‚Äôs underlying algorithm:
The first could lead to a <a href="http://www.envisage-project.eu/proving-android-java-and-python-sorting-algorithm-is-broken-and-how-to-fix-it/">stack overflow in CPython</a> (and Java); although it has meanwhile been fixed, it is curious that 10 years of widespread use didn‚Äôt bring it to surface.
The second flaw is related to <em>performance</em>: the order in which detected sorted segments, the ‚Äúruns‚Äù in the input, are merged, can be <a href="https://arxiv.org/abs/1801.04641">50% more costly</a> than necessary.  Based on ideas from the little known puzzle of optimal alphabetic trees, the <a href="https://arxiv.org/abs/1805.04154"><em>Powersort</em> merge policy</a> finds nearly optimal merging orders with negligible overhead, and is now (Python 3.11.0) part of the CPython implementation.</p>
</blockquote>

<h2 id="impressions">Impressions</h2>

<p>PyCon US is huge; there were 2200 attendees on site, plus over 400 online participants;
the industrial sponsors alone donated over $1 million (!) towards the event.
(Cheers to JetBrains for bringing proper coffee to the US and giving it away for free 
(cappuccinos throughout the conference, yay ‚òï), and AWS &amp; Superblocks for inviting the whole conference to their party üç∫).</p>

<p>Talk topics were very mixed and broad; some talks presented technical details on
changes to the CPython implenentation 
(like the two <a href="https://us.pycon.org/2023/schedule/presentation/73/">talks by Mark</a> and 
<a href="https://us.pycon.org/2023/schedule/presentation/6/">Brandt</a> from the <em>Faster CPython</em> initiative,
or the flurry of talks on PyScript, the attempts to make Python run in the browser(!)), 
whereas others provided an overview of an area or reported on particular projects
(such as <a href="https://us.pycon.org/2023/schedule/presentation/142/">games on the micro:bit</a> 
or <a href="https://us.pycon.org/2023/schedule/presentation/141/">algorithmic embroidery</a>).</p>

<p>I was also deeply impressed by how much PyCon has going on in terms of community building
at the conference (and outside of it), and how much personal appreciation
people showed for each other.
It is a remarkable achievement to not only get the technical aspects of the language right,
but also the community around it. While one first needs a thing to gather around 
before a community can evolve, it makes me wonder whether a healthy community indeed 
doesn‚Äôt follow, but <em>cause</em> the success of Python.</p>

<p>I was very happy that <em>Guido van Rossum</em> made it to my talk.
Of course, I couldn‚Äôt let the opportunity pass to interview him
on sorting in CPython afterwards:</p>
<blockquote>
  <p>‚ÄúI don‚Äôt remember the exact reasoning, but the mere fact that we used <code class="language-plaintext highlighter-rouge">qsort</code> 
for sorting lists shows you that I didn‚Äôt care much about sorting.‚Äù</p>
</blockquote>

<p>Fair enough üòâ<br />
Had that been any different, who knows whether I would have had an excuse to enjoy PyCon US today?</p>

  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Sebastian Wild</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <p>Contact:</p>
        <ul class="social-media-list">
          <li><a href="mailto:%73%65%62%61%77%69%6C%64@%67%6D%61%69%6C.%63%6F%6D" title="Contact me">sebawild at gmail</a> ‚ãÖ
            <a href="http://pgp.mit.edu/pks/lookup?op=get&search=0x38600ABC14973198">PGP</a></li>
          <li><a href="mailto:%77%69%6C%64@%6C%69%76%65%72%70%6F%6F%6C.%61%63.%75%6B" title="Contact me">wild at liverpool.ac.uk</a> ‚ãÖ
            <a href="http://pgp.mit.edu/pks/lookup?op=get&search=0x34EE39A78B149255">PGP</a></li>

              <p>  </p>
          <li><del><a href="mailto:%77%69%6C%64@%75%77%61%74%65%72%6C%6F%6F.%63%61" title="Contact me">wild at uwaterloo.ca</a></del> ‚ãÖ
            <a href="http://pgp.mit.edu/pks/lookup?op=get&search=0x34EE39A78B149255">PGP</a></li>
          <li><del><a href="mailto:%77%69%6C%64@%63%73.%75%6E%69-%6B%6C.%64%65" title="Contact me">wild at cs.uni-kl.de</a></del></li>
          <p>  </p>
          <li><a href="https://www.liverpool.ac.uk/computer-science/staff/sebastian-wild">Website at UoL</a></li>
          <li><a href="https://www.csc.liv.ac.uk/~swild">intranet site at UoL</a></li>
          <li><a href="https://tcs.csc.liv.ac.uk">TCS @ Liverpool</a></li>
          <li><a href="http://wwwagak.cs.uni-kl.de/home/staff/sebastian-wild">(Old) website TU KL</a></li>

          

          
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <p>Elsewhere:</p>
        <ul class="contact-list">
          <li><a href="https://github.com/sebawild" title="GitHub sebawild"><i class="fab fa-github"></i> GitHub sebawild</a></li>
          <li><a href="https://www.linkedin.com/in/sebastian-wild-liverpool/"><i class="fab fa-linkedin"></i> LinkedIn profile</a></li>
          <li><a rel="me" href="https://mathstodon.xyz/@wild" title="Mastodon @wild@mathstodon.xyz" ><i class="fab fa-mastodon"></i> @wild@mathstodon.xyz</a></li>
          <li><a href="https://twitter.com/Sebastian_Wild_" title="Twitter @Sebastian_Wild_"><i class="fab fa-twitter"></i> @Sebastian_Wild_</a></li>
          
          <p>  </p>
          <li><a href="http://orcid.org/0000-0002-6061-9177" title="ORCID: 0000-0002-6061-9177"><i class="ai ai-orcid"></i> 0000-0002-6061-9177</a></li>
          <li><a href="https://scholar.google.de/citations?user=aMyZiK0AAAAJ"><i class="ai ai-google-scholar"></i>
 Google Scholar profile</a></li>
          <li><a href="http://dblp.uni-trier.de/pers/hd/w/Wild:Sebastian"><i class="ai ai-dblp"></i> DBLP publication list</a></li>
          <li><a href="https://www.semanticscholar.org/author/3124206"><i class="ai ai-semantic-scholar"></i> Semantic Scholar Author Page</a></li>
          <li><a href="http://arxiv.org/a/wild_s_2"><i class="ai ai-arxiv"></i> arXiv Author ID</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Quick links:</p>
        <ul style="margin-top: -1.5ex;">
          <li><a href="/publications">my publications</a></li>
          <li><a href="https://disk.wild-inter.net:5001/fbsharing/J0v0S8yF">my library</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>


  </body>

</html>
