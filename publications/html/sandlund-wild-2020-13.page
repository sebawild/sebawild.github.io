<div id="pfd" class="pf w0 h0" data-page-no="d"><div class="pc pcd w0 h0"><img class="bi x39 y246 w1 h1e" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA6gAAAUCCAIAAACIdEnNAAAACXBIWXMAABYlAAAWJQFJUiTwAAAUrUlEQVR42u3WwQ0AIAzEsJb9dz6GQEgV2CPklSoAAPhAJ1EBAIDnLQkAADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgBgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AABhfCQAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgBgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAGF8JAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgBgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgBgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AAAYXwkAADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgBgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AABhfCQAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAADjCwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwCA8QUAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgBgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAML4AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAADGFwAAjC8AABhfAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQAA4wsAAMYXAACMLwAAxhcAAIwvAAAYXwAAML4AAGB8AQDA+AIAgPEFAADjCwAAxhcAAOMLAADGFwAAjC8AABhfAAAwvgAAYHwBAMD4AgCA8QUAAOMLAIDxBQAA4wsAAMYXAACMLwAAGF8AADC+AABgfAEAwPgCAIDxBQDA+AIAgPEFAADjCwAAxhcAAIwvAAAYXwAAONESAPckEQGAITZBeA/70FrDhQAAAABJRU5ErkJggg=="/><div class="t m0 x101 hc y26 fff fs5 fc0 sc0 ls0 ws0">Lazy<span class="_ _9"> </span>Search<span class="_ _6"> </span>T<span class="_ _4"></span>rees<span class="_ _27"> </span>§4<span class="_ _9"> </span>Rank-Based<span class="_ _9"> </span>Queries<span class="_ _21"> </span><span class="ffe">⋅<span class="_ _15"> </span><span class="ff10">12</span></span></div><div class="t m1 x39 he y59 ff10 fs5 fc0 sc0 ls0 ws0">signiﬁcan<span class="_ _1"></span>t<span class="_ _3"> </span>restructuring<span class="_ _9"> </span>after<span class="_ _9"> </span>a<span class="_ _9"> </span>split.<span class="_ _17"> </span>This<span class="_ _9"> </span>is<span class="_ _9"> </span>complicated<span class="_ _9"> </span>by<span class="_ _6"> </span>guaranteeing<span class="_ _9"> </span>fast<span class="_ _9"> </span>insertion<span class="_ _9"> </span>and<span class="_ _9"> </span>fast</div><div class="t m1 x39 he y5a ff10 fs5 fc0 sc0 ls0 ws0">splits<span class="_ _7"> </span>in<span class="_ _b"> </span>the<span class="_ _b"> </span>future.<span class="_ _12"> </span>In<span class="_ _b"> </span>particular,<span class="_ _b"> </span>after<span class="_ _7"> </span>a<span class="_ _b"> </span>split,<span class="_ _b"> </span>if<span class="_ _b"> </span>the<span class="_ _7"> </span>larger<span class="_ _b"> </span>piece<span class="_ _b"> </span>is<span class="_ _7"> </span>again<span class="_ _b"> </span>split<span class="_ _7"> </span>close<span class="_ _b"> </span>to<span class="_ _b"> </span>where</div><div class="t m21 x39 he y5b ff10 fs5 fc0 sc0 ls0 ws0">the<span class="_ _9"> </span>previous<span class="_ _9"> </span>split<span class="_ _9"> </span>o<span class="_ _5"></span>ccurred,<span class="_ _9"> </span>w<span class="_ _1"></span>e<span class="_ _9"> </span>must<span class="_ _6"> </span>supp<span class="_ _5"></span>ort<span class="_ _9"> </span>this<span class="_ _9"> </span>op<span class="_ _5"></span>eration<span class="_ _9"> </span>quickly<span class="_ _18"></span>,<span class="_ _9"> </span>despite<span class="_ _9"> </span>av<span class="_ _1"></span>oiding<span class="_ _9"> </span>the<span class="_ _9"> </span>previous</div><div class="t m5 x39 he y5c ff10 fs5 fc0 sc0 ls0 ws0">cascading<span class="_ _6"> </span>change<span class="_ _6"> </span>that<span class="_ _9"> </span>would<span class="_ _6"> </span>guarantee<span class="_ _6"> </span>this<span class="_ _6"> </span>p<span class="_ _5"></span>erformance.<span class="_ _1a"> </span>F<span class="_ _4"></span>urther,<span class="_ _9"> </span>to<span class="_ _9"> </span>provide<span class="_ _6"> </span>fast<span class="_ _9"> </span>insertion,<span class="_ _9"> </span>w<span class="_ _1"></span>e<span class="_ _9"> </span>must</div><div class="t m1 x39 he y5d ff10 fs5 fc0 sc0 ls0 ws0">k<span class="_ _1"></span>eep<span class="_ _3"> </span>the<span class="_ _9"> </span>n<span class="_ _1"></span>umber<span class="_ _3"> </span>of<span class="_ _9"> </span>groups<span class="_ _9"> </span>at</div><div class="t m0 xc9 hc y5d ffa fs5 fc0 sc0 ls0 ws0">O<span class="_ _5"></span><span class="ff7">(<span class="ff8">log<span class="_ _10"> </span></span></span></div><div class="t m1 x91 h10 y5d ff8 fs5 fc0 sc0 ls0 ws0">∆</div><div class="t m0 x16e h12 y247 ff17 fs2 fc0 sc0 ls0 ws0">i</div><div class="t m0 x17 hc y5d ff7 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m1 x199 he y5d ff10 fs5 fc0 sc0 ls0 ws0">,<span class="_ _9"> </span>but<span class="_ _9"> </span>after<span class="_ _9"> </span>a<span class="_ _3"> </span>split,<span class="_ _9"> </span>the<span class="_ _9"> </span>b<span class="_ _5"></span>est<span class="_ _9"> </span>wa<span class="_ _1"></span>y<span class="_ _9"> </span>to<span class="_ _9"> </span>guarantee<span class="_ _6"> </span>fast<span class="_ _9"> </span>future</div><div class="t m0 x39 he y5e ff10 fs5 fc0 sc0 ls0 ws0">splits<span class="_ _9"> </span>is<span class="_ _9"> </span>to<span class="_ _9"> </span>create<span class="_ _9"> </span>more<span class="_ _3"> </span>groups.</div><div class="t m5 x57 he y5f ff10 fs5 fc0 sc0 ls0 ws0">W<span class="_ _4"></span>e<span class="_ _d"> </span>will<span class="_ _d"> </span>show<span class="_ _1b"> </span>that<span class="_ _d"> </span>it<span class="_ _d"> </span>is<span class="_ _6"> </span>p<span class="_ _5"></span>ossible<span class="_ _d"> </span>to<span class="_ _d"> </span>resolve<span class="_ _1b"> </span>all<span class="_ _d"> </span>these<span class="_ _6"> </span>issues<span class="_ _d"> </span>and<span class="_ _d"> </span>supp<span class="_ _5"></span>ort<span class="_ _d"> </span>desired<span class="_ _d"> </span>op<span class="_ _5"></span>erations<span class="_ _d"> </span>eﬃciently</div><div class="t m5 x39 he y60 ff10 fs5 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _9"> </span>applying<span class="_ _6"> </span>amortized<span class="_ _9"> </span>analysis<span class="_ _6"> </span>with<span class="_ _6"> </span>a<span class="_ _9"> </span>careful<span class="_ _6"> </span>choice<span class="_ _d"> </span>of<span class="_ _9"> </span>structure<span class="_ _6"> </span>inv<span class="_ _4"></span>ariants.<span class="_ _b"> </span>While<span class="_ _6"> </span>we<span class="_ _6"> </span>do<span class="_ _6"> </span>not<span class="_ _6"> </span>achiev<span class="_ _1"></span>e</div><div class="t m0 x39 hc y61 ffa fs5 fc0 sc0 ls0 ws0">O<span class="_ _5"></span><span class="ff7">(</span></div><div class="t m5 x117 h10 y61 ff8 fs5 fc0 sc0 ls0 ws0">1</div><div class="t m0 x19c hc y61 ff7 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m5 xc he y61 ff10 fs5 fc0 sc0 ls0 ws0">insertion<span class="_ _9"> </span>and<span class="_ _3"> </span>decrease-k<span class="_ _1"></span>ey<span class="_ _3"> </span>cost,<span class="_ _9"> </span>our<span class="_ _9"> </span>data<span class="_ _3"> </span>structure<span class="_ _9"> </span>is<span class="_ _3"> </span>competitive<span class="_ _9"> </span>as<span class="_ _9"> </span>an<span class="_ _3"> </span>eﬃcien<span class="_ _1"></span>t<span class="_ _3"> </span>priorit<span class="_ _1"></span>y<span class="_ _3"> </span>queue</div><div class="t m0 x101 he y62 ff10 fs5 fc0 sc0 ls0 ws0">while<span class="_ _9"> </span>having<span class="_ _6"> </span>to<span class="_ _9"> </span>solve<span class="_ _6"> </span>the<span class="_ _3"> </span>more<span class="_ _9"> </span>complicated<span class="_ _9"> </span>issues<span class="_ _9"> </span>around<span class="_ _9"> </span>eﬃcient<span class="_ _6"> </span>rep<span class="_ _5"></span>eated<span class="_ _9"> </span>arbitrary<span class="_ _3"> </span>splitting.</div><div class="t m0 x39 hd y248 ff11 fs6 fc0 sc0 ls0 ws0">4<span class="_ _16"> </span>Rank-Based<span class="_ _17"> </span>Queries</div><div class="t m7 x101 he y249 ff10 fs5 fc0 sc0 ls0 ws0">W<span class="_ _4"></span>e<span class="_ _9"> </span>formalize<span class="_ _9"> </span>op<span class="_ _5"></span>eration</div><div class="t m0 x189 h10 y249 ff16 fs5 fc0 sc0 ls0 ws0">RankBasedQuery(<span class="ffa">r<span class="_ _5"></span></span>)</div><div class="t m7 xa he y249 ff10 fs5 fc0 sc0 ls0 ws0">as<span class="_ _9"> </span>follows.<span class="_ _b"> </span>W<span class="_ _4"></span>e<span class="_ _9"> </span>ﬁrst<span class="_ _9"> </span>describ<span class="_ _5"></span>e<span class="_ _3"> </span>what<span class="_ _9"> </span>w<span class="_ _1"></span>e<span class="_ _3"> </span>call<span class="_ _9"> </span>an<span class="_ _9"> </span><span class="ff12">aggr<span class="_ _1"></span>e<span class="_ _1"></span>gate</span></div><div class="t m0 x39 he y24a ff12 fs5 fc0 sc0 ls0 ws0">function<span class="ff10">.</span></div><div class="t m0 x39 he y24b ff19 fs5 fc0 sc0 ls0 ws0">Deﬁnition<span class="_ _9"> </span>5<span class="_ _3"> </span>(Aggregate<span class="_ _3"> </span>function).</div><div class="t m5 x130 he y24b fff fs5 fc0 sc0 ls0 ws0">Let</div><div class="t m0 xbb h10 y24b ffa fs5 fc0 sc0 ls0 ws0">S</div><div class="t m5 x19a he y24b fff fs5 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>e<span class="_ _6"> </span>a<span class="_ _6"> </span>multiset<span class="_ _d"> </span>of<span class="_ _9"> </span>comparable<span class="_ _6"> </span>elemen<span class="_ _a"></span>ts<span class="_ _6"> </span>and<span class="_ _6"> </span>let</div><div class="t m0 x55 hc y24b ffa fs5 fc0 sc0 ls0 ws0">f<span class="_ _24"></span><span class="ff7">(</span>S<span class="_ _19"></span><span class="ff7">)</span></div><div class="t m5 x198 he y24b fff fs5 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>e</div><div class="t m9 xa5 he y24c fff fs5 fc0 sc0 ls0 ws0">a<span class="_ _9"> </span>function</div><div class="t m0 x67 h14 y24d ff1a fs2 fc0 sc0 ls0 ws0">4</div><div class="t m9 x8b he y24c fff fs5 fc0 sc0 ls0 ws0">computed<span class="_ _9"> </span>on<span class="_ _9"> </span>those<span class="_ _9"> </span>elements.<span class="_ _b"> </span>Supp<span class="_ _5"></span>ose</div><div class="t m0 xb1 h10 y24c ffa fs5 fc0 sc0 ls0 ws0">S</div><div class="t m0 x1a4 hf y24d ff13 fs2 fc0 sc0 ls0 ws0">′</div><div class="t m9 x1a5 he y24c fff fs5 fc0 sc0 ls0 ws0">is<span class="_ _9"> </span>such<span class="_ _6"> </span>that</div><div class="t m0 x3e h10 y24c ffa fs5 fc0 sc0 ls0 ws0">S</div><div class="t m0 x15f hf y24d ff13 fs2 fc0 sc0 ls0 ws0">′</div><div class="t m9 x4 he y24c fff fs5 fc0 sc0 ls0 ws0">diﬀers<span class="_ _9"> </span>from</div><div class="t m0 x60 h10 y24c ffa fs5 fc0 sc0 ls0 ws0">S</div><div class="t m9 x29 he y24c fff fs5 fc0 sc0 ls0 ws0">b<span class="_ _1"></span>y<span class="_ _3"> </span>the<span class="_ _9"> </span>addition</div><div class="t m1 xa5 he y24e fff fs5 fc0 sc0 ls0 ws0">or<span class="_ _3"> </span>remo<span class="_ _1"></span>v<span class="_ _1"></span>al<span class="_ _3"> </span>of<span class="_ _3"> </span>element</div><div class="t m0 x17f h10 y24e ffa fs5 fc0 sc0 ls0 ws0">x</div><div class="t m1 x10a he y24e fff fs5 fc0 sc0 ls0 ws0">.<span class="_ _c"> </span>Let</div><div class="t m0 x9a hc y24e ffa fs5 fc0 sc0 ls0 ws0">n<span class="_ _6"> </span><span class="ffb">=<span class="_ _6"></span><span class="ff8">max<span class="ff7">(</span></span></span>S<span class="_ _19"></span><span class="ff7"></span>,<span class="_ _e"> </span><span class="ff7"></span>S</div><div class="t m0 x1b hf y24f ff13 fs2 fc0 sc0 ls0 ws0">′</div><div class="t m0 x2 hc y24e ff7 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m1 x12a he y24e fff fs5 fc0 sc0 ls0 ws0">.<span class="_ _c"> </span>Then</div><div class="t m0 x1f h10 y24e ffa fs5 fc0 sc0 ls0 ws0">f</div><div class="t m1 x21 he y24e fff fs5 fc0 sc0 ls0 ws0">is<span class="_ _3"> </span>an<span class="_ _3"> </span><span class="ff12">aggr<span class="_ _1"></span>e<span class="_ _1"></span>gate<span class="_ _3"> </span>function<span class="_ _3"> </span><span class="fff">maintainable<span class="_ _3"> </span>in</span></span></div><div class="t m0 x39 hc y250 ffa fs5 fc0 sc0 ls0 ws0">g<span class="_ _5"></span><span class="ff7">(</span>n<span class="ff7">)<span class="_ _9"> </span><span class="fff">time<span class="_ _9"> </span>if<span class="_ _3"> </span></span></span>f<span class="_ _24"></span><span class="ff7">(</span>S</div><div class="t m0 xd9 hf y251 ff13 fs2 fc0 sc0 ls0 ws0">′</div><div class="t m0 x105 hc y250 ff7 fs5 fc0 sc0 ls0 ws0">)<span class="_ _9"> </span><span class="fff">can<span class="_ _9"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>computed<span class="_ _9"> </span>from<span class="_ _3"> </span><span class="ffa">f<span class="_ _24"></span></span></span>(<span class="ffa">S<span class="_ _5"></span></span>)<span class="_ _3"> </span><span class="fff">and<span class="_ _9"> </span><span class="ffa">x<span class="_ _9"> </span></span>in<span class="_ _9"> </span><span class="ffa">g<span class="_ _5"></span></span></span>(<span class="ffa">n</span>)<span class="_ _3"> </span><span class="fff">time.</span></div><div class="t m10 x57 he y252 ff10 fs5 fc0 sc0 ls0 ws0">W<span class="_ _4"></span>e<span class="_ _9"> </span>fo<span class="_ _5"></span>cus<span class="_ _9"> </span>on<span class="_ _9"> </span>aggregates<span class="_ _9"> </span>with</div><div class="t m0 x174 hc y252 ffa fs5 fc0 sc0 ls0 ws0">g<span class="_ _5"></span><span class="ff7">(</span>n<span class="ff7">)<span class="_ _1b"></span><span class="ffb">=<span class="_ _1b"></span></span></span>O<span class="_ _5"></span><span class="ff7">(</span></div><div class="t m10 x10f h10 y252 ff8 fs5 fc0 sc0 ls0 ws0">1</div><div class="t m0 xbb hc y252 ff7 fs5 fc0 sc0 ls0 ws0">)</div><div class="t m10 x1b he y252 ff10 fs5 fc0 sc0 ls0 ws0">,<span class="_ _9"> </span>though<span class="_ _9"> </span>in<span class="_ _9"> </span>principle<span class="_ _9"> </span>any</div><div class="t m0 x167 hc y252 ffa fs5 fc0 sc0 ls0 ws0">g<span class="_ _5"></span><span class="ff7">(</span>n<span class="ff7">)</span></div><div class="t m10 xc2 he y252 ff10 fs5 fc0 sc0 ls0 ws0">can<span class="_ _9"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>supp<span class="_ _5"></span>orted<span class="_ _9"> </span>with</div><div class="t m0 x39 he y253 ff10 fs5 fc0 sc0 ls0 ws0">appropriate<span class="_ _9"> </span>changes<span class="_ _6"> </span>to<span class="_ _9"> </span>ov<span class="_ _1"></span>erall<span class="_ _9"> </span>runtime<span class="_ _6"> </span>complexity<span class="_ _18"></span>.<span class="_ _1a"> </span>W<span class="_ _4"></span>e<span class="_ _9"> </span>formalize<span class="_ _9"> </span><span class="ff12">r<span class="_ _1"></span>ank-b<span class="_ _1"></span>ase<span class="_ _1"></span>d<span class="_ _3"> </span>queries<span class="_ _b"> </span><span class="ff10">as<span class="_ _9"> </span>follows.</span></span></div><div class="t m0 x39 he y254 ff19 fs5 fc0 sc0 ls0 ws0">Deﬁnition<span class="_ _7"> </span>6<span class="_ _b"> </span>(Rank-based<span class="_ _b"> </span>query).</div><div class="t m1 x1a6 he y254 fff fs5 fc0 sc0 ls0 ws0">Call<span class="_ _9"> </span>a<span class="_ _3"> </span>query<span class="_ _3"> </span>on<span class="_ _9"> </span>a<span class="_ _3"> </span>multiset<span class="_ _9"> </span>of<span class="_ _9"> </span>comparable<span class="_ _3"> </span>elements</div><div class="t m0 xa3 h10 y254 ffa fs5 fc0 sc0 ls0 ws0">S</div><div class="t m1 xa4 he y254 fff fs5 fc0 sc0 ls0 ws0">suc<span class="_ _1"></span>h</div><div class="t m0 xa5 hc y255 fff fs5 fc0 sc0 ls0 ws0">that<span class="_ _9"> </span><span class="ff7"><span class="ffa">S<span class="_ _19"></span></span><span class="_ _1b"></span><span class="ffb">=<span class="_ _1b"></span><span class="ffa">n<span class="_ _9"> </span></span></span></span>a<span class="_ _9"> </span><span class="ff12">r<span class="_ _1"></span>ank-b<span class="_ _1"></span>ase<span class="_ _1"></span>d<span class="_ _3"> </span>query<span class="_ _9"> </span><span class="fff">p<span class="_ _5"></span>ertaining<span class="_ _9"> </span>to<span class="_ _9"> </span>rank<span class="_ _9"> </span><span class="ffa">r<span class="_ _7"> </span></span>if<span class="_ _9"> </span>the<span class="_ _9"> </span>following<span class="_ _6"> </span>tw<span class="_ _1"></span>o<span class="_ _9"> </span>conditions<span class="_ _9"> </span>are<span class="_ _9"> </span>satisﬁed:</span></span></div><div class="t m0 x117 he y256 fff fs5 fc0 sc0 ls0 ws0">1.</div><div class="t me xc he y256 fff fs5 fc0 sc0 ls0 ws0">Consider<span class="_ _9"> </span>if</div><div class="t m0 x7 h10 y256 ffa fs5 fc0 sc0 ls0 ws0">S</div><div class="t me x6b he y256 fff fs5 fc0 sc0 ls0 ws0">is<span class="_ _9"> </span>split<span class="_ _9"> </span>in<span class="_ _1"></span>to<span class="_ _9"> </span>tw<span class="_ _1"></span>o<span class="_ _9"> </span>sets</div><div class="t m0 x72 h10 y256 ffa fs5 fc0 sc0 ls0 ws0">X</div><div class="t me x92 he y256 fff fs5 fc0 sc0 ls0 ws0">and</div><div class="t m0 x185 h10 y256 ffa fs5 fc0 sc0 ls0 ws0">Y</div><div class="t me x75 he y256 fff fs5 fc0 sc0 ls0 ws0">suc<span class="_ _1"></span>h<span class="_ _9"> </span>that<span class="_ _9"> </span>for<span class="_ _9"> </span>all</div><div class="t m0 x1a7 hc y256 ffa fs5 fc0 sc0 ls0 ws0">x<span class="_ _1b"> </span><span class="ffb">∈<span class="_ _1b"></span></span>X</div><div class="t me xaa he y256 fff fs5 fc0 sc0 ls0 ws0">,</div><div class="t m0 x77 hc y256 ffa fs5 fc0 sc0 ls0 ws0">y<span class="_ _d"> </span><span class="ffb">∈<span class="_ _1b"></span></span>Y</div><div class="t me x176 he y256 fff fs5 fc0 sc0 ls0 ws0">,</div><div class="t m0 x1a8 hc y256 ffa fs5 fc0 sc0 ls0 ws0">x<span class="_ _1b"> </span><span class="ffb">≤<span class="_ _1b"></span></span>y</div><div class="t me x9d he y256 fff fs5 fc0 sc0 ls0 ws0">.<span class="_ _b"> </span>It<span class="_ _9"> </span>must<span class="_ _6"> </span>b<span class="_ _5"></span>e</div><div class="t mf xc he y257 fff fs5 fc0 sc0 ls0 ws0">p<span class="_ _5"></span>ossible,<span class="_ _9"> </span>based<span class="_ _9"> </span>on<span class="_ _9"> </span>an<span class="_ _9"> </span>aggregate<span class="_ _9"> </span>function</div><div class="t m0 xee h10 y257 ffa fs5 fc0 sc0 ls0 ws0">f</div><div class="t mf xf6 he y257 fff fs5 fc0 sc0 ls0 ws0">on</div><div class="t m0 xb2 h10 y257 ffa fs5 fc0 sc0 ls0 ws0">X</div><div class="t mf x135 he y257 fff fs5 fc0 sc0 ls0 ws0">and</div><div class="t m0 x94 h10 y257 ffa fs5 fc0 sc0 ls0 ws0">Y</div><div class="t mf x4b he y257 fff fs5 fc0 sc0 ls0 ws0">,<span class="_ _9"> </span>to<span class="_ _9"> </span>reduce<span class="_ _9"> </span>the<span class="_ _9"> </span>query<span class="_ _9"> </span>to<span class="_ _3"> </span>a<span class="_ _6"> </span>query<span class="_ _3"> </span>that</div><div class="t m1 xd6 he y258 fff fs5 fc0 sc0 ls0 ws0">can<span class="_ _3"> </span>be<span class="_ _3"> </span>answered<span class="_ _9"> </span>considering<span class="_ _3"> </span>only<span class="_ _3"> </span>the<span class="_ _3"> </span>elements<span class="_ _9"> </span>of</div><div class="t m0 x1a9 h10 y258 ffa fs5 fc0 sc0 ls0 ws0">X</div><div class="t m1 x94 he y258 fff fs5 fc0 sc0 ls0 ws0">or<span class="_ _3"> </span>only<span class="_ _3"> </span>the<span class="_ _9"> </span>elements<span class="_ _9"> </span>of</div><div class="t m0 x175 h10 y258 ffa fs5 fc0 sc0 ls0 ws0">Y</div><div class="t m1 x9d he y258 fff fs5 fc0 sc0 ls0 ws0">. The<span class="_ _3"> </span>query</div><div class="t m5 xd6 he y259 fff fs5 fc0 sc0 ls0 ws0">rank</div><div class="t m0 x162 h10 y259 ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m5 x190 he y259 fff fs5 fc0 sc0 ls0 ws0">should<span class="_ _9"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>such<span class="_ _6"> </span>that<span class="_ _9"> </span>if<span class="_ _9"> </span>the<span class="_ _3"> </span>query<span class="_ _9"> </span>is<span class="_ _9"> </span>reduced<span class="_ _9"> </span>to</div><div class="t m0 xb4 h10 y259 ffa fs5 fc0 sc0 ls0 ws0">X</div><div class="t m5 x1aa he y259 fff fs5 fc0 sc0 ls0 ws0">,</div><div class="t m0 x4b hc y259 ffa fs5 fc0 sc0 ls0 ws0">r<span class="_ _d"> </span><span class="ffb">≤<span class="_ _1b"></span><span class="ff7"></span></span>X<span class="_ _19"></span><span class="ff7"></span></div><div class="t m5 x125 he y259 fff fs5 fc0 sc0 ls0 ws0">,<span class="_ _9"> </span>and<span class="_ _9"> </span>if<span class="_ _9"> </span>the<span class="_ _9"> </span>query<span class="_ _3"> </span>is<span class="_ _9"> </span>reduced<span class="_ _9"> </span>to</div><div class="t m0 xc hc y25a ffa fs5 fc0 sc0 ls0 ws0">Y<span class="_ _f"> </span><span class="fff">,<span class="_ _9"> </span><span class="ff7"></span></span>X<span class="_ _19"></span><span class="ff7"><span class="_ _1b"></span><span class="ffb">&lt;<span class="_ _d"></span></span></span>r<span class="_ _5"></span><span class="fff">.</span></div><div class="t m0 x117 hc y25b fff fs5 fc0 sc0 ls0 ws0">2. It<span class="_ _9"> </span>must<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>p<span class="_ _5"></span>ossible<span class="_ _9"> </span>to<span class="_ _3"> </span>answ<span class="_ _1"></span>er<span class="_ _9"> </span>the<span class="_ _3"> </span>query<span class="_ _9"> </span>on<span class="_ _9"> </span><span class="ffa">S<span class="_ _7"> </span></span>in<span class="_ _9"> </span><span class="ffa">O<span class="_ _5"></span><span class="ff7">(</span>n<span class="ff7">)<span class="_ _9"> </span></span></span>time.</div><div class="t m1 x57 he y25c ff10 fs5 fc0 sc0 ls0 ws0">Critical<span class="_ _9"> </span>to<span class="_ _9"> </span>our<span class="_ _3"> </span>analysis<span class="_ _9"> </span>is<span class="_ _9"> </span>the<span class="_ _9"> </span>rank</div><div class="t m0 x16e h10 y25c ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m1 x9 he y25c ff10 fs5 fc0 sc0 ls0 ws0">asso<span class="_ _5"></span>ciated<span class="_ _9"> </span>with<span class="_ _9"> </span>each</div><div class="t m0 x15e h10 y25c ff16 fs5 fc0 sc0 ls0 ws0">RankBasedQuery(<span class="ffa">r<span class="_ _5"></span></span>)</div><div class="t m1 xc4 he y25c ff10 fs5 fc0 sc0 ls0 ws0">op<span class="_ _5"></span>eration.<span class="_ _1a"> </span>W<span class="_ _4"></span>e</div><div class="t m28 x39 he y25d ff10 fs5 fc0 sc0 ls0 ws0">asso<span class="_ _5"></span>ciate<span class="_ _9"> </span>with<span class="_ _9"> </span>each<span class="_ _6"> </span>op<span class="_ _5"></span>eration<span class="_ _9"> </span>a<span class="_ _3"> </span>rank</div><div class="t m0 x25 h10 y25d ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m28 x12 he y25d ff10 fs5 fc0 sc0 ls0 ws0">whic<span class="_ _1"></span>h<span class="_ _3"> </span>m<span class="_ _1"></span>ust<span class="_ _9"> </span>b<span class="_ _5"></span>e<span class="_ _3"> </span>con<span class="_ _1"></span>tained<span class="_ _9"> </span>in<span class="_ _3"> </span>eac<span class="_ _1"></span>h<span class="_ _3"> </span>subproblem<span class="_ _9"> </span>according<span class="_ _9"> </span>to<span class="_ _9"> </span>a</div><div class="t m5 x39 he y25e ff10 fs5 fc0 sc0 ls0 ws0">recursion<span class="_ _6"> </span>based<span class="_ _9"> </span>on<span class="_ _6"> </span>Deﬁnition<span class="_ _9"> </span>6.<span class="_ _b"> </span>Amongst<span class="_ _9"> </span>a<span class="_ _6"> </span>set<span class="_ _9"> </span>of<span class="_ _6"> </span>unsorted<span class="_ _9"> </span>elements,</div><div class="t m0 x125 h10 y25e ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m5 xac he y25e ff10 fs5 fc0 sc0 ls0 ws0">can<span class="_ _6"> </span>b<span class="_ _5"></span>e<span class="_ _9"> </span>c<span class="_ _1"></span>hosen<span class="_ _9"> </span>arbitrarily<span class="_ _4"></span>,<span class="_ _6"> </span>but</div><div class="t m5 x101 he y25f ff10 fs5 fc0 sc0 ls0 ws0">whic<span class="_ _1"></span>hever<span class="_ _6"> </span>rank<span class="_ _9"> </span>is<span class="_ _6"> </span>chosen<span class="_ _6"> </span>will<span class="_ _9"> </span>aﬀect<span class="_ _6"> </span>the<span class="_ _9"> </span>restructuring<span class="_ _9"> </span>and<span class="_ _9"> </span>c<span class="_ _1"></span>hange<span class="_ _9"> </span>the<span class="_ _9"> </span>complexit<span class="_ _a"></span>y<span class="_ _6"> </span>of<span class="_ _9"> </span>future<span class="_ _9"> </span>op<span class="_ _5"></span>erations.</div><div class="t m5 x39 he y260 ff10 fs5 fc0 sc0 ls0 ws0">Implemen<span class="_ _1"></span>tation<span class="_ _9"> </span>decisions<span class="_ _9"> </span>ma<span class="_ _1"></span>y<span class="_ _9"> </span>change</div><div class="t m0 x13a h10 y260 ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m5 x16e he y260 ff10 fs5 fc0 sc0 ls0 ws0">to<span class="_ _6"> </span>b<span class="_ _5"></span>e</div><div class="t m0 x1b hc y260 ffa fs5 fc0 sc0 ls0 ws0">r<span class="_ _10"> </span><span class="ffe">−</span></div><div class="t m5 x18c he y260 ff8 fs5 fc0 sc0 ls0 ws0">1<span class="_ _6"> </span><span class="ff10">or</span></div><div class="t m0 x1ab hc y260 ffa fs5 fc0 sc0 ls0 ws0">r<span class="_ _10"> </span><span class="ffe">+</span></div><div class="t m5 x20 he y260 ff8 fs5 fc0 sc0 ls0 ws0">1<span class="ff10">;<span class="_ _9"> </span>suc<span class="_ _1"></span>h<span class="_ _9"> </span>one-oﬀ<span class="_ _9"> </span>errors<span class="_ _6"> </span>do<span class="_ _9"> </span>not<span class="_ _6"> </span>hav<span class="_ _1"></span>e<span class="_ _9"> </span>measured</span></div><div class="t m4 x39 he y261 ff10 fs5 fc0 sc0 ls0 ws0">eﬀect<span class="_ _9"> </span>on<span class="_ _9"> </span>complexity<span class="_ _18"></span>,<span class="_ _3"> </span>as<span class="_ _9"> </span>long<span class="_ _9"> </span>as<span class="_ _9"> </span>the<span class="_ _3"> </span>extract<span class="_ _9"> </span>minim<span class="_ _1"></span>um<span class="_ _3"> </span>or<span class="_ _9"> </span>extract<span class="_ _9"> </span>maximum<span class="_ _6"> </span>queries<span class="_ _3"> </span>result<span class="_ _9"> </span>in<span class="_ _9"> </span>a<span class="_ _3"> </span>single</div><div class="t m0 x39 he y262 ff10 fs5 fc0 sc0 ls0 ws0">gap<span class="_ _9"> </span><span class="ff8">∆</span></div><div class="t m0 x186 h3 y263 ff3 fs2 fc0 sc0 ls0 ws0">1</div><div class="t m0 x102 he y262 ff10 fs5 fc0 sc0 ls0 ws0">.</div><div class="t m1 x57 he y264 ff10 fs5 fc0 sc0 ls0 ws0">The<span class="_ _7"> </span>following<span class="_ _7"> </span>well-studied<span class="_ _3"> </span>op<span class="_ _5"></span>erations<span class="_ _b"> </span>ﬁt<span class="_ _7"> </span>our<span class="_ _b"> </span>deﬁnition<span class="_ _7"> </span>of<span class="_ _b"> </span>rank-based<span class="_ _7"> </span>query<span class="_ _b"> </span>with<span class="_ _7"> </span>ranks</div><div class="t m0 x1ac h10 y264 ffa fs5 fc0 sc0 ls0 ws0">r</div><div class="t m1 x1ad he y264 ff10 fs5 fc0 sc0 ls0 ws0">as</div><div class="t m0 x39 he y265 ff10 fs5 fc0 sc0 ls0 ws0">describ<span class="_ _5"></span>ed;<span class="_ _9"> </span>the<span class="_ _9"> </span>aggregate<span class="_ _9"> </span>function<span class="_ _9"> </span>is<span class="_ _3"> </span>either<span class="_ _9"> </span>the<span class="_ _9"> </span>cardinality<span class="_ _6"> </span>of<span class="_ _9"> </span>the<span class="_ _9"> </span>set<span class="_ _3"> </span>or<span class="_ _9"> </span>a<span class="_ _9"> </span>range<span class="_ _9"> </span>of<span class="_ _9"> </span>keys<span class="_ _6"> </span>for<span class="_ _3"> </span>the<span class="_ _9"> </span>set.</div><div class="t m0 x57 hc y266 ff15 fs5 fc0 sc0 ls0 ws0">•<span class="_ _c"> </span><span class="ff16">Rank(<span class="ffa">k</span>)<span class="_ _9"> </span><span class="ffe">∶<span class="ffb">=<span class="_ _3"> </span><span class="ff10">Determine<span class="_ _9"> </span>the<span class="_ _9"> </span>rank<span class="_ _9"> </span>of<span class="_ _9"> </span>key<span class="_ _6"> </span><span class="ffa">k<span class="_ _19"></span></span>.<span class="_ _b"> </span>Rank<span class="_ _9"> </span><span class="ffa">r<span class="_ _3"> </span></span>is<span class="_ _3"> </span>the<span class="_ _9"> </span>rank<span class="_ _9"> </span>of<span class="_ _9"> </span><span class="ffa">k<span class="_ _3"> </span></span>in<span class="_ _9"> </span><span class="ffa">S<span class="_ _19"></span></span>.</span></span></span></span></div><div class="t m0 x57 hc y267 ff15 fs5 fc0 sc0 ls0 ws0">•<span class="_ _c"> </span><span class="ff16">Select(<span class="ffa">r</span>)<span class="_ _9"> </span><span class="ffe">∶<span class="ffb">=<span class="_ _3"> </span><span class="ff10">Select<span class="_ _9"> </span>the<span class="_ _9"> </span>elemen<span class="_ _a"></span>t<span class="_ _9"> </span>of<span class="_ _9"> </span>rank<span class="_ _9"> </span><span class="ffa">r<span class="_ _3"> </span></span>in<span class="_ _3"> </span><span class="ffa">S<span class="_ _5"></span></span>.<span class="_ _1a"> </span>Rank<span class="_ _9"> </span><span class="ffa">r<span class="_ _7"> </span></span>is<span class="_ _9"> </span>the<span class="_ _9"> </span>rank<span class="_ _9"> </span>selected.</span></span></span></span></div><div class="t m0 x111 h17 y268 ff1c fs7 fc0 sc0 ls0 ws0">4</div><div class="t m5 x57 h18 y10b ff1d fs8 fc0 sc0 ls0 ws0">W<span class="_ _4"></span>e<span class="_ _d"> </span>do<span class="_ _d"> </span>not<span class="_ _d"> </span>actually<span class="_ _d"> </span>require<span class="_ _6"> </span>a<span class="_ _d"> </span>strict<span class="_ _d"> </span>function</div><div class="t m0 x17 h19 y10b ff21 fs8 fc0 sc0 ls0 ws0">f<span class="_ _24"></span><span class="ff20">(</span>S<span class="_ _5"></span><span class="ff20">)<span class="_ _f"> </span><span class="ff22">=<span class="_ _10"> </span></span></span>y</div><div class="t m5 x185 h18 y10b ff1d fs8 fc0 sc0 ls0 ws0">for<span class="_ _d"> </span>a<span class="_ _d"> </span>set</div><div class="t m0 x1f h1a y10b ff21 fs8 fc0 sc0 ls0 ws0">S</div><div class="t m5 xb3 h18 y10b ff1d fs8 fc0 sc0 ls0 ws0">,<span class="_ _d"> </span>but<span class="_ _d"> </span>rather<span class="_ _d"> </span>can<span class="_ _d"> </span>let<span class="_ _d"> </span>the<span class="_ _d"> </span>aggregate<span class="_ _6"> </span>function<span class="_ _d"> </span>depend</div><div class="t m26 x39 h18 y10c ff1d fs8 fc0 sc0 ls0 ws0">on<span class="_ _d"> </span>the<span class="_ _d"> </span>queries<span class="_ _6"> </span>that<span class="_ _d"> </span>dynamically<span class="_ _d"> </span>change<span class="_ _d"> </span>that<span class="_ _d"> </span>set.<span class="_ _7"> </span>In<span class="_ _d"> </span>particular,<span class="_ _6"> </span>we<span class="_ _1b"> </span>can<span class="_ _6"> </span>(initially)<span class="_ _d"> </span>map</div><div class="t m0 xce h19 y10c ff21 fs8 fc0 sc0 ls0 ws0">f<span class="_ _24"></span><span class="ff20">(</span>S<span class="_ _5"></span><span class="ff20">)<span class="_ _f"> </span><span class="ff22">=<span class="_ _10"> </span><span class="ff1e">min<span class="_ _e"> </span></span></span></span>S</div><div class="t m26 x79 h18 y10c ff1d fs8 fc0 sc0 ls0 ws0">or</div><div class="t m0 x1ae h19 y10c ff21 fs8 fc0 sc0 ls0 ws0">f<span class="_ _24"></span><span class="ff20">(</span>S<span class="_ _5"></span><span class="ff20">)<span class="_ _f"> </span><span class="ff22">=<span class="_ _10"> </span><span class="ff1e">max<span class="_ _e"> </span></span></span></span>S</div><div class="t m5 x39 h18 y269 ff1d fs8 fc0 sc0 ls0 ws0">and<span class="_ _d"> </span>change<span class="_ _1b"> </span>this<span class="_ _d"> </span>v<span class="_ _1"></span>alue<span class="_ _d"> </span>to<span class="_ _d"> </span>decrease/increase<span class="_ _d"> </span>monotonically<span class="_ _d"> </span>as</div><div class="t m0 xb1 h1a y269 ff21 fs8 fc0 sc0 ls0 ws0">S</div><div class="t m5 xb2 h18 y269 ff1d fs8 fc0 sc0 ls0 ws0">is<span class="_ _d"> </span>up<span class="_ _5"></span>dated,<span class="_ _d"> </span>even<span class="_ _1b"> </span>if<span class="_ _d"> </span>the<span class="_ _d"> </span>minimum/maxim<span class="_ _1"></span>um<span class="_ _d"> </span>is<span class="_ _d"> </span>remov<span class="_ _1"></span>ed.</div><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",88.584,103.283,null]'><div class="d m17" style="border-style:none;position:absolute;left:192.834967px;bottom:777.305556px;width:6.724000px;height:13.426000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pfd" data-dest-detail='[13,"XYZ",72,409.687,null]'><div class="d m17" style="border-style:none;position:absolute;left:261.923203px;bottom:380.194444px;width:56.574000px;height:11.626000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.633987,0.000000,0.000000,1.633987,0.000000,0.000000]}'></div></div>
