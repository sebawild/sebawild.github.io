<div id="pf1b" class="pf w0 h0" data-page-no="1b"><div class="pc pc1b w0 h0"><img class="bi x0 yf7 w2 h1" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA34AAAABCAIAAAAO1+vKAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAHElEQVRIx+3BMQEAAAzDoPq3nGcq9gGrBgAA/w7aJgLyLrSq2gAAAABJRU5ErkJggg=="/><div class="t m0 x0 h6 y2e ffe fs3 fc0 sc0 ls0 ws0">App<span class="_ _4"></span>endix<span class="_ _50"> </span><span class="ff6">27</span></div><div class="t m9 x19 h6 y62 ff6 fs3 fc0 sc0 ls0 ws0">The<span class="_ _a"> </span>ab<span class="_ _4"></span>o<span class="_ _f"></span>ve<span class="_ _a"> </span>methods<span class="_ _a"> </span>make<span class="_ _5"> </span>use<span class="_ _a"> </span>of<span class="_ _a"> </span>the<span class="_ _a"> </span>following<span class="_ _a"> </span>in<span class="_ _f"></span>ternal<span class="_ _a"> </span>pro<span class="_ _4"></span>cedures.<span class="_ _3"> </span>W<span class="_ _6"></span>e<span class="_ _a"> </span>give<span class="_ _a"> </span>a<span class="_ _a"> </span>spine<span class="_ _5"> </span>search</div><div class="t m1d x0 h6 y63 ff6 fs3 fc0 sc0 ls0 ws0">implemen<span class="_ _8"></span>tation<span class="_ _a"> </span>that<span class="_ _a"> </span>is<span class="_ _a"> </span>augmented<span class="_ _a"> </span>to<span class="_ _a"> </span>determine<span class="_ _a"> </span>also<span class="_ _a"> </span>the<span class="_ _a"> </span>rank<span class="_ _a"> </span>of<span class="_ _a"> </span>the<span class="_ _7"> </span>found<span class="_ _a"> </span>elemen<span class="_ _8"></span>t.<span class="_ _12"> </span>Using<span class="_ _a"> </span>the</div><div class="t mb x0 h6 y64 ff6 fs3 fc0 sc0 ls0 ws0">rank<span class="_ _a"> </span>mak<span class="_ _8"></span>es<span class="_ _a"> </span>the<span class="_ _a"> </span>procedures<span class="_ _a"> </span>to<span class="_ _a"> </span>restore<span class="_ _a"> </span>the<span class="_ _a"> </span>distribution<span class="_ _a"> </span>after<span class="_ _a"> </span>insertions<span class="_ _a"> </span>or<span class="_ _a"> </span>deletions<span class="_ _a"> </span>a<span class="_ _a"> </span>bit<span class="_ _a"> </span>more</div><div class="t m0 x0 h6 y65 ff6 fs3 fc0 sc0 ls0 ws0">con<span class="_ _8"></span>v<span class="_ _8"></span>enien<span class="_ _8"></span>t<span class="_ _a"> </span>to<span class="_ _a"> </span>state,<span class="_ _a"> </span>and<span class="_ _a"> </span>also<span class="_ _a"> </span>a<span class="_ _8"></span>v<span class="_ _8"></span>oids<span class="_ _a"> </span>re-doing<span class="_ _a"> </span>k<span class="_ _8"></span>ey<span class="_ _a"> </span>comparisons<span class="_ _a"> </span>there.</div><div class="t m1 x19 h6 y66 ff6 fs3 fc0 sc0 ls0 ws0">The<span class="_ _a"> </span>giv<span class="_ _8"></span>en<span class="_ _a"> </span>implementation<span class="_ _a"> </span>of<span class="_ _c"> </span><span class="ff2e">SpineSearch</span>,<span class="_ _a"> </span><span class="ff2e">Cont<span class="_ _6"></span>ains<span class="ff6">,<span class="_ _a"> </span></span>Inser<span class="_ _f"></span>t<span class="ff6">,<span class="_ _a"> </span>and<span class="_ _a"> </span></span>Delete<span class="_ _a"> </span><span class="ff6">assume<span class="_ _7"> </span>a</span></span></div><div class="t m1a x0 h6 y67 ff6 fs3 fc0 sc0 ls0 ws0">sen<span class="_ _8"></span>tinel<span class="_ _a"> </span>no<span class="_ _4"></span>de</div><div class="t m0 x1c3 h6 y67 ff13 fs3 fc0 sc0 ls0 ws0">tail</div><div class="t m1a x1b8 h6 y67 ff6 fs3 fc0 sc0 ls0 ws0">at<span class="_ _a"> </span>the<span class="_ _a"> </span>end<span class="_ _a"> </span>of<span class="_ _a"> </span>the<span class="_ _7"> </span>link<span class="_ _8"></span>ed<span class="_ _a"> </span>list<span class="_ _a"> </span>that<span class="_ _a"> </span>has</div><div class="t m0 xa6 h6 y67 ff13 fs3 fc0 sc0 ls0 ws0">tail<span class="_ _14"></span><span class="ff7">.</span>key</div><div class="t m1a x18b h6 y67 ff8 fs3 fc0 sc0 ls0 ws0">=<span class="_ _9"> </span>+</div><div class="t m0 xe6 h6 y67 ff18 fs3 fc0 sc0 ls0 ws0">∞</div><div class="t m1a x1ec h6 y67 ff6 fs3 fc0 sc0 ls0 ws0">,</div><div class="t m0 xa0 h6 y67 ff6 fs3 fc0 sc0 ls0 ws0">i.<span class="_ _10"></span>e.</div><div class="t m1a x111 h6 y67 ff6 fs3 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>a<span class="_ _a"> </span>v<span class="_ _f"></span>alue<span class="_ _a"> </span>larger<span class="_ _a"> </span>than</div><div class="t m1 x0 h6 y68 ff6 fs3 fc0 sc0 ls0 ws0">an<span class="_ _8"></span>y<span class="_ _a"> </span>actual<span class="_ _a"> </span>key<span class="_ _a"> </span>v<span class="_ _6"></span>alue;<span class="_ _7"> </span>w<span class="_ _8"></span>e<span class="_ _a"> </span>do<span class="_ _a"> </span>how<span class="_ _f"></span>ever<span class="_ _a"> </span>not<span class="_ _a"> </span>coun<span class="_ _f"></span>t</div><div class="t m0 x175 h6 y68 ff13 fs3 fc0 sc0 ls0 ws0">tail</div><div class="t m1 x34 h6 y68 ff6 fs3 fc0 sc0 ls0 ws0">to<span class="_ _8"></span>w<span class="_ _8"></span>ards<span class="_ _a"> </span>the</div><div class="t m0 xf h6 y68 ff7 fs3 fc0 sc0 ls0 ws0">m</div><div class="t m1 xe3 h6 y68 ff6 fs3 fc0 sc0 ls0 ws0">no<span class="_ _4"></span>des<span class="_ _a"> </span>of<span class="_ _a"> </span>a<span class="_ _a"> </span>jumplist<span class="_ _a"> </span>since</div><div class="t m0 x53 h6 y69 ff13 fs3 fc0 sc0 ls0 ws0">tail</div><div class="t m1 x209 h6 y69 ff6 fs3 fc0 sc0 ls0 ws0">can<span class="_ _a"> </span>b<span class="_ _4"></span>e<span class="_ _a"> </span>shared<span class="_ _a"> </span>across<span class="_ _7"> </span>all<span class="_ _a"> </span>instances<span class="_ _7"> </span>of<span class="_ _a"> </span>jumplists. The<span class="_ _a"> </span>sentinel<span class="_ _a"> </span>ma<span class="_ _f"></span>y<span class="_ _7"> </span>nev<span class="_ _8"></span>er<span class="_ _a"> </span>b<span class="_ _4"></span>e<span class="_ _a"> </span>the<span class="_ _a"> </span>target<span class="_ _7"> </span>of</div><div class="t m1 x0 h6 y6a ff6 fs3 fc0 sc0 ls0 ws0">an<span class="_ _8"></span>y<span class="_ _c"> </span>jump<span class="_ _7"> </span>p<span class="_ _4"></span>ointer.<span class="_ _d"> </span>W<span class="_ _33"></span>e<span class="_ _c"> </span>could<span class="_ _c"> </span>a<span class="_ _f"></span>void<span class="_ _7"> </span>the<span class="_ _c"> </span>need<span class="_ _c"> </span>for<span class="_ _c"> </span>the<span class="_ _7"> </span>sentinel<span class="_ _7"> </span>at<span class="_ _c"> </span>the<span class="_ _c"> </span>exp<span class="_ _4"></span>ense<span class="_ _7"> </span>of<span class="_ _c"> </span>a<span class="_ _c"> </span>null-c<span class="_ _f"></span>heck</div><div class="t m25 x0 h6 y6c ff6 fs3 fc0 sc0 ls0 ws0">of<span class="_ _a"> </span>the<span class="_ _a"> </span>next<span class="_ _a"> </span>pointer,<span class="_ _a"> </span>before<span class="_ _a"> </span>comparing<span class="_ _a"> </span>the<span class="_ _a"> </span>successor’s<span class="_ _a"> </span>k<span class="_ _f"></span>ey<span class="_ _a"> </span>(line<span class="_ _a"> </span>12<span class="_ _a"> </span>in<span class="_ _a"> </span><span class="ff2e">SpineSearch</span>,<span class="_ _a"> </span>line<span class="_ _5"> </span>2<span class="_ _a"> </span>in</div><div class="t m1 x0 h6 y6d ff2e fs3 fc0 sc0 ls0 ws0">Cont<span class="_ _6"></span>ains<span class="ff6">,<span class="_ _c"> </span>line<span class="_ _7"> </span>2<span class="_ _7"> </span>in<span class="_ _7"> </span></span>Inser<span class="_ _f"></span>t<span class="ff6">,<span class="_ _7"> </span>and<span class="_ _c"> </span>line<span class="_ _7"> </span>2<span class="_ _7"> </span>in<span class="_ _7"> </span></span>Delete<span class="ff6">).<span class="_ _19"> </span>Since<span class="_ _7"> </span>using<span class="_ _7"> </span>the<span class="_ _7"> </span>sentinel<span class="_ _a"> </span>is<span class="_ _7"> </span>a<span class="_ _c"> </span>bit<span class="_ _7"> </span>more</span></div><div class="t m0 x0 h6 y6e ff6 fs3 fc0 sc0 ls0 ws0">eﬃcien<span class="_ _8"></span>t<span class="_ _a"> </span>and<span class="_ _a"> </span>giv<span class="_ _8"></span>es<span class="_ _a"> </span>more<span class="_ _a"> </span>readable<span class="_ _a"> </span>co<span class="_ _4"></span>de,<span class="_ _a"> </span>w<span class="_ _f"></span>e<span class="_ _a"> </span>stick<span class="_ _a"> </span>to<span class="_ _a"> </span>this<span class="_ _a"> </span>assumption.</div><div class="t m0 x0 h6 y80f ff2e fs3 fc0 sc0 ls0 ws0">SpineSearch<span class="ff8">(<span class="ff13">he<span class="_ _6"></span>ad<span class="_ _10"></span><span class="ff7">,<span class="_ _15"> </span>x<span class="ff8">)</span></span></span></span></div><div class="t m0 x1b9 h45 y810 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Returns<span class="_ _a"> </span>last<span class="_ _9"> </span>no<span class="_ _4"></span>de<span class="_ _5"> </span>with<span class="_ _a"> </span>k<span class="_ _f"></span>ey<span class="_ _a"> </span><span class="ff7">&lt;<span class="_ _11"> </span>x<span class="_ _5"> </span></span>and<span class="_ _a"> </span>its<span class="_ _9"> </span>zero-based<span class="_ _a"> </span>rank,</span></div><div class="t m0 x1b9 h45 y811 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">i.<span class="_ _10"></span>e.,<span class="_ _5"> </span>the<span class="_ _a"> </span>number<span class="_ _a"> </span>of<span class="_ _9"> </span>no<span class="_ _4"></span>des<span class="_ _a"> </span>with<span class="_ _9"> </span>key<span class="_ _5"> </span><span class="ff7">&lt;<span class="_ _11"> </span>x</span></span></div><div class="t m0 x160 h6 y812 ff23 fs5 fc0 sc0 ls0 ws0">1<span class="_ _2c"> </span><span class="ff13 fs3">r<span class="_ _f"></span>ank<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span>0<span class="ff6">;<span class="_ _57"> </span></span></span>stepp<span class="_ _6"></span>e<span class="_ _f"></span>dOver<span class="_ _12"> </span><span class="ff8">:=<span class="_ _c"> </span>0<span class="ff6">;<span class="_ _57"> </span></span></span>lastJump<span class="_ _6"></span>e<span class="_ _8"></span>dT<span class="_ _6"></span>o<span class="_ _c"> </span><span class="ff8">:=<span class="_ _7"> </span></span>he<span class="_ _8"></span>ad</span></div><div class="t m0 x160 h6 y813 ff23 fs5 fc0 sc0 ls0 ws0">2<span class="_ _2c"> </span><span class="ff1b fs3">rep<span class="_ _4"></span>eat<span class="_ _57"> </span><span class="ff34">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">BST-style<span class="_ _9"> </span>search</span></span></span></div><div class="t m0 x160 h6 y814 ff23 fs5 fc0 sc0 ls0 ws0">3<span class="_ _56"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">.</span>jump<span class="_ _4"></span><span class="ff7">.</span>key<span class="_ _a"> </span><span class="ff7">&lt;<span class="_ _9"> </span>x</span></span></span></div><div class="t m0 x160 h6 y815 ff23 fs5 fc0 sc0 ls0 ws0">4<span class="_ _59"> </span><span class="ff13 fs3">r<span class="_ _f"></span>ank<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span></span>r<span class="_ _f"></span>ank<span class="_ _9"> </span><span class="ff8">+<span class="_ _11"> </span></span>he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>nsize<span class="_ _9"> </span><span class="ff8">+<span class="_ _11"> </span>1<span class="_ _1c"> </span>+<span class="_ _11"> </span></span>stepp<span class="_ _6"></span>e<span class="_ _8"></span>dOver</span></div><div class="t m0 x160 h6 y816 ff23 fs5 fc0 sc0 ls0 ws0">5<span class="_ _59"> </span><span class="ff13 fs3">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span></span>he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>jump</span></div><div class="t m0 x160 h6 y817 ff23 fs5 fc0 sc0 ls0 ws0">6<span class="_ _59"> </span><span class="ff13 fs3">stepp<span class="_ _f"></span>e<span class="_ _f"></span>dOver<span class="_ _12"> </span><span class="ff8">:=<span class="_ _7"> </span>0<span class="ff6">;<span class="_ _a"> </span></span></span>lastJump<span class="_ _f"></span>e<span class="_ _8"></span>dT<span class="_ _6"></span>o<span class="_ _c"> </span><span class="ff8">:=<span class="_ _7"> </span></span>he<span class="_ _8"></span>ad</span></div><div class="t m0 x160 h6 y818 ff23 fs5 fc0 sc0 ls0 ws0">7<span class="_ _56"> </span><span class="ff1b fs3">else</span></div><div class="t m0 x160 h6 y819 ff23 fs5 fc0 sc0 ls0 ws0">8<span class="_ _59"> </span><span class="ff13 fs3">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span></span>he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _10"></span><span class="ff6">;<span class="_ _57"> </span></span>stepp<span class="_ _f"></span>e<span class="_ _f"></span>dOver<span class="_ _12"> </span><span class="ff8">:=<span class="_ _7"> </span></span>stepp<span class="_ _f"></span>e<span class="_ _f"></span>dOver<span class="_ _a"> </span><span class="ff8">+<span class="_ _1c"> </span>1</span></span></div><div class="t m0 x160 h6 y81a ff23 fs5 fc0 sc0 ls0 ws0">9<span class="_ _56"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div><div class="t m0 x1a3 h6 y81b ff23 fs5 fc0 sc0 ls0 ws0">10<span class="_ _2c"> </span><span class="ff1b fs3">un<span class="_ _f"></span>til<span class="_ _7"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff6">is<span class="_ _a"> </span>PlainNode</span></span></span></div><div class="t m0 x1a3 h6 y81c ff23 fs5 fc0 sc0 ls0 ws0">11<span class="_ _2c"> </span><span class="ff13 fs3">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span></span>lastJump<span class="_ _f"></span>e<span class="_ _f"></span>dT<span class="_ _6"></span>o</span></div><div class="t m0 x1a3 h6 y81d ff23 fs5 fc0 sc0 ls0 ws0">12<span class="_ _2c"> </span><span class="ff1b fs3">while<span class="_ _a"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _10"></span><span class="ff7">.</span>key<span class="_ _a"> </span><span class="ff7">&lt;<span class="_ _9"> </span>x<span class="_ _13"> </span><span class="ff34">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Linear<span class="_ _9"> </span>search<span class="_ _5"> </span>from<span class="_ _5"> </span><span class="ff13">lastJump<span class="_ _8"></span>e<span class="_ _f"></span>dT<span class="_ _6"></span>o</span></span></span></span></span></span></div><div class="t m0 x1a3 h6 y81e ff23 fs5 fc0 sc0 ls0 ws0">13<span class="_ _56"> </span><span class="ff13 fs3">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span></span>he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _10"></span><span class="ff6">;<span class="_ _57"> </span></span>r<span class="_ _f"></span>ank<span class="_ _3"> </span><span class="ff8">:=<span class="_ _7"> </span></span>r<span class="_ _f"></span>ank<span class="_ _5"> </span><span class="ff8">+<span class="_ _11"> </span>1</span></span></div><div class="t m0 x1a3 h6 y81f ff23 fs5 fc0 sc0 ls0 ws0">14<span class="_ _2c"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>while</span></div><div class="t m0 x1a3 h6 y820 ff23 fs5 fc0 sc0 ls0 ws0">15<span class="_ _2c"> </span><span class="ff1b fs3">return<span class="_ _a"> </span><span class="ff8">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">,<span class="_ _15"> </span></span>r<span class="_ _8"></span>ank<span class="_ _14"></span><span class="ff8">)</span></span></span></span></div><div class="t m0 x0 h6 y821 ff2e fs3 fc0 sc0 ls0 ws0">Rebalance<span class="ff8">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span>m<span class="ff8">)</span></span></span></span></div><div class="t m0 x19 h45 y822 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Draws<span class="_ _5"> </span>jump<span class="_ _5"> </span>p<span class="_ _4"></span>ointers<span class="_ _5"> </span>in<span class="_ _5"> </span>for<span class="_ _5"> </span><span class="ff7">m<span class="_ _5"> </span></span>no<span class="_ _4"></span>des<span class="_ _5"> </span>starting<span class="_ _5"> </span>with<span class="_ _5"> </span><span class="ff13">he<span class="_ _8"></span>ad<span class="_ _7"> </span><span class="ff12">(inclusive)</span></span></span></div><div class="t m0 x19 h45 y823 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">according<span class="_ _9"> </span>to<span class="_ _a"> </span>the<span class="_ _5"> </span>randomized<span class="_ _5"> </span>jumplist<span class="_ _a"> </span>distribution.</span></div><div class="t m0 x19 h45 y824 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Returns<span class="_ _a"> </span>new<span class="_ _9"> </span>ﬁrst<span class="_ _a"> </span>(possibly<span class="_ _a"> </span>still<span class="_ _9"> </span><span class="ff13">he<span class="_ _8"></span>ad<span class="_ _14"></span><span class="ff12">)<span class="_ _a"> </span>and<span class="_ _9"> </span>last<span class="_ _a"> </span>node<span class="_ _a"> </span>of<span class="_ _9"> </span>the<span class="_ _a"> </span>sublist.</span></span></span></div><div class="t m0 x1a3 h6 y825 ff23 fs5 fc0 sc0 ls0 ws0">1<span class="_ _2c"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff7">m<span class="_ _5"> </span><span class="ff18">≤<span class="_ _9"> </span></span>w</span></span></div><div class="t m0 x1a3 h6 y826 ff23 fs5 fc0 sc0 ls0 ws0">2<span class="_ _56"> </span><span class="ff6 fs3">Replace<span class="_ _a"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff6">and<span class="_ _a"> </span>its<span class="_ _a"> </span><span class="ff7">m<span class="_ _1c"> </span><span class="ff18">−<span class="_ _1c"> </span><span class="ff8">1<span class="_ _a"> </span></span></span></span>successors<span class="_ _a"> </span>by<span class="_ _a"> </span><span class="ff7">m<span class="_ _a"> </span></span>link<span class="_ _f"></span>ed<span class="_ _a"> </span>PlainNo<span class="_ _4"></span>des.</span></span></span></div><div class="t m0 x1a3 h6 y827 ff23 fs5 fc0 sc0 ls0 ws0">3<span class="_ _56"> </span><span class="ff1b fs3">return<span class="_ _a"> </span><span class="ff8">(<span class="ff6">new<span class="_ _a"> </span>head<span class="ff7">,<span class="_ _b"> </span></span>new<span class="_ _a"> </span>end</span>)</span></span></div><div class="t m0 x1a3 h6 y828 ff23 fs5 fc0 sc0 ls0 ws0">4<span class="_ _2c"> </span><span class="ff1b fs3">else</span></div><div class="t m0 x1a3 h6 y829 ff23 fs5 fc0 sc0 ls0 ws0">5<span class="_ _56"> </span><span class="ff7 fs3">S<span class="_ _3"> </span><span class="ff8">:=<span class="_ _3"> </span><span class="ff6">random<span class="_ _a"> </span></span></span>k<span class="_ _4"></span><span class="ff6">-elemen<span class="_ _f"></span>t<span class="_ _a"> </span>subset<span class="_ _a"> </span>of<span class="_ _a"> </span><span class="ff8">[2<span class="ff7">..m<span class="_ _11"> </span><span class="ff18">−<span class="_ _1c"> </span></span></span>1]</span></span></span></div><div class="t m0 x1a3 h6 y82a ff23 fs5 fc0 sc0 ls0 ws0">6<span class="_ _56"> </span><span class="ff13 fs3">jumpIndex<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span><span class="ff2e">Median</span>(<span class="ff7">S<span class="_ _14"></span></span>)<span class="_ _57"> </span><span class="ff34">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff7 fs2">S</span></span></span></span></div><div class="t m0 x12b h1a y82b ff22 fs9 fc0 sc0 ls0 ws0">(<span class="ff2f">t</span></div><div class="t m0 x1b3 h28 y82c ff2c fse fc0 sc0 ls0 ws0">1</div><div class="t m0 xd9 h1a y82b ff22 fs9 fc0 sc0 ls0 ws0">+1)</div><div class="t m0 x1d4 h5 y82a ff12 fs2 fc0 sc0 ls0 ws0">in<span class="_ _5"> </span>general</div><div class="t m0 x1a3 h6 y82d ff23 fs5 fc0 sc0 ls0 ws0">7<span class="_ _56"> </span><span class="ff1b fs3">return<span class="_ _a"> </span><span class="ff2e">SetJumpAndRebalance<span class="ff8">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">,<span class="_ _15"> </span>m,<span class="_ _b"> </span></span>jumpIndex<span class="_ _10"></span><span class="ff8">)</span></span></span></span></span></div><div class="t m0 x1a3 h6 y82e ff23 fs5 fc0 sc0 ls0 ws0">8<span class="_ _2c"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
