<div id="pf1c" class="pf w0 h0" data-page-no="1c"><div class="pc pc1c w0 h0"><img class="bi x0 y82f w2 h46" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA34AAAIvCAIAAACk7p6lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAI50lEQVR42u3WsQ2AQAwEwQcRuv9OHTk4WiDhA5hpwNJJlnbNzAIAgPcdSawAAMAGpwkAAJCeAABITwAAkJ4AAEhPAACkJwAASE8AAKQnAABITwAApCcAANITAACkJwAA0hMAAKQnAADSEwAA6QkAANITAADpCQAA0hMAAOkJAID0BAAA6QkAgPQEAADpCQCA9AQAQHoCAID0BABAegIAgPQEAEB6AgAgPQEAQHoCACA9AQBAegIAID0BAJCeAAAgPQEAkJ4AACA9AQCQngAASE8AAJCeAABITwAAkJ4AAEhPAACkJwAASE8AAKQnAABITwAApCcAANITAACkJwAA0hMAAKQnAADSEwAA6QkAANITAADpCQAA0hMAAOkJAID0BAAA6QkAgPQEAADpCQCA9AQAQHoCAID0BABAegIAgPQEAEB6AgAgPQEAQHoCACA9AQBAegIAID0BAJCeAAAgPQEAkJ4AACA9AQCQngAASE8AAJCeAABITwAAkJ4AAEhPAACkJwAASE8AAKQnAABITwAApCcAANITAACkJwAA0hMAAKQnAADSEwAA6QkAANITAADpCQAA0hMAAOkJAID0BAAA6QkAgPQEAADpCQCA9AQAQHoCAID0BABAegIAgPQEAEB6AgAgPQEAQHoCACA9AQBAegIAID0BAJCeAAAgPQEAkJ4AACA9AQCQngAASE8AAJCeAABITwAAkJ4AAEhPAACkJwAASE8AAKQnAABITwAApCcAANITAACkJwAA0hMAAKQnAADSEwAA6QkAANITAADpCQAA0hMAAOkJAID0BAAA6QkAgPQEAADpCQCA9AQAQHoCAID0BABAegIAgPQEAEB6AgAgPQEAQHoCACA9AQBAegIAID0BAJCeAAAgPQEAkJ4AACA9AQCQngAASE8AAJCeAABITwAAkJ4AAEhPAACkJwAASE8AAKQnAABITwAApCcAANITAACkJwAA0hMAAKQnAADSEwAA6QkAANITAADpCQAA0hMAAOkJAID0BAAA6QkAgPQEAADpCQCA9AQAQHoCAID0BABAegIAgPQEAEB6AgAgPQEAQHoCACA9AQBAegIAID0BAJCeAAAgPQEAkJ4AACA9AQCQngAASE8AAJCeAABITwAAkJ4AAEhPAACkJwAASE8AAKQnAABITwAApCcAANITAACkJwAA0hMAAKQnAADSEwAA6QkAANITAADpCQAA0hMAAOkJAID0BAAA6QkAgPQEAADpCQCA9AQAQHoCAID0BABAegIAgPQEAEB6AgAgPQEAQHoCACA9AQBAegIAID0BAJCeAAAgPQEAkJ4AACA9AQCQngAASE8AAJCeAABITwAAkJ4AAEhPAACkJwAASE8AAKQnAABITwAApCcAANITAACkJwAA0hMAAKQnAADSEwAA6QkAANITAADpCQCA9DQBAADSEwAA6QkAANITAADpCQCA9AQAAOkJAID0BAAA6QkAgPQEAEB6AgCA9AQAQHoCAID0BABAegIAID0BAEB6AgAgPQEAQHoCACA9AQCQngAAID0BAJCeAAAgPQEAkJ4AAEhPAACQngAASE8AAJCeAABITwAApCcAAEhPAACkJwAASE8AAKQnAADSEwAApCcAANITAACkJwAA0hMAAOkJAADSEwAA6QkAANITAADpCQCA9AQAAOkJAID0BAAA6QkAgPQEAEB6AgCA9AQAQHoCAID0BABAegIAID0BAEB6AgAgPQEAQHoCACA9AQCQngAAID0BAJCeAAAgPQEAkJ4AAEhPAACQngAASE8AAJCeAABITwAApCcAAEhPAACkJwAASE8AAKQnAADSEwAApCcAANITAACkJwAA0hMAAOkJAADSEwAA6QkAANITAADpCQCA9AQAAOkJAID0BAAA6QkAgPQEAEB6AgCA9AQAQHoCAID0BABAegIAID0BAEB6AgAgPQEAQHoCACA9AQCQngAAID0BAJCeAAAgPQEAkJ4AAEhPAACQngAASE8AAJCeAABITwAApCcAAEhPAACkJwAASE8AAKQnAADSEwAApCcAANITAACkJwAA0hMAAOkJAADSEwAA6QkAANITAADpCQCA9AQAAOkJAID0BAAA6QkAgPQEAEB6AgCA9AQAQHoCAID0BABAegIAID0BAEB6AgAgPQEAQHoCACA9AQCQngAAID0BAJCeAAAgPQEAkJ4AAEhPAACQngAASE8AAJCeAABITwAApCcAAEhPAACkJwAASE8AAKQnAADSEwAApCcAANITAACkJwAA0hMAAOkJAADSEwAA6QkAANITAADpCQCA9AQAAOkJAID0BAAA6QkAgPQEAEB6AgCA9AQAQHoCAID0BABAegIAID0BAEB6AgAgPQEAQHoCACA9AQCQngAAID0BAJCeAAAgPQEAkJ4AAEhPAACQngAASE8AAJCeAABITwAApCcAAEhPAACkJwAASE8AAKQnAADSEwAApCcAANITAACkJwAA0hMAAOkJAADSEwAA6QkAANITAADpCQCA9AQAAOkJAID0BAAA6QkAgPQEAEB6AgCA9AQAQHoCAID0BABAegIAID0BAEB6AgAgPQEAQHoCACA9AQCQngAAID0BAJCeAAAgPQEAkJ4AAEhPAACQngAASE8AAJCeAABITwAApCcAAEhPAACkJwAASE8AAKQnAADSEwAApCcAANITAACkJwAA0hMAAOkJAADSEwAA6QkAANITAADpCQCA9AQAAOkJAID0BAAA6QkAgPQEAEB6AgCA9AQAQHoCAID0BABAegIAID0BAEB6AgAgPQEAkJ4mAABAegIAID0BAEB6AgAgPQEAkJ4AACA9AQCQngAAID0BAJCeAABITwAAkJ4AAEhPAACQngAASE8AAKQnAABITwAApCcAAEhPAACkJwAA0hMAAKQnAADSEwAApCcAANITAADpCQAA0hMAAOkJAADSEwAA6QkAgPQEAADpCQCA9AQAAOkJAID0BABAegIAgPQEAEB6AgCA9AQAQHoCAPBblwkAnujuqtp2LonN8SYe5HtuJwcWTNnrLoQAAAAASUVORK5CYII="/><div class="t m0 x0 h6 y2e ff6 fs3 fc0 sc0 ls0 ws0">28<span class="_ _39"> </span><span class="ffe">Median-of-<span class="ff7">k<span class="_ _7"> </span></span>Jumplists<span class="_ _a"> </span>and<span class="_ _a"> </span>Dangling-Min<span class="_ _a"> </span>BST<span class="_ _6"></span>s</span></div><div class="t m0 x0 h6 y62 ff2e fs3 fc0 sc0 ls0 ws0">SetJumpAndRebalance<span class="ff8">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span>m,<span class="_ _b"> </span>j<span class="_ _4"></span><span class="ff8">)</span></span></span></span></div><div class="t m0 x19 h45 y7e3 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Rebalances<span class="_ _a"> </span>the<span class="_ _9"> </span>sublist<span class="_ _a"> </span>sta<span class="_ _f"></span>rting<span class="_ _a"> </span>at<span class="_ _5"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _c"> </span><span class="ff12">containing<span class="_ _5"> </span><span class="ff7">m<span class="_ _5"> </span></span>no<span class="_ _4"></span>des,</span></span></span></div><div class="t m0 x19 h45 y7e4 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">where<span class="_ _a"> </span>w<span class="_ _f"></span>e<span class="_ _a"> </span>ﬁx<span class="_ _9"> </span>the<span class="_ _a"> </span>topmost<span class="_ _5"> </span>jump<span class="_ _5"> </span>p<span class="_ _4"></span>ointer<span class="_ _5"> </span>to<span class="_ _a"> </span>point<span class="_ _5"> </span>to<span class="_ _a"> </span>the<span class="_ _5"> </span>element<span class="_ _5"> </span>of<span class="_ _a"> </span>rank<span class="_ _9"> </span><span class="ff7">j<span class="_ _14"></span></span>.</span></div><div class="t m0 x19 h45 y7e5 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Returns<span class="_ _a"> </span>new<span class="_ _9"> </span>ﬁrst<span class="_ _a"> </span>(possibly<span class="_ _a"> </span>still<span class="_ _9"> </span><span class="ff13">he<span class="_ _8"></span>ad<span class="_ _14"></span><span class="ff12">)<span class="_ _a"> </span>and<span class="_ _9"> </span>last<span class="_ _a"> </span>node<span class="_ _a"> </span>of<span class="_ _9"> </span>the<span class="_ _a"> </span>sublist.</span></span></span></div><div class="t m0 x1a3 h6 y830 ff23 fs5 fc0 sc0 ls0 ws0">1<span class="_ _2c"> </span><span class="ff8 fs3">(<span class="ff13">nextStart<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span></span>nextEnd<span class="_ _14"></span></span>)<span class="_ _7"> </span>:=<span class="_ _c"> </span><span class="ff2e">Rebalance</span>(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _10"></span><span class="ff7">,<span class="_ _b"> </span>j<span class="_ _9"> </span><span class="ff18">−<span class="_ _1c"> </span><span class="ff8">1)</span></span></span></span></span></div><div class="t m0 x1a3 h6 y831 ff23 fs5 fc0 sc0 ls0 ws0">2<span class="_ _2c"> </span><span class="ff8 fs3">(<span class="ff13">jumpStart<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span></span>jumpEnd<span class="_ _14"></span></span>)<span class="_ _7"> </span>:=<span class="_ _c"> </span><span class="ff2e">Rebalance</span>(<span class="ff13">nextEnd<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _10"></span><span class="ff7">,<span class="_ _b"> </span>m<span class="_ _1c"> </span><span class="ff18">−<span class="_ _11"> </span></span>j<span class="_ _4"></span></span></span>)</span></div><div class="t m0 x1a3 h6 y832 ff23 fs5 fc0 sc0 ls0 ws0">3<span class="_ _2c"> </span><span class="ff13 fs3">nextEnd<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _12"> </span><span class="ff8">:=<span class="_ _7"> </span></span>jumpStart</span></div><div class="t m0 x1a3 h6 y833 ff23 fs5 fc0 sc0 ls0 ws0">4<span class="_ _2c"> </span><span class="ff1b fs3">return</span></div><div class="t m0 xb h15 y834 ff1c fs2 fc0 sc0 ls0 ws0"></div><div class="t m0 x117 h6 y833 ff1b fs3 fc0 sc0 ls0 ws0">new<span class="_ _a"> </span><span class="ff8">JumpNo<span class="_ _4"></span>de(<span class="ff13">he<span class="_ _6"></span>ad<span class="_ _10"></span><span class="ff7">.</span>key<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span></span>nextStart<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span></span>jumpStart<span class="_ _14"></span><span class="ff7">,<span class="_ _15"> </span>j<span class="_ _5"> </span><span class="ff18">−<span class="_ _11"> </span><span class="ff8">1)</span></span>,<span class="_ _15"> </span></span>jumpEnd</span></span></div><div class="t m0 x150 h15 y834 ff1c fs2 fc0 sc0 ls0 ws0"></div><div class="t m0 x0 h6 y835 ff2e fs3 fc0 sc0 ls0 ws0">RestoreAfterInser<span class="_ _6"></span>t<span class="ff8">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">,<span class="_ _b"> </span>m,<span class="_ _15"> </span>r<span class="_ _4"></span><span class="ff8">)</span></span></span></span></div><div class="t m0 x1b9 h45 y836 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Restore<span class="_ _5"> </span>distribution<span class="_ _5"> </span>in<span class="_ _5"> </span>sublist<span class="_ _a"> </span>with<span class="_ _5"> </span>header<span class="_ _5"> </span><span class="ff13">he<span class="_ _8"></span>ad<span class="_ _7"> </span><span class="ff12">and<span class="_ _a"> </span>of<span class="_ _9"> </span>size<span class="_ _a"> </span><span class="ff7">m<span class="_ _5"> </span></span>after<span class="_ _5"> </span>an<span class="_ _a"> </span>insertion<span class="_ _9"> </span>at<span class="_ _a"> </span>position<span class="_ _a"> </span><span class="ff7">r</span>.</span></span></span></div><div class="t m0 x1b9 h45 y837 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff7 fs2">m<span class="_ _a"> </span><span class="ff12">is<span class="_ _9"> </span>the<span class="_ _a"> </span>number<span class="_ _a"> </span>of<span class="_ _9"> </span>no<span class="_ _4"></span>des<span class="_ _5"> </span>in<span class="_ _a"> </span>the<span class="_ _5"> </span>sublist,<span class="_ _5"> </span>including<span class="_ _a"> </span>the<span class="_ _9"> </span>new<span class="_ _a"> </span>element</span></span></div><div class="t m0 x1b9 h45 y838 ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Returns<span class="_ _a"> </span>the<span class="_ _9"> </span>new<span class="_ _a"> </span>head<span class="_ _5"> </span>of<span class="_ _5"> </span>the<span class="_ _a"> </span>sublist<span class="_ _9"> </span>(p<span class="_ _4"></span>ossibly<span class="_ _5"> </span>still<span class="_ _a"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff12">).</span></span></span></div><div class="t m0 x160 h6 y839 ff23 fs5 fc0 sc0 ls0 ws0">1<span class="_ _2c"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff7">m<span class="_ _5"> </span><span class="ff18">≤<span class="_ _9"> </span></span>w<span class="_ _11"> </span><span class="ff8">+<span class="_ _11"> </span>1<span class="_ _d"> </span><span class="ff34">/<span class="_ _58"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Base<span class="_ _5"> </span>case</span></span></span></span></span></div><div class="t m0 x160 h6 y83a ff23 fs5 fc0 sc0 ls0 ws0">2<span class="_ _56"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff7">m</span></span></div><div class="t m2b x194 h6 y83a ff8 fs3 fc0 sc0 ls0 ws0">=<span class="_ _34"></span>=</div><div class="t m0 x198 h6 y83a ff7 fs3 fc0 sc0 ls0 ws0">w<span class="_ _11"> </span><span class="ff8">+<span class="_ _11"> </span>1<span class="_ _d"> </span><span class="ff34">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">We<span class="_ _5"> </span>need<span class="_ _5"> </span>a<span class="_ _a"> </span>new<span class="_ _9"> </span>JumpNo<span class="_ _4"></span>de,<span class="_ _5"> </span>so<span class="_ _a"> </span>rebalance.</span></span></span></div><div class="t m0 x160 h6 y83b ff23 fs5 fc0 sc0 ls0 ws0">3<span class="_ _59"> </span><span class="ff8 fs3">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span></span>end<span class="_ _14"></span><span class="ff8">)<span class="_ _c"> </span>:=<span class="_ _7"> </span><span class="ff2e">Rebalance</span>(</span>he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">,<span class="_ _b"> </span>m<span class="ff8">)</span></span></span></span></div><div class="t m0 x160 h6 y83c ff23 fs5 fc0 sc0 ls0 ws0">4<span class="_ _56"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div><div class="t m0 x160 h6 y83d ff23 fs5 fc0 sc0 ls0 ws0">5<span class="_ _2c"> </span><span class="ff1b fs3">else</span></div><div class="t m0 x160 h6 y83e ff23 fs5 fc0 sc0 ls0 ws0">6<span class="_ _56"> </span><span class="ff13 fs3">newElementInSample<span class="_ _c"> </span><span class="ff8">:=<span class="_ _c"> </span><span class="ff2e">CoinFlip</span></span></span></div><div class="t m0 x91 h15 y83f ff1c fs2 fc0 sc0 ls0 ws0"></div><div class="t m0 x9a h12 y840 ff15 fs8 fc0 sc0 ls0 ws0">k</div><div class="t m0 x149 h12 y841 ff15 fs8 fc0 sc0 ls0 ws0">m<span class="ff1a">−<span class="ff19">2</span></span></div><div class="t m0 x17f h15 y83f ff1c fs2 fc0 sc0 ls0 ws0"></div><div class="t m0 x34 h45 y83e ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff13 fs2">true<span class="_ _a"> </span><span class="ff12">with<span class="_ _a"> </span>p<span class="_ _f"></span>robability</span></span></div><div class="t m0 xe8 h3b y842 ff2f fs9 fc0 sc0 ls0 ws0">k</div><div class="t m0 xcd h1a y843 ff2f fs9 fc0 sc0 ls0 ws0">m<span class="ff21">−<span class="ff22">2</span></span></div><div class="t m0 x160 h6 y844 ff23 fs5 fc0 sc0 ls0 ws0">7<span class="_ _56"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff13">newElementInSample<span class="_ _e"> </span><span class="ff34">/<span class="_ _58"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Rebalance<span class="_ _5"> </span>conditional<span class="_ _a"> </span>on<span class="_ _9"> </span>new<span class="_ _a"> </span>index<span class="_ _5"> </span>b<span class="_ _4"></span>eing<span class="_ _5"> </span>in<span class="_ _5"> </span>sample.</span></span></span></span></div><div class="t m0 x160 h6 y845 ff23 fs5 fc0 sc0 ls0 ws0">8<span class="_ _59"> </span><span class="ff13 fs3">newIndex<span class="_ _12"> </span><span class="ff8">:=<span class="_ _7"> </span>max<span class="ff18">{<span class="ff7">r,<span class="_ _15"> </span></span></span>2<span class="ff18">}</span></span></span></div><div class="t m0 x160 h6 y846 ff23 fs5 fc0 sc0 ls0 ws0">9<span class="_ _59"> </span><span class="ff7 fs3">S<span class="_ _3"> </span><span class="ff8">:=<span class="_ _3"> </span><span class="ff6">random<span class="_ _a"> </span></span>(</span>k<span class="_ _11"> </span><span class="ff18">−<span class="_ _11"> </span><span class="ff8">1)<span class="ff6">-elemen<span class="_ _f"></span>t<span class="_ _a"> </span>subset<span class="_ _a"> </span>of<span class="_ _a"> </span><span class="ff8">[2<span class="ff7">..m<span class="_ _11"> </span><span class="ff18">−<span class="_ _1c"> </span></span></span>1]<span class="_ _11"> </span><span class="ff18">\<span class="_ _1c"> </span>{<span class="ff13">newIndex<span class="_ _10"></span></span>}</span></span></span></span></span></span></div><div class="t m0 x1a3 h6 y847 ff23 fs5 fc0 sc0 ls0 ws0">10<span class="_ _59"> </span><span class="ff13 fs3">jumpIndex<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span><span class="ff2e">Median</span>(</span>newIndex<span class="_ _5"> </span><span class="ff18">∪<span class="_ _11"> </span><span class="ff7">S<span class="_ _4"></span><span class="ff8">)<span class="_ _57"> </span><span class="ff34">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff7 fs2">S</span></span></span></span></span></span></div><div class="t m0 xe0 h1a y848 ff22 fs9 fc0 sc0 ls0 ws0">(<span class="ff2f">t</span></div><div class="t m0 xa8 h28 y849 ff2c fse fc0 sc0 ls0 ws0">1</div><div class="t m0 x79 h1a y848 ff22 fs9 fc0 sc0 ls0 ws0">+1)</div><div class="t m0 x1ee h5 y847 ff12 fs2 fc0 sc0 ls0 ws0">in<span class="_ _5"> </span>general</div><div class="t m0 x1a3 h6 y84a ff23 fs5 fc0 sc0 ls0 ws0">11<span class="_ _59"> </span><span class="ff8 fs3">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span></span>end<span class="_ _14"></span><span class="ff8">)<span class="_ _c"> </span>:=<span class="_ _7"> </span><span class="ff2e">SetJumpAndRebalance</span>(</span>he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">,<span class="_ _b"> </span>m,<span class="_ _15"> </span></span>jumpIndex<span class="_ _10"></span><span class="ff8">)</span></span></span></div><div class="t m0 x1a3 h6 y84b ff23 fs5 fc0 sc0 ls0 ws0">12<span class="_ _56"> </span><span class="ff1b fs3">else<span class="_ _d"> </span><span class="ff34">/<span class="_ _58"></span>/<span class="_ _a"> </span><span class="ff12 fs2">topmost<span class="_ _5"> </span>jump<span class="_ _5"> </span>p<span class="_ _4"></span>ointer<span class="_ _5"> </span>can<span class="_ _a"> </span>be<span class="_ _a"> </span>k<span class="_ _f"></span>ept</span></span></span></div><div class="t m0 x1a3 h6 y84c ff23 fs5 fc0 sc0 ls0 ws0">13<span class="_ _59"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff7">r</span></span></div><div class="t m2b x15e h6 y84c ff8 fs3 fc0 sc0 ls0 ws0">=<span class="_ _34"></span>=</div><div class="t m0 x1a h6 y84c ff8 fs3 fc0 sc0 ls0 ws0">0<span class="_ _d"> </span><span class="ff34">/<span class="_ _58"></span>/<span class="_ _a"> </span><span class="ff12 fs2">new<span class="_ _5"> </span>no<span class="_ _4"></span>de<span class="_ _5"> </span>is<span class="_ _a"> </span>head<span class="_ _9"> </span>of<span class="_ _a"> </span>sublist,<span class="_ _5"> </span>so<span class="_ _5"> </span>steal<span class="_ _a"> </span>successo<span class="_ _f"></span>r’s<span class="_ _a"> </span>jump.</span></span></div><div class="t m0 x60 h45 y84d ff34 fs3 fc0 sc0 ls0 ws0">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Swap<span class="_ _9"> </span>roles<span class="_ _a"> </span>of<span class="_ _5"> </span>the<span class="_ _5"> </span>tw<span class="_ _f"></span>o<span class="_ _a"> </span>nodes.</span></div><div class="t m0 x1a3 h6 y84e ff23 fs5 fc0 sc0 ls0 ws0">14<span class="_ _5a"> </span><span class="ff13 fs3">suc<span class="_ _f"></span>c<span class="_ _c"> </span><span class="ff8">:=<span class="_ _c"> </span></span>he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>next</span></div><div class="t m0 x1a3 h6 y84f ff23 fs5 fc0 sc0 ls0 ws0">15<span class="_ _5a"> </span><span class="ff6 fs3">Sw<span class="_ _8"></span>ap<span class="_ _a"> </span><span class="ff13">key<span class="_ _c"> </span></span>and<span class="_ _a"> </span><span class="ff13">next<span class="_ _c"> </span></span>ﬁelds<span class="_ _a"> </span>of<span class="_ _a"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff6">and<span class="_ _a"> </span></span>suc<span class="_ _f"></span>c<span class="_ _4"></span><span class="ff6">.</span></span></span></div><div class="t m0 x1a3 h6 y850 ff23 fs5 fc0 sc0 ls0 ws0">16<span class="_ _5a"> </span><span class="ff13 fs3">he<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span></span>suc<span class="_ _f"></span>c</span></div><div class="t m0 x1a3 h6 y851 ff23 fs5 fc0 sc0 ls0 ws0">17<span class="_ _59"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div><div class="t m0 x1a3 h6 y852 ff23 fs5 fc0 sc0 ls0 ws0">18<span class="_ _59"> </span><span class="ff7 fs3">J</span></div><div class="t m0 x166 h12 y853 ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x173 h6 y852 ff8 fs3 fc0 sc0 ls0 ws0">:=<span class="_ _7"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">.</span>nsize</span></div><div class="t m0 x1a3 h6 y854 ff23 fs5 fc0 sc0 ls0 ws0">19<span class="_ _59"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff7">r<span class="_ _a"> </span><span class="ff18">≤<span class="_ _9"> </span></span>J</span></span></div><div class="t m0 x1a h12 y68b ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x1a5 h6 y854 ff8 fs3 fc0 sc0 ls0 ws0">+<span class="_ _1c"> </span>1<span class="_ _13"> </span><span class="ff34">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">New<span class="_ _a"> </span>element<span class="_ _5"> </span>is<span class="_ _5"> </span>in<span class="_ _a"> </span>next-sublist.</span></span></div><div class="t m0 x1a3 h6 y855 ff23 fs5 fc0 sc0 ls0 ws0">20<span class="_ _5a"> </span><span class="ff7 fs3">J</span></div><div class="t m0 x2e h12 y856 ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x1a h6 y855 ff8 fs3 fc0 sc0 ls0 ws0">:=<span class="_ _7"> </span><span class="ff7">J</span></div><div class="t m0 x152 h12 y856 ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 xed h6 y855 ff8 fs3 fc0 sc0 ls0 ws0">+<span class="_ _1c"> </span>1<span class="ff6">;<span class="_ _57"> </span><span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">.</span>nsize<span class="_ _c"> </span><span class="ff8">:=<span class="_ _c"> </span><span class="ff7">J</span></span></span></span></div><div class="t m0 x17f h12 y856 ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x1a3 h6 y857 ff23 fs5 fc0 sc0 ls0 ws0">21<span class="_ _5a"> </span><span class="ff13 fs3">suc<span class="_ _f"></span>c<span class="_ _c"> </span><span class="ff8">:=<span class="_ _c"> </span><span class="ff2e">RestoreAfterInser<span class="_ _6"></span>t<span class="ff8">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">.</span>next<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span>J</span></span></span></span></span></span></div><div class="t m0 x15 h12 y858 ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x17b h6 y857 ff7 fs3 fc0 sc0 ls0 ws0">,<span class="_ _15"> </span><span class="ff8">max<span class="_ _4"></span><span class="ff18">{</span>0</span>,<span class="_ _b"> </span>r<span class="_ _11"> </span><span class="ff18">−<span class="_ _1c"> </span><span class="ff8">1</span>}<span class="ff8">)</span></span></div><div class="t m0 x1a3 h6 y859 ff23 fs5 fc0 sc0 ls0 ws0">22<span class="_ _5a"> </span><span class="ff13 fs3">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _12"> </span><span class="ff8">:=<span class="_ _7"> </span></span>suc<span class="_ _f"></span>c</span></div><div class="t m0 x1a3 h6 y85a ff23 fs5 fc0 sc0 ls0 ws0">23<span class="_ _59"> </span><span class="ff1b fs3">else<span class="_ _d"> </span><span class="ff34">/<span class="_ _58"></span>/<span class="_ _a"> </span><span class="ff12 fs2">New<span class="_ _5"> </span>element<span class="_ _5"> </span>is<span class="_ _a"> </span>in<span class="_ _5"> </span>jump-sublist.</span></span></span></div><div class="t m0 x1a3 h6 y85b ff23 fs5 fc0 sc0 ls0 ws0">24<span class="_ _5a"> </span><span class="ff7 fs3">J</span></div><div class="t m0 x2e h12 y85c ff19 fs8 fc0 sc0 ls0 ws0">2</div><div class="t m0 x1a h6 y85b ff8 fs3 fc0 sc0 ls0 ws0">:=<span class="_ _7"> </span><span class="ff7">m<span class="_ _11"> </span><span class="ff18">−<span class="_ _1c"> </span></span></span>1<span class="_ _11"> </span><span class="ff18">−<span class="_ _1c"> </span><span class="ff7">J</span></span></div><div class="t m0 x4b h12 y85c ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x1a3 h6 y85d ff23 fs5 fc0 sc0 ls0 ws0">25<span class="_ _5a"> </span><span class="ff13 fs3">jumpHe<span class="_ _f"></span>ad<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span><span class="ff2e">RestoreAfterInser<span class="_ _6"></span>t<span class="ff8">(<span class="ff13">he<span class="_ _f"></span>ad<span class="_ _10"></span><span class="ff7">.</span>jump<span class="_ _4"></span><span class="ff7">,<span class="_ _b"> </span>J</span></span></span></span></span></span></div><div class="t m0 x1df h12 y85e ff19 fs8 fc0 sc0 ls0 ws0">2</div><div class="t m0 x44 h6 y85d ff7 fs3 fc0 sc0 ls0 ws0">,<span class="_ _b"> </span>r<span class="_ _11"> </span><span class="ff18">−<span class="_ _1c"> </span><span class="ff8">1<span class="_ _11"> </span></span>−<span class="_ _1c"> </span></span>J</div><div class="t m0 x100 h12 y85e ff19 fs8 fc0 sc0 ls0 ws0">1</div><div class="t m0 x69 h6 y85d ff8 fs3 fc0 sc0 ls0 ws0">)</div><div class="t m0 x1a3 h6 y85f ff23 fs5 fc0 sc0 ls0 ws0">26<span class="_ _5a"> </span><span class="ff1b fs3">if<span class="_ _3"> </span><span class="ff13">jumpHe<span class="_ _f"></span>ad<span class="_ _7"> </span><span class="ff18">6<span class="ff8">=<span class="_ _5"> </span></span></span>he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>jump<span class="_ _e"> </span><span class="ff34">/<span class="_ _2"></span>/<span class="_ _a"> </span><span class="ff12 fs2">Have<span class="_ _a"> </span>to<span class="_ _5"> </span>reconnect<span class="_ _5"> </span>backb<span class="_ _4"></span>one</span></span></span></span></div><div class="t m0 x1a3 h6 y860 ff23 fs5 fc0 sc0 ls0 ws0">27<span class="_ _5b"> </span><span class="ff13 fs3">he<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>jump<span class="_ _3"> </span><span class="ff8">:=<span class="_ _a"> </span></span>jumpHe<span class="_ _8"></span>ad</span></div><div class="t m0 x1a3 h6 y861 ff23 fs5 fc0 sc0 ls0 ws0">28<span class="_ _5b"> </span><span class="ff8 fs3">(<span class="ff13">lastInNext<span class="_ _14"></span><span class="ff7">,<span class="_ _b"> </span>rr<span class="_ _4"></span></span></span>)<span class="_ _c"> </span>:=<span class="_ _7"> </span><span class="ff2e">SpineSearch</span>(<span class="ff13">he<span class="_ _6"></span>ad<span class="_ _10"></span><span class="ff7">,<span class="_ _b"> </span></span>jumpHe<span class="_ _f"></span>ad<span class="_ _14"></span><span class="ff7">.</span>key<span class="_ _14"></span><span class="ff8">)</span></span></span></div><div class="t m0 x1a3 h6 y862 ff23 fs5 fc0 sc0 ls0 ws0">29<span class="_ _5b"> </span><span class="ff13 fs3">lastInNext<span class="_ _14"></span><span class="ff7">.</span>next<span class="_ _3"> </span><span class="ff8">:=<span class="_ _c"> </span></span>jumpHe<span class="_ _f"></span>ad</span></div><div class="t m0 x1a3 h6 y863 ff23 fs5 fc0 sc0 ls0 ws0">30<span class="_ _5a"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div><div class="t m0 x1a3 h6 y864 ff23 fs5 fc0 sc0 ls0 ws0">31<span class="_ _59"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div><div class="t m0 x1a3 h6 y865 ff23 fs5 fc0 sc0 ls0 ws0">32<span class="_ _56"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div><div class="t m0 x1a3 h6 y866 ff23 fs5 fc0 sc0 ls0 ws0">33<span class="_ _2c"> </span><span class="ff1b fs3">end<span class="_ _c"> </span>if</span></div><div class="t m0 x1a3 h6 y867 ff23 fs5 fc0 sc0 ls0 ws0">34<span class="_ _2c"> </span><span class="ff1b fs3">return<span class="_ _a"> </span><span class="ff13">he<span class="_ _f"></span>ad</span></span></div></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
