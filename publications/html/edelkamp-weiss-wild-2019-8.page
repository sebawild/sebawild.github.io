<div id="pf8" class="pf w0 h0" data-page-no="8"><div class="pc pc8 w0 h0"><img class="bi x0 y13b w2 h1" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA2IAAAABCAIAAAAzRYqsAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAGUlEQVRIx+3BgQAAAADDoPlTH+AKVQEAwBkKJwABO2b+PQAAAABJRU5ErkJggg=="/><div class="t m0 x0 h5 y2b ff5 fs2 fc0 sc0 ls0 ws0">8<span class="_ _1f"> </span><span class="ffd">Quic<span class="_ _9"></span>kXsort<span class="_ _7"> </span>–<span class="_ _7"> </span>A<span class="_ _7"> </span>F<span class="_ _e"></span>ast<span class="_ _8"> </span>Sorting<span class="_ _7"> </span>Scheme<span class="_ _a"> </span>in<span class="_ _8"> </span>Theory<span class="_ _7"> </span>and<span class="_ _7"> </span>Practice</span></div><div class="t m1 x0 h5 y2c ff5 fs2 fc0 sc0 ls0 ws0">ha<span class="_ _9"></span>v<span class="_ _9"></span>e<span class="_ _7"> </span>reac<span class="_ _9"></span>hed<span class="_ _7"> </span>its<span class="_ _7"> </span>ﬁnal<span class="_ _7"> </span>p<span class="_ _5"></span>osition),<span class="_ _7"> </span>so</div><div class="t m0 x10a h5 y2c ff6 fs2 fc0 sc0 ls0 ws0">J</div><div class="t m0 x10b h9 y13c ff1b fs4 fc0 sc0 ls0 ws0">1</div><div class="t m1 x37 h5 y2c ff7 fs2 fc0 sc0 ls0 ws0">+</div><div class="t m0 x10c h5 y2c ff6 fs2 fc0 sc0 ls0 ws0">J</div><div class="t m0 x109 h9 y13c ff1b fs4 fc0 sc0 ls0 ws0">2</div><div class="t m1 x9b h5 y2c ff7 fs2 fc0 sc0 ls0 ws0">=</div><div class="t m0 xc h5 y2c ff6 fs2 fc0 sc0 ls0 ws0">n<span class="_ _45"> </span><span class="ff8">−</span></div><div class="t m1 x10d h5 y2c ff7 fs2 fc0 sc0 ls0 ws0">1<span class="ff5">.<span class="_ _2"> </span>Note<span class="_ _8"> </span>that<span class="_ _7"> </span>the<span class="_ _7"> </span>(one-based)<span class="_ _7"> </span>rank</span></div><div class="t m0 x8a h5 y2c ff6 fs2 fc0 sc0 ls0 ws0">R</div><div class="t m1 x96 h5 y2c ff5 fs2 fc0 sc0 ls0 ws0">of<span class="_ _7"> </span>the</div><div class="t m0 x0 h5 y68 ff5 fs2 fc0 sc0 ls0 ws0">piv<span class="_ _9"></span>ot<span class="_ _7"> </span>is<span class="_ _7"> </span>random,<span class="_ _7"> </span>and<span class="_ _8"> </span>so<span class="_ _7"> </span>are<span class="_ _7"> </span>the<span class="_ _8"> </span>segmen<span class="_ _9"></span>t<span class="_ _7"> </span>sizes<span class="_ _7"> </span><span class="ff6">J</span></div><div class="t m0 x10e h9 y13d ff1b fs4 fc0 sc0 ls0 ws0">1</div><div class="t m0 xcd h5 y68 ff5 fs2 fc0 sc0 ls0 ws0">and<span class="_ _7"> </span><span class="ff6">J</span></div><div class="t m0 x31 h9 y13d ff1b fs4 fc0 sc0 ls0 ws0">2</div><div class="t m0 x1d h5 y68 ff5 fs2 fc0 sc0 ls0 ws0">;<span class="_ _7"> </span>we<span class="_ _a"> </span>hav<span class="_ _0"></span>e<span class="_ _7"> </span><span class="ff6">R<span class="_ _a"> </span><span class="ff7">=<span class="_ _1b"> </span></span>J</span></div><div class="t m0 x10f h9 y13d ff1b fs4 fc0 sc0 ls0 ws0">1</div><div class="t m0 x110 h5 y68 ff7 fs2 fc0 sc0 ls0 ws0">+<span class="_ _10"> </span>1<span class="ff5">.</span></div><div class="t m3 x43 h5 y13e ff5 fs2 fc0 sc0 ls0 ws0">W<span class="_ _e"></span>e<span class="_ _8"> </span>then<span class="_ _c"> </span>sort<span class="_ _c"> </span>one<span class="_ _8"> </span>segment<span class="_ _8"> </span>b<span class="_ _9"></span>y<span class="_ _8"> </span>X<span class="_ _c"> </span><span class="ffe">using<span class="_ _c"> </span>the<span class="_ _c"> </span>other<span class="_ _c"> </span>se<span class="_ _9"></span>gment<span class="_ _c"> </span>as<span class="_ _c"> </span>a<span class="_ _c"> </span>buﬀer.<span class="_ _d"> </span><span class="ff5">T<span class="_ _e"></span>o<span class="_ _c"> </span>guaran<span class="_ _0"></span>tee<span class="_ _c"> </span>a</span></span></div><div class="t m3 x0 h5 y13f ff5 fs2 fc0 sc0 ls0 ws0">suﬃcien<span class="_ _9"></span>tly<span class="_ _7"> </span>large<span class="_ _8"> </span>buﬀer<span class="_ _7"> </span>for<span class="_ _8"> </span>X<span class="_ _8"> </span>when<span class="_ _7"> </span>it<span class="_ _8"> </span>sorts</div><div class="t m0 xc h5 y13f ff6 fs2 fc0 sc0 ls0 ws0">J</div><div class="t m0 xc7 h9 y140 ff1d fs4 fc0 sc0 ls0 ws0">r</div><div class="t m3 x111 h5 y13f ff5 fs2 fc0 sc0 ls0 ws0">(</div><div class="t m0 xb5 h5 y13f ff6 fs2 fc0 sc0 ls0 ws0">r</div><div class="t m3 x112 h5 y13f ff7 fs2 fc0 sc0 ls0 ws0">=<span class="_ _1b"> </span>1<span class="_ _8"> </span><span class="ff5">or<span class="_ _8"> </span></span>2<span class="ff5">),<span class="_ _7"> </span>we<span class="_ _7"> </span>must<span class="_ _a"> </span>make<span class="_ _7"> </span>sure<span class="_ _7"> </span>that</span></div><div class="t m0 x113 h5 y13f ff6 fs2 fc0 sc0 ls0 ws0">J</div><div class="t m0 x71 h9 y140 ff1b fs4 fc0 sc0 ls0 ws0">3<span class="ff1e">−<span class="ff1d">r</span></span></div><div class="t m10 x46 h5 y141 ff5 fs2 fc0 sc0 ls0 ws0">(the<span class="_ _7"> </span>other<span class="_ _7"> </span>segment<span class="_ _a"> </span>size)<span class="_ _7"> </span>satisﬁes</div><div class="t m0 x45 h5 y141 ff6 fs2 fc0 sc0 ls0 ws0">J</div><div class="t m0 x104 h9 y142 ff1b fs4 fc0 sc0 ls0 ws0">3<span class="ff1e">−<span class="ff1d">r</span></span></div><div class="t m0 xb3 h5 y141 ff8 fs2 fc0 sc0 ls0 ws0">≥<span class="_ _1b"> </span><span class="ff6">αJ</span></div><div class="t m0 x114 h9 y142 ff1d fs4 fc0 sc0 ls0 ws0">r</div><div class="t m10 x105 h5 y141 ff5 fs2 fc0 sc0 ls0 ws0">.<span class="_ _2"> </span>In<span class="_ _7"> </span>case<span class="_ _7"> </span>b<span class="_ _5"></span>oth<span class="_ _7"> </span>segments<span class="_ _a"> </span>could<span class="_ _8"> </span>b<span class="_ _5"></span>e<span class="_ _a"> </span>sorted<span class="_ _8"> </span>b<span class="_ _9"></span>y<span class="_ _7"> </span>X,</div><div class="t m5 x46 h5 y143 ff5 fs2 fc0 sc0 ls0 ws0">w<span class="_ _9"></span>e<span class="_ _7"> </span>use<span class="_ _7"> </span>the<span class="_ _7"> </span>larger<span class="_ _8"> </span>of<span class="_ _7"> </span>the<span class="_ _7"> </span>tw<span class="_ _0"></span>o.<span class="_ _b"> </span>After<span class="_ _7"> </span>one<span class="_ _7"> </span>part<span class="_ _7"> </span>of<span class="_ _7"> </span>the<span class="_ _8"> </span>arra<span class="_ _9"></span>y<span class="_ _7"> </span>has<span class="_ _7"> </span>b<span class="_ _5"></span>een<span class="_ _7"> </span>sorted<span class="_ _7"> </span>with<span class="_ _8"> </span>X,<span class="_ _7"> </span>we<span class="_ _a"> </span>mov<span class="_ _0"></span>e</div><div class="t m3 x0 h5 y144 ff5 fs2 fc0 sc0 ls0 ws0">the<span class="_ _8"> </span>pivot<span class="_ _8"> </span>elemen<span class="_ _9"></span>t<span class="_ _8"> </span>to<span class="_ _c"> </span>its<span class="_ _8"> </span>correct<span class="_ _c"> </span>position<span class="_ _c"> </span>(righ<span class="_ _9"></span>t<span class="_ _8"> </span>after/b<span class="_ _5"></span>efore<span class="_ _8"> </span>the<span class="_ _c"> </span>already<span class="_ _8"> </span>sorted<span class="_ _c"> </span>part)<span class="_ _8"> </span>and</div><div class="t m0 x0 h5 y145 ff5 fs2 fc0 sc0 ls0 ws0">recurse<span class="_ _7"> </span>on<span class="_ _7"> </span>the<span class="_ _7"> </span>other<span class="_ _8"> </span>segmen<span class="_ _9"></span>t<span class="_ _7"> </span>of<span class="_ _7"> </span>the<span class="_ _8"> </span>arra<span class="_ _9"></span>y<span class="_ _e"></span>.<span class="_ _2"> </span>The<span class="_ _8"> </span>pro<span class="_ _5"></span>cess<span class="_ _7"> </span>is<span class="_ _7"> </span>illustrated<span class="_ _7"> </span>in<span class="_ _8"> </span>Figure<span class="_ _7"> </span>1.</div><div class="t m26 x43 h5 y146 ff5 fs2 fc0 sc0 ls0 ws0">The<span class="_ _7"> </span>main<span class="_ _7"> </span>adv<span class="_ _9"></span>an<span class="_ _9"></span>tage<span class="_ _7"> </span>of<span class="_ _7"> </span>this<span class="_ _8"> </span>pro<span class="_ _5"></span>cedure<span class="_ _7"> </span>is<span class="_ _7"> </span>that<span class="_ _7"> </span>the<span class="_ _8"> </span>part<span class="_ _7"> </span>of<span class="_ _8"> </span>the<span class="_ _7"> </span>array<span class="_ _7"> </span>that<span class="_ _7"> </span>is<span class="_ _7"> </span>not<span class="_ _8"> </span>currently</div><div class="t m24 x0 h5 y147 ff5 fs2 fc0 sc0 ls0 ws0">b<span class="_ _5"></span>eing<span class="_ _7"> </span>sorted<span class="_ _7"> </span>can<span class="_ _8"> </span>b<span class="_ _5"></span>e<span class="_ _7"> </span>used<span class="_ _8"> </span>as<span class="_ _7"> </span>temp<span class="_ _5"></span>orary<span class="_ _7"> </span>buﬀer<span class="_ _8"> </span>area<span class="_ _8"> </span>for<span class="_ _7"> </span>algorithm<span class="_ _8"> </span>X.<span class="_ _7"> </span>This<span class="_ _8"> </span>yields<span class="_ _7"> </span>fast<span class="_ _8"> </span><span class="ffe">internal</span></div><div class="t m3 x46 h5 y148 ff5 fs2 fc0 sc0 ls0 ws0">v<span class="_ _0"></span>arian<span class="_ _9"></span>ts<span class="_ _c"> </span>for<span class="_ _c"> </span>v<span class="_ _0"></span>arious<span class="_ _c"> </span><span class="ffe">external<span class="_ _b"> </span></span>sorting<span class="_ _c"> </span>algorithms<span class="_ _c"> </span>such<span class="_ _c"> </span>as<span class="_ _c"> </span><span class="ff4">Mer<span class="_ _9"></span>gesor<span class="_ _e"></span>t<span class="ff5">.<span class="_ _12"> </span>W<span class="_ _e"></span>e<span class="_ _c"> </span>ha<span class="_ _9"></span>v<span class="_ _9"></span>e<span class="_ _c"> </span>to<span class="_ _c"> </span>make</span></span></div><div class="t m1e x0 h5 y149 ff5 fs2 fc0 sc0 ls0 ws0">sure,<span class="_ _7"> </span>how<span class="_ _0"></span>ever,<span class="_ _a"> </span>that<span class="_ _8"> </span>the<span class="_ _7"> </span>conten<span class="_ _0"></span>ts<span class="_ _7"> </span>of<span class="_ _8"> </span>the<span class="_ _7"> </span>buﬀer<span class="_ _8"> </span>is<span class="_ _7"> </span>not<span class="_ _7"> </span>lost.<span class="_ _b"> </span>A<span class="_ _7"> </span>simple<span class="_ _7"> </span>suﬃcient<span class="_ _a"> </span>condition<span class="_ _8"> </span>is<span class="_ _7"> </span>to</div><div class="t m28 x0 h5 y14a ff5 fs2 fc0 sc0 ls0 ws0">require<span class="_ _7"> </span>that<span class="_ _8"> </span>X<span class="_ _7"> </span>maintains<span class="_ _7"> </span>a<span class="_ _7"> </span>p<span class="_ _5"></span>ermutation<span class="_ _a"> </span>of<span class="_ _8"> </span>the<span class="_ _7"> </span>elements<span class="_ _7"> </span>in<span class="_ _7"> </span>the<span class="_ _8"> </span>input<span class="_ _8"> </span>and<span class="_ _7"> </span>buﬀer:<span class="_ _b"> </span>whenev<span class="_ _9"></span>er<span class="_ _7"> </span>a</div><div class="t m0 x0 h5 y14b ff5 fs2 fc0 sc0 ls0 ws0">data<span class="_ _7"> </span>element<span class="_ _a"> </span>should<span class="_ _7"> </span>b<span class="_ _5"></span>e<span class="_ _7"> </span>mov<span class="_ _0"></span>ed<span class="_ _8"> </span>to<span class="_ _7"> </span>the<span class="_ _7"> </span>external<span class="_ _8"> </span>storage,<span class="_ _7"> </span>it<span class="_ _7"> </span>is<span class="_ _8"> </span><span class="ffe">swapp<span class="_ _0"></span>e<span class="_ _0"></span>d<span class="_ _2"> </span><span class="ff5">with<span class="_ _7"> </span>the<span class="_ _7"> </span>data<span class="_ _7"> </span>element</span></span></div><div class="t m8 x0 h5 y14c ff5 fs2 fc0 sc0 ls0 ws0">o<span class="_ _5"></span>ccup<span class="_ _9"></span>ying<span class="_ _7"> </span>that<span class="_ _7"> </span>resp<span class="_ _5"></span>ectiv<span class="_ _9"></span>e<span class="_ _7"> </span>p<span class="_ _5"></span>osition<span class="_ _7"> </span>in<span class="_ _7"> </span>the<span class="_ _7"> </span>buﬀer<span class="_ _7"> </span>area.<span class="_ _b"> </span>F<span class="_ _4"></span>or<span class="_ _8"> </span><span class="ff4">Mergesor<span class="_ _4"></span>t<span class="ff5">,<span class="_ _8"> </span>using<span class="_ _7"> </span>swaps<span class="_ _a"> </span>in<span class="_ _7"> </span>the</span></span></div><div class="t m0 x0 h5 y14d ff5 fs2 fc0 sc0 ls0 ws0">merge<span class="_ _7"> </span>(see<span class="_ _7"> </span>Section<span class="_ _7"> </span>2.1)<span class="_ _8"> </span>is<span class="_ _7"> </span>suﬃcient.<span class="_ _2"> </span>F<span class="_ _e"></span>or<span class="_ _7"> </span>other<span class="_ _7"> </span>metho<span class="_ _5"></span>ds,<span class="_ _7"> </span>we<span class="_ _a"> </span>need<span class="_ _8"> </span>further<span class="_ _7"> </span>mo<span class="_ _5"></span>diﬁcations.</div><div class="t m0 x0 h5 y14e ff1 fs2 fc0 sc0 ls0 ws0">A<span class="_ _9"></span>voiding<span class="_ _8"> </span>unnecessary<span class="_ _8"> </span>cop<span class="_ _9"></span>ying.</div><div class="t me x2e h5 y14e ff5 fs2 fc0 sc0 ls0 ws0">F<span class="_ _e"></span>or<span class="_ _7"> </span>some<span class="_ _7"> </span>X,<span class="_ _7"> </span>it<span class="_ _7"> </span>is<span class="_ _7"> </span>conv<span class="_ _9"></span>enien<span class="_ _9"></span>t<span class="_ _a"> </span>to<span class="_ _8"> </span>ha<span class="_ _9"></span>v<span class="_ _9"></span>e<span class="_ _7"> </span>the<span class="_ _7"> </span>sorted<span class="_ _7"> </span>sequence</div><div class="t m28 x0 h5 y14f ff5 fs2 fc0 sc0 ls0 ws0">reside<span class="_ _7"> </span>in<span class="_ _8"> </span>the<span class="_ _7"> </span>buﬀer<span class="_ _8"> </span>area<span class="_ _7"> </span>instead<span class="_ _8"> </span>of<span class="_ _7"> </span>the<span class="_ _8"> </span>input<span class="_ _8"> </span>area.<span class="_ _b"> </span>W<span class="_ _4"></span>e<span class="_ _8"> </span>can<span class="_ _7"> </span>av<span class="_ _0"></span>oid<span class="_ _8"> </span>unnecessary<span class="_ _7"> </span>swaps<span class="_ _7"> </span>for<span class="_ _7"> </span>such</div><div class="t m3 x46 h5 y150 ff5 fs2 fc0 sc0 ls0 ws0">X<span class="_ _8"> </span>b<span class="_ _9"></span>y<span class="_ _8"> </span>partitioning<span class="_ _8"> </span>“in<span class="_ _8"> </span>reverse<span class="_ _7"> </span>order”,</div><div class="t m0 xe2 h5 y150 ff5 fs2 fc0 sc0 ls0 ws0">i.<span class="_ _2c"></span>e.</div><div class="t m3 xa8 h5 y150 ff5 fs2 fc0 sc0 ls0 ws0">,<span class="_ _8"> </span>so<span class="_ _8"> </span>that<span class="_ _8"> </span>large<span class="_ _8"> </span>elements<span class="_ _7"> </span>are<span class="_ _8"> </span>left<span class="_ _8"> </span>of<span class="_ _8"> </span>the<span class="_ _8"> </span>pivot<span class="_ _7"> </span>and</div><div class="t m0 x0 h5 y151 ff5 fs2 fc0 sc0 ls0 ws0">small<span class="_ _7"> </span>elements<span class="_ _a"> </span>right<span class="_ _a"> </span>of<span class="_ _8"> </span>the<span class="_ _7"> </span>pivot.</div><div class="t m0 x0 h5 y152 ff1 fs2 fc0 sc0 ls0 ws0">Stable<span class="_ _8"> </span>sorting.</div><div class="t md x59 h5 y152 ff5 fs2 fc0 sc0 ls0 ws0">W<span class="_ _e"></span>e<span class="_ _7"> </span>p<span class="_ _5"></span>oin<span class="_ _9"></span>t<span class="_ _7"> </span>out<span class="_ _7"> </span>that<span class="_ _7"> </span>standard,<span class="_ _7"> </span>eﬃcient<span class="_ _a"> </span>in-place<span class="_ _7"> </span>partitioning<span class="_ _7"> </span>is<span class="_ _7"> </span>not<span class="_ _7"> </span>a<span class="_ _8"> </span><span class="ffe">stable</span></div><div class="t m1b x0 h5 y153 ff5 fs2 fc0 sc0 ls0 ws0">metho<span class="_ _5"></span>d,</div><div class="t m0 x8c h5 y153 ff5 fs2 fc0 sc0 ls0 ws0">i.<span class="_ _2c"></span>e.</div><div class="t m1b xe7 h5 y153 ff5 fs2 fc0 sc0 ls0 ws0">,<span class="_ _7"> </span>elements<span class="_ _a"> </span>that<span class="_ _8"> </span>compare<span class="_ _8"> </span>equal<span class="_ _7"> </span>might<span class="_ _a"> </span>not<span class="_ _8"> </span>app<span class="_ _5"></span>ear<span class="_ _7"> </span>in<span class="_ _8"> </span>the<span class="_ _7"> </span>same<span class="_ _8"> </span>relativ<span class="_ _9"></span>e<span class="_ _7"> </span>order<span class="_ _8"> </span>after</div><div class="t m3 x0 h5 y154 ff5 fs2 fc0 sc0 ls0 ws0">partitioning<span class="_ _7"> </span>as<span class="_ _8"> </span>in<span class="_ _7"> </span>the<span class="_ _8"> </span>original<span class="_ _7"> </span>input. Moreo<span class="_ _0"></span>ver,<span class="_ _7"> </span>elemen<span class="_ _9"></span>ts<span class="_ _7"> </span>in<span class="_ _8"> </span>the<span class="_ _7"> </span>part<span class="_ _8"> </span>of<span class="_ _7"> </span>the<span class="_ _8"> </span>input<span class="_ _7"> </span>used<span class="_ _8"> </span>as</div><div class="t m3 x0 h5 y155 ff5 fs2 fc0 sc0 ls0 ws0">buﬀer<span class="_ _7"> </span>for<span class="_ _7"> </span>X<span class="_ _8"> </span>can<span class="_ _7"> </span>b<span class="_ _5"></span>e<span class="_ _7"> </span>reordered<span class="_ _7"> </span>arbitrarily<span class="_ _8"> </span>while<span class="_ _7"> </span>executing<span class="_ _7"> </span>X.<span class="_ _8"> </span>As<span class="_ _7"> </span>a<span class="_ _7"> </span>consequence,<span class="_ _8"> </span>and<span class="_ _7"> </span>muc<span class="_ _0"></span>h</div><div class="t m16 x0 h5 y156 ff5 fs2 fc0 sc0 ls0 ws0">lik<span class="_ _9"></span>e<span class="_ _7"> </span>standard<span class="_ _7"> </span><span class="ff4">Quicksor<span class="_ _e"></span>t<span class="ff5">,<span class="_ _7"> </span></span>QuickXsor<span class="_ _0"></span>t<span class="_ _7"> </span><span class="ff5">is<span class="_ _7"> </span><span class="ffe">not<span class="_ _2"> </span></span>a<span class="_ _a"> </span>stable<span class="_ _7"> </span>sorting<span class="_ _7"> </span>algorithm,<span class="_ _7"> </span>irresp<span class="_ _5"></span>ectiv<span class="_ _9"></span>e<span class="_ _a"> </span>of</span></span></div><div class="t m0 x46 h5 y157 ff5 fs2 fc0 sc0 ls0 ws0">whether<span class="_ _7"> </span>X<span class="_ _7"> </span>alone<span class="_ _7"> </span>is<span class="_ _8"> </span>stable.</div><div class="t m0 x0 h5 y158 ff1 fs2 fc0 sc0 ls0 ws0">Pivot<span class="_ _7"> </span>sampling.</div><div class="t m1 x115 h5 y158 ff5 fs2 fc0 sc0 ls0 ws0">It<span class="_ _a"> </span>is<span class="_ _a"> </span>a<span class="_ _a"> </span>standard<span class="_ _a"> </span>strategy<span class="_ _7"> </span>for<span class="_ _a"> </span><span class="ff4">Quicksor<span class="_ _0"></span>t<span class="_ _a"> </span><span class="ff5">to<span class="_ _a"> </span>choose<span class="_ _a"> </span>pivots<span class="_ _1b"> </span>as<span class="_ _7"> </span>the<span class="_ _a"> </span>median<span class="_ _a"> </span>of</span></span></div><div class="t m1 x0 h5 y159 ff5 fs2 fc0 sc0 ls0 ws0">some<span class="_ _a"> </span>sample.<span class="_ _2"> </span>This<span class="_ _7"> </span>optimization<span class="_ _a"> </span>is<span class="_ _a"> </span>also<span class="_ _a"> </span>eﬀective<span class="_ _a"> </span>for<span class="_ _a"> </span><span class="ff4">QuickXsor<span class="_ _e"></span>t<span class="_ _7"> </span><span class="ff5">and<span class="_ _a"> </span>we<span class="_ _1b"> </span>will<span class="_ _a"> </span>study<span class="_ _7"> </span>its<span class="_ _a"> </span>eﬀect</span></span></div><div class="t m20 x0 h5 y15a ff5 fs2 fc0 sc0 ls0 ws0">in<span class="_ _7"> </span>detail.<span class="_ _2"> </span>W<span class="_ _e"></span>e<span class="_ _7"> </span>assume<span class="_ _7"> </span>that<span class="_ _7"> </span>in<span class="_ _7"> </span>each<span class="_ _a"> </span>recursive<span class="_ _a"> </span>call,<span class="_ _7"> </span>we<span class="_ _a"> </span>choose<span class="_ _8"> </span>a<span class="_ _7"> </span>sample<span class="_ _7"> </span>of</div><div class="t m0 xdf h5 y15a ff6 fs2 fc0 sc0 ls0 ws0">k</div><div class="t m20 x116 h5 y15a ff5 fs2 fc0 sc0 ls0 ws0">elemen<span class="_ _9"></span>ts,<span class="_ _7"> </span>where</div><div class="t m0 x0 h5 y15b ff6 fs2 fc0 sc0 ls0 ws0">k</div><div class="t m3 x2c h5 y15b ff7 fs2 fc0 sc0 ls0 ws0">=<span class="_ _1b"> </span>2</div><div class="t m0 x117 h5 y15b ff6 fs2 fc0 sc0 ls0 ws0">t</div><div class="t m3 x6a h5 y15b ff7 fs2 fc0 sc0 ls0 ws0">+<span class="_ _10"> </span>1<span class="ff5">,</span></div><div class="t m0 xe7 h5 y15b ff6 fs2 fc0 sc0 ls0 ws0">t<span class="_ _1b"> </span><span class="ff8">∈<span class="_ _a"> </span><span class="ff1f">N</span></span></div><div class="t m0 x118 h9 y15c ff1b fs4 fc0 sc0 ls0 ws0">0</div><div class="t m3 x5a h5 y15b ff5 fs2 fc0 sc0 ls0 ws0">is<span class="_ _7"> </span>an<span class="_ _7"> </span>o<span class="_ _5"></span>dd<span class="_ _7"> </span>num<span class="_ _0"></span>b<span class="_ _5"></span>er.<span class="_ _b"> </span>The<span class="_ _7"> </span>sample<span class="_ _7"> </span>can<span class="_ _8"> </span>either<span class="_ _7"> </span>b<span class="_ _5"></span>e<span class="_ _7"> </span>selected<span class="_ _7"> </span>deterministically</div><div class="t m1 x46 h5 y15d ff5 fs2 fc0 sc0 ls0 ws0">(</div><div class="t m0 x119 h5 y15d ff5 fs2 fc0 sc0 ls0 ws0">e.<span class="_ _2c"></span>g.</div><div class="t m1 x11a h5 y15d ff5 fs2 fc0 sc0 ls0 ws0">,<span class="_ _a"> </span>selecting<span class="_ _a"> </span>ﬁxed<span class="_ _a"> </span>positions)<span class="_ _a"> </span>or<span class="_ _a"> </span>at<span class="_ _a"> </span>random.<span class="_ _2"> </span>Usually<span class="_ _a"> </span>for<span class="_ _a"> </span>the<span class="_ _a"> </span>analysis<span class="_ _a"> </span>w<span class="_ _9"></span>e<span class="_ _1b"> </span>do<span class="_ _a"> </span>not<span class="_ _a"> </span>need<span class="_ _a"> </span>random</div><div class="t m16 x0 h5 y15e ff5 fs2 fc0 sc0 ls0 ws0">selection;<span class="_ _7"> </span>only<span class="_ _7"> </span>if<span class="_ _7"> </span>the<span class="_ _7"> </span>algorithm<span class="_ _7"> </span>X<span class="_ _7"> </span>do<span class="_ _5"></span>es<span class="_ _a"> </span>not<span class="_ _7"> </span>preserve<span class="_ _a"> </span>randomness<span class="_ _7"> </span>of<span class="_ _7"> </span>the<span class="_ _7"> </span>buﬀer<span class="_ _7"> </span>element,<span class="_ _a"> </span>we</div><div class="t m3 x0 h5 y15f ff5 fs2 fc0 sc0 ls0 ws0">ha<span class="_ _9"></span>v<span class="_ _9"></span>e<span class="_ _c"> </span>to<span class="_ _8"> </span>assume<span class="_ _c"> </span>randomness<span class="_ _c"> </span>(see<span class="_ _c"> </span>Section<span class="_ _8"> </span>9.2).<span class="_ _48"> </span>Ho<span class="_ _9"></span>w<span class="_ _9"></span>ev<span class="_ _9"></span>er,<span class="_ _c"> </span>notice<span class="_ _c"> </span>that<span class="_ _8"> </span>in<span class="_ _c"> </span>any<span class="_ _8"> </span>case<span class="_ _c"> </span>random</div><div class="t m3 x0 h5 y160 ff5 fs2 fc0 sc0 ls0 ws0">selection<span class="_ _c"> </span>migh<span class="_ _0"></span>t<span class="_ _c"> </span>b<span class="_ _5"></span>e<span class="_ _c"> </span>beneﬁcial<span class="_ _c"> </span>as<span class="_ _c"> </span>it<span class="_ _c"> </span>protects<span class="_ _8"> </span>against<span class="_ _c"> </span>a<span class="_ _c"> </span>p<span class="_ _5"></span>oten<span class="_ _9"></span>tial<span class="_ _8"> </span>adversary<span class="_ _8"> </span>who<span class="_ _c"> </span>provides<span class="_ _8"> </span>a</div><div class="t m0 x46 h5 y161 ff5 fs2 fc0 sc0 ls0 ws0">w<span class="_ _9"></span>orst-case<span class="_ _7"> </span>input<span class="_ _7"> </span>p<span class="_ _5"></span>ermutation.</div><div class="t m1f x43 h5 yc4 ff5 fs2 fc0 sc0 ls0 ws0">Unlik<span class="_ _9"></span>e<span class="_ _7"> </span>for<span class="_ _7"> </span><span class="ff4">Quicksor<span class="_ _0"></span>t<span class="ff5">,<span class="_ _7"> </span>in<span class="_ _7"> </span></span>QuickXsor<span class="_ _0"></span>t<span class="_ _7"> </span><span class="ff5">pivot<span class="_ _a"> </span>selection<span class="_ _7"> </span>contributes<span class="_ _a"> </span>only<span class="_ _8"> </span>a<span class="_ _7"> </span>minor<span class="_ _7"> </span>term</span></span></div><div class="t m3 x0 h5 yc5 ff5 fs2 fc0 sc0 ls0 ws0">to<span class="_ _c"> </span>the<span class="_ _c"> </span>ov<span class="_ _0"></span>erall<span class="_ _2"> </span>running<span class="_ _c"> </span>time<span class="_ _c"> </span>(at<span class="_ _c"> </span>least<span class="_ _c"> </span>in<span class="_ _2"> </span>the<span class="_ _8"> </span>usual<span class="_ _2"> </span>case<span class="_ _c"> </span>that</div><div class="t m0 x11b h5 yc5 ff6 fs2 fc0 sc0 ls0 ws0">k<span class="_ _2"> </span><span class="ff8"><span class="_ _c"> </span></span>n</div><div class="t m3 x3c h5 yc5 ff5 fs2 fc0 sc0 ls0 ws0">).<span class="_ _12"> </span>The<span class="_ _c"> </span>reason<span class="_ _c"> </span>is<span class="_ _2"> </span>that</div><div class="t m17 x0 h5 yc7 ff4 fs2 fc0 sc0 ls0 ws0">QuickXsor<span class="_ _e"></span>t<span class="_ _7"> </span><span class="ff5">only<span class="_ _8"> </span>mak<span class="_ _9"></span>es<span class="_ _7"> </span>an<span class="_ _7"> </span>exp<span class="_ _5"></span>ected<span class="_ _7"> </span><span class="ffe">lo<span class="_ _0"></span>garithmic<span class="_ _c"> </span><span class="ff5">n<span class="_ _9"></span>um<span class="_ _9"></span>b<span class="_ _5"></span>er<span class="_ _a"> </span>of<span class="_ _7"> </span>partitioning<span class="_ _8"> </span>rounds<span class="_ _7"> </span>since<span class="_ _7"> </span>in</span></span></span></div><div class="t m11 x0 h5 yc8 ff5 fs2 fc0 sc0 ls0 ws0">exp<span class="_ _5"></span>ectation,<span class="_ _7"> </span>after<span class="_ _7"> </span>each<span class="_ _7"> </span>partitioning<span class="_ _7"> </span>round,<span class="_ _8"> </span>a<span class="_ _7"> </span>constant<span class="_ _7"> </span>fraction<span class="_ _7"> </span>of<span class="_ _8"> </span>the<span class="_ _7"> </span>input<span class="_ _8"> </span>is<span class="_ _7"> </span>excluded<span class="_ _8"> </span>from</div><div class="t m1 x0 h5 yc9 ff5 fs2 fc0 sc0 ls0 ws0">further<span class="_ _a"> </span>consideration<span class="_ _1b"> </span>(after<span class="_ _a"> </span>sorting<span class="_ _a"> </span>it<span class="_ _a"> </span>with<span class="_ _a"> </span>X).<span class="_ _a"> </span>This<span class="_ _1b"> </span>is<span class="_ _a"> </span>in<span class="_ _a"> </span>contrast<span class="_ _1b"> </span>to<span class="_ _a"> </span>plain<span class="_ _a"> </span><span class="ff4">Quicksor<span class="_ _e"></span>t<span class="ff5">,<span class="_ _7"> </span>whic<span class="_ _9"></span>h</span></span></div><div class="t m1 x0 h5 yca ff5 fs2 fc0 sc0 ls0 ws0">alw<span class="_ _9"></span>a<span class="_ _9"></span>ys<span class="_ _a"> </span>uses<span class="_ _7"> </span>a<span class="_ _a"> </span>linear<span class="_ _7"> </span>n<span class="_ _9"></span>um<span class="_ _9"></span>b<span class="_ _5"></span>er<span class="_ _a"> </span>of<span class="_ _a"> </span>partitioning<span class="_ _7"> </span>rounds;<span class="_ _7"> </span>it<span class="_ _a"> </span>makes<span class="_ _a"> </span>randomizing<span class="_ _a"> </span>pivot<span class="_ _a"> </span>selection<span class="_ _a"> </span>and</div><div class="t m29 x0 h5 y29 ff5 fs2 fc0 sc0 ls0 ws0">larger<span class="_ _7"> </span>sample<span class="_ _7"> </span>sizes<span class="_ _8"> </span>practical<span class="_ _7"> </span>in<span class="_ _8"> </span><span class="ff4">QuickXsor<span class="_ _e"></span>t<span class="ff5">.<span class="_ _b"> </span>F<span class="_ _e"></span>or<span class="_ _7"> </span>our<span class="_ _7"> </span>analysis,<span class="_ _8"> </span>w<span class="_ _9"></span>e<span class="_ _7"> </span>need<span class="_ _7"> </span>not<span class="_ _8"> </span>ﬁx<span class="_ _7"> </span>the<span class="_ _8"> </span>precise</span></span></div><a class="l" href="#pf7" data-dest-detail='[7,"XYZ",290.317,294.258,null]'><div class="d m9" style="border-style:none;position:absolute;left:707.838045px;bottom:1066.765668px;width:41.872000px;height:11.629000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf9" data-dest-detail='[9,"XYZ",81.174,609.886,null]'><div class="d m9" style="border-style:none;position:absolute;left:225.455083px;bottom:881.827925px;width:54.114000px;height:12.901000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf2d" data-dest-detail='[45,"XYZ",81.174,570.407,null]'><div class="d m9" style="border-style:none;position:absolute;left:408.610460px;bottom:386.573623px;width:55.614000px;height:12.901000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
