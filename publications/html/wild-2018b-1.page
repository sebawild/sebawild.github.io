<div id="pf1" class="pf w0 h0" data-page-no="1"><div class="pc pc1 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAuEAAAHfCAIAAABxupGFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAGtElEQVR42u3WMQEAAAjDMMC/52FjRyKhV2cAAPpsEhUAgDYnAQDgUQAAPAoA4FEAADwKAOBRAAA8CgCARwEAPAoAgEcBADwKAIBHAQA8CgCARwEA8CgAgEcBAPAoAIBHAQDwKACARwEA8CgAAB4FAPAoAAAeBQDwKAAAHgUA8CgAAB4FAMCjAAAeBQDAowAAHgUAwKMAAB4FAMCjAAB4FADAowAAeBQAwKMAAHgUAMCjAAB4FAAAjwIAeBQAAI8CAHgUAACPAgB4FAAAjwIA4FEAAI8CAOBRAACPAgDgUQAAjwIA4FEAADwKAOBRAAA8CgDgUQAAPAoA4FEAADwKAIBHAQA8CgCARwEAPAoAgEcBAPAoAIBHAQDwKACARwEA8CgAgEcBAPAoAAAeBQDwKAAAHgUA8CgAAB4FAPAoAAAeBQDAowAAHgUAwKMAAB4FAMCjAAAeBQDAowAAeBQAwKMAAHgUAMCjAAB4FADAowAAeBQAAI8CAHgUAACPAgB4FAAAjwIAeBQAAI8CAOBRAACPAgDgUQAAjwIA4FEAAI8CAOBRAAA8CgDgUQAAPAoA4FEAADwKAOBRAAA8CgCARwEAPAoAgEcBADwKAIBHAQA8CgCARwEA8CgAgEcBAPAoAIBHAQDwKACAR5EAAPAoAAAeBQDwKAAAHgUA8CgAAB4FAMCjAAAeBQDAowAAHgUAwKMAAB4FAMCjAAB4FADAowAAeBQAwKMAAHgUAMCjAAB4FAAAjwIAeBQAAI8CAHgUAACPAgB4FAAAjwIA4FEAAI8CAOBRAACPAgDgUQAAjwIA4FEAADwKAOBRAAA8CgDgUQAAPAoA4FEAADwKAIBHAQA8CgCARwEAPAoAgEcBADwKAIBHAQDwKACARwEA8CgAgEcBAPAoAIBHAQDwKAAAHgUA8CgAAB4FAPAoAAAeBQDwKAAAHgUAwKMAAB4FAMCjAAAeBQDAowAAeBQAwKMAAHgUAMCjAAB4FADAowAAeBQAAI8CAHgUAACPAgB4FAAAjwIAeBQAAI8CAOBRAACPAgDgUQAAjwIA4FEAAI8CAOBRAAA8CgDgUQAAPAoA4FEAADwKAOBRAAA8CgCARwEAPAoAgEcBADwKAIBHAQA8CgCARwEA8CgAgEcBAPAoAIBHAQDwKACARwEA8CgAAB4FAPAoAAAeBQDwKAAAHgUA8CgAAB4FAMCjAAAeBQDAowAAHgUAwKMAAB4FAMCjAAB4FADAowAAeBQAwKMAAHgUAMCjSAAAeBQAAI8CAHgUAACPAgB4FAAAjwIA4FEAAI8CAOBRAACPAgDgUQAAjwIA4FEAADwKAOBRAAA8CgDgUQAAPAoA4FEAADwKAIBHAQA8CgCARwEAPAoAgEcBADwKAIBHAQDwKACARwEA8CgAgEcBAPAoAIBHAQDwKAAAHgUA8CgAAB4FAPAoAAAeBQDwKAAAHgUAwKMAAB4FAMCjAAAeBQDAowAAHgUAwKMAAHgUAMCjAAB4FADAowAAeBQAwKMAAHgUAACPAgB4FAAAjwIAeBQAAI8CAHgUAACPAgDgUQAAjwIA4FEAAI8CAOBRAAA8CgDgUQAAPAoA4FEAADwKAOBRAAA8CgCARwEAPAoAgEcBADwKAIBHAQA8CgCARwEA8CgAgEcBAPAoAIBHAQDwKACARwEA8CgAAB4FAPAoAAAeBQDwKAAAHgUA8CgAAB4FAMCjAAAeBQDAowAAHgUAwKMAAB4FAMCjAAB4FADAowAAeBQAwKMAAHgUAMCjAAB4FAAAjwIAeBQAAI8CAHgUAACPAgB4FAAAjwIA4FEAAI8CAOBRAACPAgDgUQAAjwIA4FEAADwKAOBRAAA8CgDgUQAAPAoA4FEkAAA8CgCARwEAPAoAgEcBADwKAIBHAQDwKACARwEA8CgAgEcBAPAoAIBHAQDwKAAAHgUA8CgAAB4FAPAoAAAeBQDwKAAAHgUAwKMAAB4FAMCjAAAeBQDAowAAHgUAwKMAAHgUAMCjAAB4FADAowAAeBQAwKMAAHgUAACPAgB4FAAAjwIAeBQAAI8CAHgUAACPAgDgUQAAjwIA4FEAAI8CAOBRAACPAgDgUQAAPAoA4FEAADwKAOBRAAA8CgDgUQAAPAoAgEcBADwKAIBHAQA8CgCARwEAPAoAgEcBAPAoAIBHAQDwKACARwEA8CgAAB4FAPAoAAAeBQDwKAAAHgUA8CgAAB4FAMCjAAAeBQDAowAAHgUAwKMAAB4FAMCjAAB4FADAowAAeBQAwKMAAHgUAMCjAAB4FAAAAIB6D9G4BrdQjXEIAAAAAElFTkSuQmCC"/><div class="t m0 x0 h2 y1 ff1 fs0 fc0 sc0 ls0 ws0">Dual-Pivot<span class="_ _0"> </span>and<span class="_ _0"> </span>Bey<span class="_ _1"></span>ond:<span class="_ _0"> </span>The<span class="_ _0"> </span>P<span class="_ _1"></span>otential<span class="_ _0"> </span>of</div><div class="t m0 x0 h2 y2 ff1 fs0 fc0 sc0 ls0 ws0">Multiw<span class="_ _1"></span>a<span class="_ _1"></span>y<span class="_ _0"> </span>P<span class="_ _1"></span>a<span class="_ _1"></span>rtitioning<span class="_ _0"> </span>in<span class="_ _0"> </span>Quickso<span class="_ _1"></span>rt</div><div class="t m0 x0 h3 y3 ff2 fs1 fc0 sc0 ls0 ws0">Sebastian<span class="_ _2"> </span>Wild</div><div class="t m0 x0 h4 y4 ff1 fs2 fc0 sc0 ls0 ws0">Abstract:<span class="_ _2"> </span><span class="ff2">Since<span class="_ _3"> </span>2011<span class="_ _3"> </span>the<span class="_ _3"> </span>Java<span class="_ _3"> </span>runtime<span class="_ _3"> </span>lib<span class="_ _4"></span>ra<span class="_ _4"></span>ry<span class="_ _3"> </span>uses<span class="_ _3"> </span>a<span class="_ _3"> </span>Quickso<span class="_ _4"></span>rt<span class="_ _3"> </span>variant<span class="_ _3"> </span>with<span class="_ _5"> </span>t<span class="_ _4"></span>wo<span class="_ _5"> </span>pivot</span></div><div class="t m0 x0 h4 y5 ff2 fs2 fc0 sc0 ls0 ws0">elements.<span class="_ _5"> </span>Fo<span class="_ _4"></span>r<span class="_ _3"> </span>reasons<span class="_ _3"> </span>that<span class="_ _5"> </span>remained<span class="_ _3"> </span>unclear<span class="_ _5"> </span>for<span class="_ _5"> </span>yea<span class="_ _4"></span>rs<span class="_ _5"> </span>it<span class="_ _3"> </span>is<span class="_ _3"> </span>faster<span class="_ _3"> </span>than<span class="_ _3"> </span>the<span class="_ _3"> </span>previous</div><div class="t m0 x0 h4 y6 ff2 fs2 fc0 sc0 ls0 ws0">Quickso<span class="_ _4"></span>rt<span class="_ _3"> </span>implementation<span class="_ _3"> </span>by<span class="_ _5"> </span>mo<span class="_ _4"></span>re<span class="_ _3"> </span>than<span class="_ _3"> </span>10%;<span class="_ _3"> </span>this<span class="_ _5"> </span>is<span class="_ _3"> </span>not<span class="_ _3"> </span>only<span class="_ _3"> </span>surprising<span class="_ _5"> </span>b<span class="_ _6"></span>ecause<span class="_ _5"> </span>the</div><div class="t m0 x0 h4 y7 ff2 fs2 fc0 sc0 ls0 ws0">p<span class="_ _4"></span>revious<span class="_ _3"> </span>co<span class="_ _6"></span>de<span class="_ _5"> </span>was<span class="_ _5"> </span>highly-tuned<span class="_ _3"> </span>and<span class="_ _3"> </span>is<span class="_ _3"> </span>used<span class="_ _3"> </span>in<span class="_ _3"> </span>many<span class="_ _5"> </span>programming<span class="_ _5"> </span>libra<span class="_ _4"></span>ries,<span class="_ _5"> </span>but<span class="_ _3"> </span>also</div><div class="t m0 x0 h4 y8 ff2 fs2 fc0 sc0 ls0 ws0">since<span class="_ _5"> </span>earlier<span class="_ _5"> </span>theoretical<span class="_ _5"> </span>investigations<span class="_ _3"> </span>suggested<span class="_ _3"> </span>that<span class="_ _3"> </span>using<span class="_ _3"> </span>several<span class="_ _3"> </span>pivots<span class="_ _3"> </span>in<span class="_ _3"> </span>Quicksort<span class="_ _5"> </span>is</div><div class="t m0 x0 h4 y9 ff2 fs2 fc0 sc0 ls0 ws0">not<span class="_ _5"> </span>helpful.</div><div class="t m0 x0 h4 ya ff2 fs2 fc0 sc0 ls0 ws0">In<span class="_ _5"> </span>my<span class="_ _3"> </span>dissertation<span class="_ _3"> </span>I<span class="_ _3"> </span>proved<span class="_ _5"> </span>by<span class="_ _5"> </span>a<span class="_ _3"> </span>comprehensive<span class="_ _5"> </span>mathematical<span class="_ _3"> </span>analysis<span class="_ _3"> </span>of<span class="_ _3"> </span>all<span class="_ _3"> </span>sensible</div><div class="t m0 x0 h4 yb ff2 fs2 fc0 sc0 ls0 ws0">Quickso<span class="_ _4"></span>rt<span class="_ _3"> </span>partitioning<span class="_ _5"> </span>va<span class="_ _4"></span>riants<span class="_ _3"> </span>that<span class="_ _3"> </span>(a)<span class="_ _3"> </span>indeed<span class="_ _3"> </span>there<span class="_ _5"> </span>is<span class="_ _3"> </span>hardly<span class="_ _5"> </span>any<span class="_ _3"> </span>advantage<span class="_ _3"> </span>to<span class="_ _3"> </span>b<span class="_ _6"></span>e</div><div class="t m0 x0 h4 yc ff2 fs2 fc0 sc0 ls0 ws0">gained<span class="_ _5"> </span>from<span class="_ _3"> </span>multiwa<span class="_ _4"></span>y<span class="_ _5"> </span>partitioning<span class="_ _5"> </span>in<span class="_ _3"> </span>terms<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _3"> </span>numb<span class="_ _6"></span>er<span class="_ _5"> </span>of<span class="_ _3"> </span>comparisons<span class="_ _5"> </span>(and<span class="_ _3"> </span>more</div><div class="t m0 x0 h4 yd ff2 fs2 fc0 sc0 ls0 ws0">generally<span class="_ _5"> </span>in<span class="_ _3"> </span>terms<span class="_ _3"> </span>of<span class="_ _3"> </span>CPU<span class="_ _3"> </span>costs),<span class="_ _3"> </span>but<span class="_ _3"> </span>(b)<span class="_ _3"> </span>multiwa<span class="_ _4"></span>y<span class="_ _5"> </span>partitioning<span class="_ _5"> </span>do<span class="_ _6"></span>es<span class="_ _5"> </span>signiﬁcantly<span class="_ _3"> </span>reduce</div><div class="t m0 x0 h4 ye ff2 fs2 fc0 sc0 ls0 ws0">the<span class="_ _5"> </span>amount<span class="_ _3"> </span>of<span class="_ _3"> </span>data<span class="_ _3"> </span>to<span class="_ _3"> </span>b<span class="_ _6"></span>e<span class="_ _3"> </span>moved<span class="_ _5"> </span>b<span class="_ _6"></span>etw<span class="_ _4"></span>een<span class="_ _5"> </span>CPU<span class="_ _3"> </span>and<span class="_ _3"> </span>main<span class="_ _3"> </span>memory<span class="_ _7"></span>.<span class="_ _5"> </span>Moreover,<span class="_ _5"> </span>this<span class="_ _3"> </span>more</div><div class="t m0 x0 h4 yf ff2 fs2 fc0 sc0 ls0 ws0">eﬃcient<span class="_ _5"> </span>use<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _3"> </span>memory<span class="_ _5"> </span>hierarchy<span class="_ _5"> </span>is<span class="_ _3"> </span>not<span class="_ _3"> </span>achieved<span class="_ _3"> </span>by<span class="_ _5"> </span>any<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _5"> </span>other<span class="_ _3"> </span>well-kno<span class="_ _4"></span>wn</div><div class="t m0 x0 h4 y10 ff2 fs2 fc0 sc0 ls0 ws0">optimizations<span class="_ _5"> </span>of<span class="_ _3"> </span>Quicksort,<span class="_ _5"> </span>but<span class="_ _3"> </span>only<span class="_ _3"> </span>through<span class="_ _3"> </span>the<span class="_ _3"> </span>use<span class="_ _3"> </span>of<span class="_ _3"> </span>several<span class="_ _3"> </span>pivots.</div><div class="t m0 x0 h4 y11 ff1 fs2 fc0 sc0 ls0 ws0">A<span class="_ _4"></span>CM<span class="_ _2"> </span>CCS:<span class="_ _2"> </span><span class="ff2">Theory<span class="_ _5"> </span>of<span class="_ _3"> </span>computation<span class="_ _3"> </span><span class="ff3">→<span class="_ _5"> </span></span>Design<span class="_ _3"> </span>and<span class="_ _3"> </span>analysis<span class="_ _3"> </span>of<span class="_ _3"> </span>algorithms<span class="_ _5"> </span><span class="ff3">→<span class="_ _3"> </span></span>Data</span></div><div class="t m0 x0 h4 y12 ff2 fs2 fc0 sc0 ls0 ws0">structures<span class="_ _5"> </span>design<span class="_ _3"> </span>and<span class="_ _3"> </span>analysis<span class="_ _3"> </span><span class="ff3">→<span class="_ _3"> </span></span>Sorting<span class="_ _5"> </span>and<span class="_ _3"> </span>searching</div><div class="t m0 x0 h4 y13 ff1 fs2 fc0 sc0 ls0 ws0">Keyw<span class="_ _4"></span>o<span class="_ _4"></span>rds:<span class="_ _2"> </span><span class="ff2">Quicksort,<span class="_ _5"> </span>multiwa<span class="_ _4"></span>y<span class="_ _5"> </span>partitioning,<span class="_ _5"> </span>average-case<span class="_ _3"> </span>analysis,<span class="_ _3"> </span>cache<span class="_ _3"> </span>misses,</span></div><div class="t m0 x0 h4 y14 ff2 fs2 fc0 sc0 ls0 ws0">external-memo<span class="_ _4"></span>ry<span class="_ _3"> </span>mo<span class="_ _6"></span>del</div><div class="t m0 x0 h5 y15 ff1 fs3 fc0 sc0 ls0 ws0">1<span class="_ _8"> </span>Intro<span class="_ _6"></span>duction</div><div class="t m1 x0 h4 y16 ff4 fs2 fc0 sc0 ls0 ws0">Sorting<span class="_ _2"> </span>is<span class="_ _9"> </span>one<span class="_ _2"> </span>of<span class="_ _9"> </span>the<span class="_ _2"> </span>basic<span class="_ _9"> </span>stepping<span class="_ _2"> </span>stones<span class="_ _9"> </span>for<span class="_ _2"> </span>solving</div><div class="t m1 x0 h4 y17 ff4 fs2 fc0 sc0 ls0 ws0">more<span class="_ _a"> </span>in<span class="_ _4"></span>teresting<span class="_ _a"> </span>tasks,<span class="_ _a"> </span>and<span class="_ _a"> </span>thus<span class="_ _a"> </span>used<span class="_ _a"> </span>in<span class="_ _a"> </span>some<span class="_ _a"> </span>form</div><div class="t m1 x0 h4 y18 ff4 fs2 fc0 sc0 ls0 ws0">or<span class="_ _a"> </span>another<span class="_ _a"> </span>in<span class="_ _b"> </span>an<span class="_ _4"></span>y<span class="_ _a"> </span>soft<span class="_ _4"></span>ware<span class="_ _b"> </span>application.<span class="_ _b"> </span>How<span class="_ _b"> </span>to<span class="_ _a"> </span>sort</div><div class="t m2 x0 h4 y19 ff4 fs2 fc0 sc0 ls0 ws0">most<span class="_ _5"> </span>eﬃciently might<span class="_ _5"> </span>b<span class="_ _6"></span>e<span class="_ _5"> </span>the<span class="_ _5"> </span>most<span class="_ _5"> </span>well-studied<span class="_ _5"> </span>and<span class="_ _5"> </span>b<span class="_ _6"></span>est-</div><div class="t m3 x0 h4 y1a ff4 fs2 fc0 sc0 ls0 ws0">understo<span class="_ _6"></span>od<span class="_ _3"> </span>algorithmic<span class="_ _3"> </span>problem<span class="_ _5"> </span>and<span class="_ _3"> </span>programmers<span class="_ _3"> </span>can</div><div class="t m2 x0 h4 y1b ff4 fs2 fc0 sc0 ls0 ws0">rely<span class="_ _3"> </span>on<span class="_ _3"> </span>robust<span class="_ _3"> </span>and<span class="_ _3"> </span>eﬃcient<span class="_ _5"> </span>implementations<span class="_ _5"> </span>in<span class="_ _3"> </span>program-</div><div class="t m4 x0 h4 y1c ff4 fs2 fc0 sc0 ls0 ws0">ming<span class="_ _5"> </span>libraries<span class="_ _3"> </span>for<span class="_ _3"> </span>sorting<span class="_ _5"> </span>an<span class="_ _3"> </span>array<span class="_ _5"> </span>of<span class="_ _5"> </span>elem<span class="_ _6"></span>en<span class="_ _4"></span>ts<span class="_ _5"> </span>in<span class="_ _3"> </span>main</div><div class="t m5 x0 h4 y1d ff4 fs2 fc0 sc0 ls0 ws0">memory<span class="_ _7"></span>.<span class="_ _3"> </span>Y<span class="_ _1"></span>et,<span class="_ _3"> </span>a<span class="_ _3"> </span>silent<span class="_ _5"> </span>rev<span class="_ _4"></span>olution<span class="_ _3"> </span>to<span class="_ _6"></span>ok<span class="_ _5"> </span>place<span class="_ _3"> </span>in<span class="_ _3"> </span>the<span class="_ _5"> </span>prac-</div><div class="t m1 x0 h4 y1e ff4 fs2 fc0 sc0 ls0 ws0">tical<span class="_ _2"> </span>side<span class="_ _2"> </span>of<span class="_ _2"> </span>this<span class="_ _9"> </span>w<span class="_ _4"></span>ell-understo<span class="_ _6"></span>od<span class="_ _2"> </span>problem:</div><div class="t m0 x1 h4 y1e ff5 fs2 fc0 sc0 ls0 ws0">A<span class="_ _4"></span>l<span class="_ _6"></span>l</div><div class="t m1 x2 h4 y1e ff4 fs2 fc0 sc0 ls0 ws0">sorting</div><div class="t m1 x0 h4 y1f ff4 fs2 fc0 sc0 ls0 ws0">metho<span class="_ _6"></span>ds<span class="_ _b"> </span>in<span class="_ _b"> </span>Oracle’s<span class="_ _a"> </span>Ja<span class="_ _4"></span>v<span class="_ _4"></span>a<span class="_ _b"> </span>run<span class="_ _4"></span>time<span class="_ _b"> </span>library<span class="_ _a"> </span>hav<span class="_ _1"></span>e<span class="_ _a"> </span>b<span class="_ _6"></span>een</div><div class="t m6 x0 h4 y20 ff4 fs2 fc0 sc0 ls0 ws0">rewritten<span class="_ _5"> </span>entirely<span class="_ _5"> </span>within<span class="_ _3"> </span>the<span class="_ _5"> </span>last<span class="_ _3"> </span>ten<span class="_ _3"> </span>years<span class="_ _5"> </span>[</div><div class="t m0 x3 h4 y20 ff4 fs2 fc0 sc0 ls0 ws0">10</div><div class="t m6 x4 h4 y20 ff4 fs2 fc0 sc0 ls0 ws0">,</div><div class="t m0 x2 h4 y20 ff4 fs2 fc0 sc0 ls0 ws0">11</div><div class="t m6 x5 h4 y20 ff4 fs2 fc0 sc0 ls0 ws0">]!<span class="_ _5"> </span>As</div><div class="t m7 x0 h4 y21 ff4 fs2 fc0 sc0 ls0 ws0">this<span class="_ _3"> </span>co<span class="_ _6"></span>de<span class="_ _5"> </span>forms<span class="_ _3"> </span>the<span class="_ _3"> </span>base<span class="_ _3"> </span>of<span class="_ _3"> </span>the<span class="_ _3"> </span>Android<span class="_ _3"> </span>runtime<span class="_ _5"> </span>library<span class="_ _1"></span>,</div><div class="t m1 x0 h4 y22 ff4 fs2 fc0 sc0 ls0 ws0">these<span class="_ _3"> </span>new<span class="_ _2"> </span>sorting<span class="_ _3"> </span>metho<span class="_ _6"></span>ds<span class="_ _3"> </span>might<span class="_ _3"> </span>easily<span class="_ _3"> </span>b<span class="_ _6"></span>e<span class="_ _3"> </span>among<span class="_ _2"> </span>the</div><div class="t m2 x0 h4 y23 ff4 fs2 fc0 sc0 ls0 ws0">most<span class="_ _5"> </span>executed<span class="_ _3"> </span>algorithms<span class="_ _3"> </span>in<span class="_ _3"> </span>existence.<span class="_ _3"> </span>(Estimates<span class="_ _3"> </span>sp<span class="_ _6"></span>eak</div><div class="t m2 x0 h4 y24 ff4 fs2 fc0 sc0 ls0 ws0">of<span class="_ _5"> </span>2<span class="_ _3"> </span>billion<span class="_ _3"> </span>activ<span class="_ _4"></span>e<span class="_ _5"> </span>Android<span class="_ _3"> </span>devices<span class="_ _3"> </span>(2016<span class="_ _5"> </span>worldwide)<span class="_ _5"> </span>[</div><div class="t m0 x6 h4 y24 ff4 fs2 fc0 sc0 ls0 ws0">2</div><div class="t m2 x7 h4 y24 ff4 fs2 fc0 sc0 ls0 ws0">].)</div><div class="t m8 x0 h4 y25 ff4 fs2 fc0 sc0 ls0 ws0">F<span class="_ _7"></span>or<span class="_ _3"> </span>such<span class="_ _5"> </span>widely<span class="_ _3"> </span>used<span class="_ _5"> </span>libraries,<span class="_ _3"> </span>new<span class="_ _3"> </span>trends<span class="_ _3"> </span>are<span class="_ _3"> </span>adopted</div><div class="t m1 x0 h4 y26 ff4 fs2 fc0 sc0 ls0 ws0">v<span class="_ _4"></span>ery<span class="_ _b"> </span>conserv<span class="_ _4"></span>ativ<span class="_ _4"></span>ely;<span class="_ _b"> </span>any<span class="_ _b"> </span>c<span class="_ _4"></span>hange<span class="_ _b"> </span>has<span class="_ _b"> </span>the<span class="_ _a"> </span>p<span class="_ _6"></span>oten<span class="_ _4"></span>tial<span class="_ _b"> </span>to</div><div class="t m9 x0 h4 y27 ff4 fs2 fc0 sc0 ls0 ws0">aﬀect<span class="_ _5"> </span>existing<span class="_ _3"> </span>use<span class="_ _3"> </span>cases.<span class="_ _3"> </span>Indeed<span class="_ _5"> </span>–<span class="_ _3"> </span>until<span class="_ _5"> </span>ten<span class="_ _5"> </span>years<span class="_ _5"> </span>ago<span class="_ _3"> </span>–</div><div class="t ma x0 h4 y28 ff4 fs2 fc0 sc0 ls0 ws0">all<span class="_ _5"> </span>ma<span class="_ _c"></span>jor<span class="_ _5"> </span>programming<span class="_ _3"> </span>libraries<span class="_ _3"> </span>used<span class="_ _3"> </span>a<span class="_ _3"> </span>sorting<span class="_ _3"> </span>metho<span class="_ _6"></span>d</div><div class="t m1 x0 h4 y29 ff4 fs2 fc0 sc0 ls0 ws0">based<span class="_ _9"> </span>on<span class="_ _9"> </span>the<span class="_ _9"> </span>Quic<span class="_ _4"></span>ksort<span class="_ _9"> </span>Implementation<span class="_ _2"> </span>developed<span class="_ _9"> </span>by</div><div class="t mb x0 h4 y2a ff4 fs2 fc0 sc0 ls0 ws0">Jon<span class="_ _3"> </span>Ben<span class="_ _4"></span>tley<span class="_ _3"> </span>and<span class="_ _3"> </span>Douglas<span class="_ _3"> </span>McIlroy<span class="_ _5"> </span>in<span class="_ _3"> </span>the<span class="_ _3"> </span>early<span class="_ _3"> </span>1990s<span class="_ _3"> </span>for</div><div class="t m2 x0 h4 y2b ff4 fs2 fc0 sc0 ls0 ws0">the C<span class="_ _d"> </span>standard library<span class="_ _d"> </span>[</div><div class="t m0 x8 h4 y2b ff4 fs2 fc0 sc0 ls0 ws0">6</div><div class="t m2 x9 h4 y2b ff4 fs2 fc0 sc0 ls0 ws0">]. Nev<span class="_ _1"></span>ertheless, the running<span class="_ _d"> </span>time</div><div class="t m0 xa h6 y2c ff6 fs4 fc0 sc0 ls0 ws0">DualPivotQuicksor<span class="_ _7"></span>t</div><div class="t m2 xb h7 y2c ff7 fs4 fc0 sc0 ls0 ws0">(</div><div class="t m0 xc h7 y2c ff8 fs4 fc0 sc0 ls0 ws0">A,<span class="_ _e"> </span><span class="ff9">left<span class="_ _c"></span></span>,<span class="_ _e"> </span><span class="ff9">right</span></div><div class="t m2 xd h7 y2c ff7 fs4 fc0 sc0 ls0 ws0">)</div><div class="t m0 xe h8 y2c ffa fs4 fc0 sc0 ls0 ws0">/<span class="_ _f"></span>/<span class="_ _d"> </span><span class="ffb fs5">Sorts <span class="ffc">A</span>[<span class="ffd">left<span class="_ _c"></span><span class="ffc">..</span>right<span class="_ _c"></span></span>]</span></div><div class="t m0 xf h7 y2d ffe fs6 fc0 sc0 ls0 ws0">1<span class="_ _0"> </span><span class="fff fs4">if<span class="_ _10"> </span><span class="ff9">right<span class="_ _5"> </span><span class="ff10">−<span class="_ _11"> </span></span>left<span class="_ _3"> </span><span class="ff10">≥<span class="_ _12"> </span><span class="ff7">1</span></span></span></span></div><div class="t m0 xf h7 y2e ffe fs6 fc0 sc0 ls0 ws0">2<span class="_ _13"> </span><span class="ff8 fs4">P<span class="_ _b"> </span><span class="ff7">=<span class="_ _2"> </span>min<span class="_ _11"> </span><span class="ff10">{</span></span>A<span class="ff7">[<span class="ff9">left<span class="_ _c"></span></span>]</span>,<span class="_ _e"> </span>A<span class="ff7">[<span class="ff9">right<span class="_ _c"></span></span>]<span class="ff10">}<span class="_ _5"> </span><span class="ffa">/<span class="_ _f"></span>/<span class="_ _5"> </span><span class="ffb fs5">Pivot<span class="_ _12"> </span>1</span></span></span></span></span></div><div class="t m0 xf h7 y2f ffe fs6 fc0 sc0 ls0 ws0">3<span class="_ _13"> </span><span class="ff8 fs4">Q<span class="_ _3"> </span><span class="ff7">=<span class="_ _2"> </span>max<span class="ff10">{</span></span>A<span class="ff7">[<span class="ff9">left<span class="_ _c"></span></span>]</span>,<span class="_ _e"> </span>A<span class="ff7">[<span class="ff9">right<span class="_ _c"></span></span>]<span class="ff10">}<span class="_ _5"> </span><span class="ffa">/<span class="_ _f"></span>/<span class="_ _5"> </span><span class="ffb fs5">Pivot<span class="_ _12"> </span>2</span></span></span></span></span></div><div class="t m0 xf h7 y30 ffe fs6 fc0 sc0 ls0 ws0">4<span class="_ _13"> </span><span class="ff8 fs4">k<span class="_ _2"> </span><span class="ff7">=<span class="_ _2"> </span><span class="ff9">left<span class="_ _5"> </span></span>+<span class="_ _11"> </span>1;<span class="_ _14"> </span></span>`<span class="_ _3"> </span><span class="ff7">=<span class="_ _2"> </span></span>k<span class="_ _6"></span><span class="ff7">;<span class="_ _14"> </span></span>g<span class="_ _2"> </span><span class="ff7">=<span class="_ _2"> </span><span class="ff9">right<span class="_ _5"> </span><span class="ff10">−<span class="_ _11"> </span></span></span>1</span></span></div><div class="t m0 xf h7 y31 ffe fs6 fc0 sc0 ls0 ws0">5<span class="_ _13"> </span><span class="fff fs4">while<span class="_ _5"> </span><span class="ff8">k<span class="_ _12"> </span><span class="ff10">≤<span class="_ _12"> </span></span>g</span></span></div><div class="t m0 xf h7 y32 ffe fs6 fc0 sc0 ls0 ws0">6<span class="_ _15"> </span><span class="fff fs4">if<span class="_ _9"> </span><span class="ff8">A<span class="ff7">[</span>k<span class="_ _6"></span><span class="ff7">] </span>&lt;<span class="_ _12"> </span>P</span></span></div><div class="t m0 xf h7 y33 ffe fs6 fc0 sc0 ls0 ws0">7<span class="_ _16"> </span><span class="ff7 fs4">Sw<span class="_ _4"></span>ap<span class="_ _5"> </span><span class="ff8">A</span>[<span class="ff8">k<span class="_ _6"></span></span>]<span class="_ _5"> </span>and<span class="_ _5"> </span><span class="ff8">A</span>[<span class="ff8">`</span>];<span class="_ _14"> </span><span class="ff8">`<span class="_ _3"> </span></span>=<span class="_ _3"> </span><span class="ff8">`<span class="_ _d"> </span></span>+<span class="_ _11"> </span>1</span></div><div class="t m0 xf h7 y34 ffe fs6 fc0 sc0 ls0 ws0">8<span class="_ _15"> </span><span class="fff fs4">else<span class="_ _5"> </span>if<span class="_ _9"> </span><span class="ff8">A<span class="ff7">[</span>k<span class="_ _6"></span><span class="ff7">] <span class="ff10">≥<span class="_ _d"> </span></span></span>Q</span></span></div><div class="t m0 xf h7 y35 ffe fs6 fc0 sc0 ls0 ws0">9<span class="_ _16"> </span><span class="fff fs4">while<span class="_ _5"> </span><span class="ff8">A<span class="ff7">[</span>g<span class="_ _6"></span><span class="ff7">] </span>&gt;<span class="_ _d"> </span>Q<span class="_ _5"> </span><span class="ff7">and<span class="_ _5"> </span></span>k<span class="_ _5"> </span>&lt;<span class="_ _d"> </span>g</span></span></div><div class="t m0 x10 h7 y36 ffe fs6 fc0 sc0 ls0 ws0">10<span class="_ _17"> </span><span class="ff8 fs4">g<span class="_ _2"> </span><span class="ff7">=<span class="_ _2"> </span></span>g<span class="_ _12"> </span><span class="ff10">−<span class="_ _11"> </span><span class="ff7">1</span></span></span></div><div class="t m0 x10 h9 y37 ffe fs6 fc0 sc0 ls0 ws0">11<span class="_ _16"> </span><span class="fff fs4">end<span class="_ _3"> </span>while</span></div><div class="t m0 x10 h7 y38 ffe fs6 fc0 sc0 ls0 ws0">12<span class="_ _16"> </span><span class="ff7 fs4">Sw<span class="_ _4"></span>ap<span class="_ _5"> </span><span class="ff8">A</span>[<span class="ff8">k<span class="_ _6"></span></span>]<span class="_ _5"> </span>and<span class="_ _5"> </span><span class="ff8">A</span>[<span class="ff8">g</span>];<span class="_ _14"> </span><span class="ff8">g<span class="_ _9"> </span></span>=<span class="_ _2"> </span><span class="ff8">g<span class="_ _d"> </span><span class="ff10">−<span class="_ _11"> </span></span></span>1</span></div><div class="t m0 x10 h7 y39 ffe fs6 fc0 sc0 ls0 ws0">13<span class="_ _16"> </span><span class="fff fs4">if<span class="_ _9"> </span><span class="ff8">A<span class="ff7">[</span>k<span class="_ _6"></span><span class="ff7">] </span>&lt;<span class="_ _d"> </span>P</span></span></div><div class="t m0 x10 h7 y3a ffe fs6 fc0 sc0 ls0 ws0">14<span class="_ _17"> </span><span class="ff7 fs4">Sw<span class="_ _4"></span>ap<span class="_ _5"> </span><span class="ff8">A</span>[<span class="ff8">k<span class="_ _6"></span></span>]<span class="_ _5"> </span>and<span class="_ _5"> </span><span class="ff8">A</span>[<span class="ff8">`</span>];<span class="_ _14"> </span><span class="ff8">`<span class="_ _3"> </span></span>=<span class="_ _3"> </span><span class="ff8">`<span class="_ _d"> </span></span>+<span class="_ _11"> </span>1</span></div><div class="t m0 x10 h9 y3b ffe fs6 fc0 sc0 ls0 ws0">15<span class="_ _16"> </span><span class="fff fs4">end<span class="_ _3"> </span>if</span></div><div class="t m0 x10 h9 y3c ffe fs6 fc0 sc0 ls0 ws0">16<span class="_ _15"> </span><span class="fff fs4">end<span class="_ _3"> </span>if</span></div><div class="t m0 x10 h7 y3d ffe fs6 fc0 sc0 ls0 ws0">17<span class="_ _15"> </span><span class="ff8 fs4">k<span class="_ _2"> </span><span class="ff7">=<span class="_ _2"> </span></span>k<span class="_ _d"> </span><span class="ff7">+<span class="_ _d"> </span>1</span></span></div><div class="t m0 x10 h9 y3e ffe fs6 fc0 sc0 ls0 ws0">18<span class="_ _13"> </span><span class="fff fs4">end<span class="_ _3"> </span>while</span></div><div class="t m0 x10 h7 y3f ffe fs6 fc0 sc0 ls0 ws0">19<span class="_ _13"> </span><span class="ff8 fs4">`<span class="_ _3"> </span><span class="ff7">=<span class="_ _2"> </span></span>`<span class="_ _d"> </span><span class="ff10">−<span class="_ _11"> </span><span class="ff7">1;<span class="_ _14"> </span></span></span>g<span class="_ _2"> </span><span class="ff7">=<span class="_ _2"> </span></span>g<span class="_ _d"> </span><span class="ff7">+<span class="_ _d"> </span>1</span></span></div><div class="t m0 x10 h7 y40 ffe fs6 fc0 sc0 ls0 ws0">20<span class="_ _13"> </span><span class="ff8 fs4">A<span class="ff7">[<span class="ff9">left<span class="_ _c"></span></span>]<span class="_ _2"> </span>=<span class="_ _3"> </span></span>A<span class="ff7">[</span>`<span class="ff7">];<span class="_ _14"> </span></span>A<span class="ff7">[</span>`<span class="ff7">]<span class="_ _2"> </span>=<span class="_ _3"> </span></span>P</span></div><div class="t m0 x10 h7 y41 ffe fs6 fc0 sc0 ls0 ws0">21<span class="_ _13"> </span><span class="ff8 fs4">A<span class="ff7">[<span class="ff9">right<span class="_ _c"></span></span>]<span class="_ _2"> </span>=<span class="_ _3"> </span></span>A<span class="ff7">[</span>g<span class="_ _6"></span><span class="ff7">];<span class="_ _a"> </span></span>A<span class="ff7">[</span>g<span class="_ _6"></span><span class="ff7">]<span class="_ _2"> </span>=<span class="_ _3"> </span></span>Q</span></div><div class="t m0 x10 h7 y42 ffe fs6 fc0 sc0 ls0 ws0">22<span class="_ _13"> </span><span class="ff6 fs4">DualPivotQuicksor<span class="_ _7"></span>t<span class="ff7">(<span class="ff8">A,<span class="_ _18"> </span><span class="ff9">left<span class="_ _b"> </span></span>,<span class="_ _11"> </span>`<span class="_ _11"> </span><span class="ff10">−<span class="_ _d"> </span></span></span>1<span class="_ _6"></span>)</span></span></div><div class="t m0 x10 h7 y43 ffe fs6 fc0 sc0 ls0 ws0">23<span class="_ _13"> </span><span class="ff6 fs4">DualPivotQuicksor<span class="_ _7"></span>t<span class="ff7">(<span class="ff8">A,<span class="_ _d"> </span>`<span class="_ _11"> </span></span>+<span class="_ _d"> </span>1<span class="_ _6"></span><span class="ff8">,<span class="_ _e"> </span>g<span class="_ _d"> </span><span class="ff10">−<span class="_ _11"> </span></span></span>1)</span></span></div><div class="t m0 x10 h7 y44 ffe fs6 fc0 sc0 ls0 ws0">24<span class="_ _13"> </span><span class="ff6 fs4">DualPivotQuicksor<span class="_ _7"></span>t<span class="ff7">(<span class="ff8">A,<span class="_ _e"> </span>g<span class="_ _12"> </span></span>+<span class="_ _11"> </span>1<span class="ff8">,<span class="_ _d"> </span><span class="ff9">right<span class="_ _e"> </span></span></span>)</span></span></div><div class="t m0 x10 h9 y45 ffe fs6 fc0 sc0 ls0 ws0">25<span class="_ _0"> </span><span class="fff fs4">end<span class="_ _2"> </span>if</span></div><div class="t m0 x11 h7 y46 ff1 fs4 fc0 sc0 ls0 ws0">Figure<span class="_ _a"> </span>1:<span class="_ _12"> </span><span class="ff11">The<span class="_ _12"> </span>algorithmic<span class="_ _12"> </span>core of<span class="_ _5"> </span>dual-pivot<span class="_ _d"> </span>Quicksort<span class="_ _12"> </span>as<span class="_ _12"> </span>used</span></div><div class="t m0 x11 h7 y47 ff11 fs4 fc0 sc0 ls0 ws0">in<span class="_ _5"> </span>Java<span class="_ _5"> </span>7.<span class="_ _5"> </span>Figure<span class="_ _5"> </span>3<span class="_ _5"> </span>sho<span class="_ _4"></span>ws<span class="_ _5"> </span>the<span class="_ _5"> </span>state<span class="_ _5"> </span>of<span class="_ _5"> </span>the<span class="_ _5"> </span>arra<span class="_ _4"></span>y<span class="_ _5"> </span>after<span class="_ _5"> </span>line<span class="_ _5"> </span>18.</div><a class="l" href="#pf4" data-dest-detail='[4,"XYZ",317.689,657.81,null]'><div class="d mc" style="border-style:none;position:absolute;left:387.230461px;bottom:344.129446px;width:11.955000px;height:8.413000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4" data-dest-detail='[4,"XYZ",317.689,627.922,null]'><div class="d mc" style="border-style:none;position:absolute;left:414.254900px;bottom:344.129446px;width:11.955000px;height:8.413000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4" data-dest-detail='[4,"XYZ",54.067,203.007,null]'><div class="d mc" style="border-style:none;position:absolute;left:443.563994px;bottom:262.209463px;width:6.974000px;height:8.413000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf4" data-dest-detail='[4,"XYZ",317.689,769.392,null]'><div class="d mc" style="border-style:none;position:absolute;left:227.444076px;bottom:110.906537px;width:6.974000px;height:8.413000px;background-color:rgba(255,255,255,0.000001);"></div></a><a class="l" href="#pf3" data-dest-detail='[3,"XYZ",230.349,155.675,null]'><div class="d mc" style="border-style:none;position:absolute;left:572.107728px;bottom:126.937757px;width:33.762000px;height:9.963000px;background-color:rgba(255,255,255,0.000001);"></div></a></div><div class="pi" data-data='{"ctm":[1.679893,0.000000,0.000000,1.679893,0.000000,0.000000]}'></div></div>
